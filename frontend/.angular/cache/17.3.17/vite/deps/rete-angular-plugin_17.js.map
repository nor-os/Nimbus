{
  "version": 3,
  "sources": ["../../../../../node_modules/rete-render-utils/rete-render-utils.esm.js", "../../../../../node_modules/@angular/elements/fesm2022/elements.mjs", "../../../../../node_modules/rete-angular-plugin/17/fesm2022/rete-angular-plugin-ng17.mjs"],
  "sourcesContent": ["/*!\n* rete-render-utils v2.0.2\n* (c) 2024 Vitaliy Stoliarov\n* Released under the MIT license.\n* */\nimport _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _classCallCheck from '@babel/runtime/helpers/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/createClass';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport { BaseAreaPlugin } from 'rete-area-plugin';\nimport _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/getPrototypeOf';\nimport _inherits from '@babel/runtime/helpers/inherits';\n\n/**\n * Get classic SVG path for a connection between two points.\n * @param points Array of two points\n * @param curvature Curvature of the connection\n */\nfunction classicConnectionPath(points, curvature) {\n  var _points = _slicedToArray(points, 2),\n    _points$ = _points[0],\n    x1 = _points$.x,\n    y1 = _points$.y,\n    _points$2 = _points[1],\n    x2 = _points$2.x,\n    y2 = _points$2.y;\n  var vertical = Math.abs(y1 - y2);\n  var hx1 = x1 + Math.max(vertical / 2, Math.abs(x2 - x1)) * curvature;\n  var hx2 = x2 - Math.max(vertical / 2, Math.abs(x2 - x1)) * curvature;\n  return \"M \".concat(x1, \" \").concat(y1, \" C \").concat(hx1, \" \").concat(y1, \" \").concat(hx2, \" \").concat(y2, \" \").concat(x2, \" \").concat(y2);\n}\n\n/**\n * Get loop SVG path for a connection between two points.\n * @param points Array of two points\n * @param curvature Curvature of the loop\n * @param size Size of the loop\n */\nfunction loopConnectionPath(points, curvature, size) {\n  var _points2 = _slicedToArray(points, 2),\n    _points2$ = _points2[0],\n    x1 = _points2$.x,\n    y1 = _points2$.y,\n    _points2$2 = _points2[1],\n    x2 = _points2$2.x,\n    y2 = _points2$2.y;\n  var k = y2 > y1 ? 1 : -1;\n  var scale = size + Math.abs(x1 - x2) / (size / 2);\n  var middleX = (x1 + x2) / 2;\n  var middleY = y1 - k * scale;\n  var vertical = (y2 - y1) * curvature;\n  return \"\\n        M \".concat(x1, \" \").concat(y1, \"\\n        C \").concat(x1 + scale, \" \").concat(y1, \"\\n        \").concat(x1 + scale, \" \").concat(middleY - vertical, \"\\n        \").concat(middleX, \" \").concat(middleY, \"\\n        C \").concat(x2 - scale, \" \").concat(middleY + vertical, \"\\n        \").concat(x2 - scale, \" \").concat(y2, \"\\n        \").concat(x2, \" \").concat(y2, \"\\n    \");\n}\n\n/* eslint-disable max-statements */\n\n/**\n * Calculates the center coordinates of a child element relative to a parent element.\n * @async\n * @param child The child element whose center coordinates need to be calculated.\n * @param parent The parent element relative to which the child element's center is calculated.\n * @returns Position of the child element's center\n * @throws Error if the child element has a null offsetParent.\n */\nfunction getElementCenter(_x, _x2) {\n  return _getElementCenter.apply(this, arguments);\n}\nfunction _getElementCenter() {\n  _getElementCenter = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(child, parent) {\n    var x, y, currentElement, width, height;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (child.offsetParent) {\n            _context.next = 5;\n            break;\n          }\n          _context.next = 3;\n          return new Promise(function (res) {\n            return setTimeout(res, 0);\n          });\n        case 3:\n          _context.next = 0;\n          break;\n        case 5:\n          x = child.offsetLeft;\n          y = child.offsetTop;\n          currentElement = child.offsetParent;\n          if (currentElement) {\n            _context.next = 10;\n            break;\n          }\n          throw new Error('child has null offsetParent');\n        case 10:\n          while (currentElement !== null && currentElement !== parent) {\n            x += currentElement.offsetLeft + currentElement.clientLeft;\n            y += currentElement.offsetTop + currentElement.clientTop;\n            currentElement = currentElement.offsetParent;\n          }\n          width = child.offsetWidth;\n          height = child.offsetHeight;\n          return _context.abrupt(\"return\", {\n            x: x + width / 2,\n            y: y + height / 2\n          });\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _getElementCenter.apply(this, arguments);\n}\nvar EventEmitter = /*#__PURE__*/function () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n    _defineProperty(this, \"listeners\", new Set());\n  }\n  return _createClass(EventEmitter, [{\n    key: \"emit\",\n    value: function emit(data) {\n      this.listeners.forEach(function (listener) {\n        listener(data);\n      });\n    }\n  }, {\n    key: \"listen\",\n    value: function listen(handler) {\n      var _this = this;\n      this.listeners.add(handler);\n      return function () {\n        _this.listeners[\"delete\"](handler);\n      };\n    }\n  }]);\n}();\n\nvar SocketsPositionsStorage = /*#__PURE__*/function () {\n  function SocketsPositionsStorage() {\n    _classCallCheck(this, SocketsPositionsStorage);\n    _defineProperty(this, \"elements\", new Map());\n  }\n  return _createClass(SocketsPositionsStorage, [{\n    key: \"getPosition\",\n    value: function getPosition(data) {\n      var _found$pop$position, _found$pop;\n      var list = Array.from(this.elements.values()).flat();\n      var found = list.filter(function (item) {\n        return item.side === data.side && item.nodeId === data.nodeId && item.key === data.key;\n      });\n\n      // eslint-disable-next-line no-console\n      if (found.length > 1) console.warn(['Found more than one element for socket with same key and side.', 'Probably it was not unmounted correctly'].join(' '), data);\n      return (_found$pop$position = (_found$pop = found.pop()) === null || _found$pop === void 0 ? void 0 : _found$pop.position) !== null && _found$pop$position !== void 0 ? _found$pop$position : null;\n    }\n  }, {\n    key: \"add\",\n    value: function add(data) {\n      var existing = this.elements.get(data.element);\n      this.elements.set(data.element, existing ? [].concat(_toConsumableArray(existing.filter(function (n) {\n        return !(n.nodeId === data.nodeId && n.key === data.key && n.side === data.side);\n      })), [data]) : [data]);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(element) {\n      this.elements[\"delete\"](element);\n    }\n  }, {\n    key: \"snapshot\",\n    value: function snapshot() {\n      return Array.from(this.elements.values()).flat();\n    }\n  }]);\n}();\n\n/**\n * Abstract class for socket position calculation. It can be extended to implement custom socket position calculation.\n * @abstract\n * @listens render\n * @listens rendered\n * @listens unmount\n * @listens nodetranslated\n * @listens noderesized\n */\nvar BaseSocketPosition = /*#__PURE__*/function () {\n  function BaseSocketPosition() {\n    _classCallCheck(this, BaseSocketPosition);\n    _defineProperty(this, \"sockets\", new SocketsPositionsStorage());\n    _defineProperty(this, \"emitter\", new EventEmitter());\n    _defineProperty(this, \"area\", null);\n  }\n  return _createClass(BaseSocketPosition, [{\n    key: \"attach\",\n    value:\n    /**\n     * Attach the watcher to the area's child scope.\n     * @param scope Scope of the watcher that should be a child of `BaseAreaPlugin`\n     */\n    function attach(scope) {\n      var _this = this;\n      if (this.area) return;\n      if (!scope.hasParent()) return;\n      this.area = scope.parentScope(BaseAreaPlugin);\n\n      // eslint-disable-next-line max-statements\n      this.area.addPipe(/*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(context) {\n          var _context$data, _nodeId, _key, _side, _element, position, _nodeId2, _context$data$payload, source, target, _nodeId3;\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(context.type === 'rendered' && context.data.type === 'socket')) {\n                  _context2.next = 8;\n                  break;\n                }\n                _context$data = context.data, _nodeId = _context$data.nodeId, _key = _context$data.key, _side = _context$data.side, _element = _context$data.element;\n                _context2.next = 4;\n                return _this.calculatePosition(_nodeId, _side, _key, _element);\n              case 4:\n                position = _context2.sent;\n                if (position) {\n                  _this.sockets.add({\n                    nodeId: _nodeId,\n                    key: _key,\n                    side: _side,\n                    element: _element,\n                    position: position\n                  });\n                  _this.emitter.emit({\n                    nodeId: _nodeId,\n                    key: _key,\n                    side: _side\n                  });\n                }\n                _context2.next = 24;\n                break;\n              case 8:\n                if (!(context.type === 'unmount')) {\n                  _context2.next = 12;\n                  break;\n                }\n                _this.sockets.remove(context.data.element);\n                _context2.next = 24;\n                break;\n              case 12:\n                if (!(context.type === 'nodetranslated')) {\n                  _context2.next = 16;\n                  break;\n                }\n                _this.emitter.emit({\n                  nodeId: context.data.id\n                });\n                _context2.next = 24;\n                break;\n              case 16:\n                if (!(context.type === 'noderesized')) {\n                  _context2.next = 23;\n                  break;\n                }\n                _nodeId2 = context.data.id;\n                _context2.next = 20;\n                return Promise.all(_this.sockets.snapshot().filter(function (item) {\n                  return item.nodeId === context.data.id && item.side === 'output';\n                }).map(/*#__PURE__*/function () {\n                  var _ref2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(item) {\n                    var side, key, element, position;\n                    return _regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) switch (_context.prev = _context.next) {\n                        case 0:\n                          side = item.side, key = item.key, element = item.element;\n                          _context.next = 3;\n                          return _this.calculatePosition(_nodeId2, side, key, element);\n                        case 3:\n                          position = _context.sent;\n                          if (position) {\n                            item.position = position;\n                          }\n                        case 5:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }, _callee);\n                  }));\n                  return function (_x2) {\n                    return _ref2.apply(this, arguments);\n                  };\n                }()));\n              case 20:\n                _this.emitter.emit({\n                  nodeId: _nodeId2\n                });\n                _context2.next = 24;\n                break;\n              case 23:\n                if (context.type === 'render' && context.data.type === 'connection') {\n                  _context$data$payload = context.data.payload, source = _context$data$payload.source, target = _context$data$payload.target;\n                  _nodeId3 = source || target;\n                  _this.emitter.emit({\n                    nodeId: _nodeId3\n                  });\n                }\n              case 24:\n                return _context2.abrupt(\"return\", context);\n              case 25:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2);\n        }));\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n\n    /**\n     * Listen to socket position changes. Usually used by rendering plugins to update the start/end of the connection.\n     * @internal\n     * @param nodeId Node ID\n     * @param side Side of the socket, 'input' or 'output'\n     * @param key Socket key\n     * @param change Callback function that is called when the socket position changes\n     */\n  }, {\n    key: \"listen\",\n    value: function listen(nodeId, side, key, change) {\n      var _this2 = this;\n      var unlisten = this.emitter.listen(function (data) {\n        if (data.nodeId !== nodeId) return;\n        if ((!data.key || data.side === side) && (!data.side || data.key === key)) {\n          var _this2$area;\n          var position = _this2.sockets.getPosition({\n            side: side,\n            nodeId: nodeId,\n            key: key\n          });\n          if (!position) return;\n          var x = position.x,\n            y = position.y;\n          var nodeView = (_this2$area = _this2.area) === null || _this2$area === void 0 ? void 0 : _this2$area.nodeViews.get(nodeId);\n          if (nodeView) change({\n            x: x + nodeView.position.x,\n            y: y + nodeView.position.y\n          });\n        }\n      });\n      this.sockets.snapshot().forEach(function (data) {\n        if (data.nodeId === nodeId) _this2.emitter.emit(data);\n      });\n      return unlisten;\n    }\n  }]);\n}();\n\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\n\n/**\n * Props for `DOMSocketPosition` class.\n */\n\n/**\n * Class for socket position calculation based on DOM elements. It uses `getElementCenter` function to calculate the position.\n */\nvar DOMSocketPosition = /*#__PURE__*/function (_BaseSocketPosition) {\n  function DOMSocketPosition(props) {\n    var _this;\n    _classCallCheck(this, DOMSocketPosition);\n    _this = _callSuper(this, DOMSocketPosition);\n    _this.props = props;\n    return _this;\n  }\n  _inherits(DOMSocketPosition, _BaseSocketPosition);\n  return _createClass(DOMSocketPosition, [{\n    key: \"calculatePosition\",\n    value: function () {\n      var _calculatePosition = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(nodeId, side, key, element) {\n        var _this$area, _this$props;\n        var view, position;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              view = (_this$area = this.area) === null || _this$area === void 0 ? void 0 : _this$area.nodeViews.get(nodeId);\n              if (view !== null && view !== void 0 && view.element) {\n                _context.next = 3;\n                break;\n              }\n              return _context.abrupt(\"return\", null);\n            case 3:\n              _context.next = 5;\n              return getElementCenter(element, view.element);\n            case 5:\n              position = _context.sent;\n              if (!((_this$props = this.props) !== null && _this$props !== void 0 && _this$props.offset)) {\n                _context.next = 8;\n                break;\n              }\n              return _context.abrupt(\"return\", this.props.offset(position, nodeId, side, key));\n            case 8:\n              return _context.abrupt(\"return\", {\n                x: position.x + 12 * (side === 'input' ? -1 : 1),\n                y: position.y\n              });\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function calculatePosition(_x, _x2, _x3, _x4) {\n        return _calculatePosition.apply(this, arguments);\n      }\n      return calculatePosition;\n    }()\n  }]);\n}(BaseSocketPosition);\n\n/**\n * Wrapper function for `DOMSocketPosition` class.\n * @param props Props for `DOMSocketPosition` class\n */\nfunction getDOMSocketPosition(props) {\n  return new DOMSocketPosition(props);\n}\n\nexport { BaseSocketPosition, DOMSocketPosition, classicConnectionPath, getDOMSocketPosition, getElementCenter, loopConnectionPath };\n\n", "/**\n * @license Angular v17.3.12\n * (c) 2010-2024 Google LLC. https://angular.io/\n * License: MIT\n */\n\nimport { ComponentFactoryResolver, NgZone, Injector, ChangeDetectorRef, ApplicationRef, SimpleChange, Version } from '@angular/core';\nimport { ReplaySubject, merge } from 'rxjs';\nimport { switchMap, map } from 'rxjs/operators';\n\n/**\n * Provide methods for scheduling the execution of a callback.\n */\nconst scheduler = {\n    /**\n     * Schedule a callback to be called after some delay.\n     *\n     * Returns a function that when executed will cancel the scheduled function.\n     */\n    schedule(taskFn, delay) {\n        const id = setTimeout(taskFn, delay);\n        return () => clearTimeout(id);\n    },\n    /**\n     * Schedule a callback to be called before the next render.\n     * (If `window.requestAnimationFrame()` is not available, use `scheduler.schedule()` instead.)\n     *\n     * Returns a function that when executed will cancel the scheduled function.\n     */\n    scheduleBeforeRender(taskFn) {\n        // TODO(gkalpak): Implement a better way of accessing `requestAnimationFrame()`\n        //                (e.g. accounting for vendor prefix, SSR-compatibility, etc).\n        if (typeof window === 'undefined') {\n            // For SSR just schedule immediately.\n            return scheduler.schedule(taskFn, 0);\n        }\n        if (typeof window.requestAnimationFrame === 'undefined') {\n            const frameMs = 16;\n            return scheduler.schedule(taskFn, frameMs);\n        }\n        const id = window.requestAnimationFrame(taskFn);\n        return () => window.cancelAnimationFrame(id);\n    },\n};\n/**\n * Convert a camelCased string to kebab-cased.\n */\nfunction camelToDashCase(input) {\n    return input.replace(/[A-Z]/g, (char) => `-${char.toLowerCase()}`);\n}\n/**\n * Check whether the input is an `Element`.\n */\nfunction isElement(node) {\n    return !!node && node.nodeType === Node.ELEMENT_NODE;\n}\n/**\n * Check whether the input is a function.\n */\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\n/**\n * Convert a kebab-cased string to camelCased.\n */\nfunction kebabToCamelCase(input) {\n    return input.replace(/-([a-z\\d])/g, (_, char) => char.toUpperCase());\n}\nlet _matches;\n/**\n * Check whether an `Element` matches a CSS selector.\n * NOTE: this is duplicated from @angular/upgrade, and can\n * be consolidated in the future\n */\nfunction matchesSelector(el, selector) {\n    if (!_matches) {\n        const elProto = Element.prototype;\n        _matches =\n            elProto.matches ||\n                elProto.matchesSelector ||\n                elProto.mozMatchesSelector ||\n                elProto.msMatchesSelector ||\n                elProto.oMatchesSelector ||\n                elProto.webkitMatchesSelector;\n    }\n    return el.nodeType === Node.ELEMENT_NODE ? _matches.call(el, selector) : false;\n}\n/**\n * Test two values for strict equality, accounting for the fact that `NaN !== NaN`.\n */\nfunction strictEquals(value1, value2) {\n    return value1 === value2 || (value1 !== value1 && value2 !== value2);\n}\n/** Gets a map of default set of attributes to observe and the properties they affect. */\nfunction getDefaultAttributeToPropertyInputs(inputs) {\n    const attributeToPropertyInputs = {};\n    inputs.forEach(({ propName, templateName, transform }) => {\n        attributeToPropertyInputs[camelToDashCase(templateName)] = [propName, transform];\n    });\n    return attributeToPropertyInputs;\n}\n/**\n * Gets a component's set of inputs. Uses the injector to get the component factory where the inputs\n * are defined.\n */\nfunction getComponentInputs(component, injector) {\n    const componentFactoryResolver = injector.get(ComponentFactoryResolver);\n    const componentFactory = componentFactoryResolver.resolveComponentFactory(component);\n    return componentFactory.inputs;\n}\n\n// NOTE: This is a (slightly improved) version of what is used in ngUpgrade's\nfunction extractProjectableNodes(host, ngContentSelectors) {\n    const nodes = host.childNodes;\n    const projectableNodes = ngContentSelectors.map(() => []);\n    let wildcardIndex = -1;\n    ngContentSelectors.some((selector, i) => {\n        if (selector === '*') {\n            wildcardIndex = i;\n            return true;\n        }\n        return false;\n    });\n    for (let i = 0, ii = nodes.length; i < ii; ++i) {\n        const node = nodes[i];\n        const ngContentIndex = findMatchingIndex(node, ngContentSelectors, wildcardIndex);\n        if (ngContentIndex !== -1) {\n            projectableNodes[ngContentIndex].push(node);\n        }\n    }\n    return projectableNodes;\n}\nfunction findMatchingIndex(node, selectors, defaultIndex) {\n    let matchingIndex = defaultIndex;\n    if (isElement(node)) {\n        selectors.some((selector, i) => {\n            if (selector !== '*' && matchesSelector(node, selector)) {\n                matchingIndex = i;\n                return true;\n            }\n            return false;\n        });\n    }\n    return matchingIndex;\n}\n\n/** Time in milliseconds to wait before destroying the component ref when disconnected. */\nconst DESTROY_DELAY = 10;\n/**\n * Factory that creates new ComponentNgElementStrategy instance. Gets the component factory with the\n * constructor's injector's factory resolver and passes that factory to each strategy.\n */\nclass ComponentNgElementStrategyFactory {\n    constructor(component, injector) {\n        this.componentFactory = injector\n            .get(ComponentFactoryResolver)\n            .resolveComponentFactory(component);\n    }\n    create(injector) {\n        return new ComponentNgElementStrategy(this.componentFactory, injector);\n    }\n}\n/**\n * Creates and destroys a component ref using a component factory and handles change detection\n * in response to input changes.\n */\nclass ComponentNgElementStrategy {\n    constructor(componentFactory, injector) {\n        this.componentFactory = componentFactory;\n        this.injector = injector;\n        // Subject of `NgElementStrategyEvent` observables corresponding to the component's outputs.\n        this.eventEmitters = new ReplaySubject(1);\n        /** Merged stream of the component's output events. */\n        this.events = this.eventEmitters.pipe(switchMap((emitters) => merge(...emitters)));\n        /** Reference to the component that was created on connect. */\n        this.componentRef = null;\n        /** Reference to the component view's `ChangeDetectorRef`. */\n        this.viewChangeDetectorRef = null;\n        /**\n         * Changes that have been made to component inputs since the last change detection run.\n         * (NOTE: These are only recorded if the component implements the `OnChanges` interface.)\n         */\n        this.inputChanges = null;\n        /** Whether changes have been made to component inputs since the last change detection run. */\n        this.hasInputChanges = false;\n        /** Whether the created component implements the `OnChanges` interface. */\n        this.implementsOnChanges = false;\n        /** Whether a change detection has been scheduled to run on the component. */\n        this.scheduledChangeDetectionFn = null;\n        /** Callback function that when called will cancel a scheduled destruction on the component. */\n        this.scheduledDestroyFn = null;\n        /** Initial input values that were set before the component was created. */\n        this.initialInputValues = new Map();\n        this.unchangedInputs = new Set(this.componentFactory.inputs.map(({ propName }) => propName));\n        this.ngZone = this.injector.get(NgZone);\n        this.elementZone = typeof Zone === 'undefined' ? null : this.ngZone.run(() => Zone.current);\n    }\n    /**\n     * Initializes a new component if one has not yet been created and cancels any scheduled\n     * destruction.\n     */\n    connect(element) {\n        this.runInZone(() => {\n            // If the element is marked to be destroyed, cancel the task since the component was\n            // reconnected\n            if (this.scheduledDestroyFn !== null) {\n                this.scheduledDestroyFn();\n                this.scheduledDestroyFn = null;\n                return;\n            }\n            if (this.componentRef === null) {\n                this.initializeComponent(element);\n            }\n        });\n    }\n    /**\n     * Schedules the component to be destroyed after some small delay in case the element is just\n     * being moved across the DOM.\n     */\n    disconnect() {\n        this.runInZone(() => {\n            // Return if there is no componentRef or the component is already scheduled for destruction\n            if (this.componentRef === null || this.scheduledDestroyFn !== null) {\n                return;\n            }\n            // Schedule the component to be destroyed after a small timeout in case it is being\n            // moved elsewhere in the DOM\n            this.scheduledDestroyFn = scheduler.schedule(() => {\n                if (this.componentRef !== null) {\n                    this.componentRef.destroy();\n                    this.componentRef = null;\n                    this.viewChangeDetectorRef = null;\n                }\n            }, DESTROY_DELAY);\n        });\n    }\n    /**\n     * Returns the component property value. If the component has not yet been created, the value is\n     * retrieved from the cached initialization values.\n     */\n    getInputValue(property) {\n        return this.runInZone(() => {\n            if (this.componentRef === null) {\n                return this.initialInputValues.get(property);\n            }\n            return this.componentRef.instance[property];\n        });\n    }\n    /**\n     * Sets the input value for the property. If the component has not yet been created, the value is\n     * cached and set when the component is created.\n     */\n    setInputValue(property, value, transform) {\n        this.runInZone(() => {\n            if (transform) {\n                value = transform.call(this.componentRef?.instance, value);\n            }\n            if (this.componentRef === null) {\n                this.initialInputValues.set(property, value);\n                return;\n            }\n            // Ignore the value if it is strictly equal to the current value, except if it is `undefined`\n            // and this is the first change to the value (because an explicit `undefined` _is_ strictly\n            // equal to not having a value set at all, but we still need to record this as a change).\n            if (strictEquals(value, this.getInputValue(property)) &&\n                !(value === undefined && this.unchangedInputs.has(property))) {\n                return;\n            }\n            // Record the changed value and update internal state to reflect the fact that this input has\n            // changed.\n            this.recordInputChange(property, value);\n            this.unchangedInputs.delete(property);\n            this.hasInputChanges = true;\n            // Update the component instance and schedule change detection.\n            this.componentRef.instance[property] = value;\n            this.scheduleDetectChanges();\n        });\n    }\n    /**\n     * Creates a new component through the component factory with the provided element host and\n     * sets up its initial inputs, listens for outputs changes, and runs an initial change detection.\n     */\n    initializeComponent(element) {\n        const childInjector = Injector.create({ providers: [], parent: this.injector });\n        const projectableNodes = extractProjectableNodes(element, this.componentFactory.ngContentSelectors);\n        this.componentRef = this.componentFactory.create(childInjector, projectableNodes, element);\n        this.viewChangeDetectorRef = this.componentRef.injector.get(ChangeDetectorRef);\n        this.implementsOnChanges = isFunction(this.componentRef.instance.ngOnChanges);\n        this.initializeInputs();\n        this.initializeOutputs(this.componentRef);\n        this.detectChanges();\n        const applicationRef = this.injector.get(ApplicationRef);\n        applicationRef.attachView(this.componentRef.hostView);\n    }\n    /** Set any stored initial inputs on the component's properties. */\n    initializeInputs() {\n        this.componentFactory.inputs.forEach(({ propName, transform }) => {\n            if (this.initialInputValues.has(propName)) {\n                // Call `setInputValue()` now that the component has been instantiated to update its\n                // properties and fire `ngOnChanges()`.\n                this.setInputValue(propName, this.initialInputValues.get(propName), transform);\n            }\n        });\n        this.initialInputValues.clear();\n    }\n    /** Sets up listeners for the component's outputs so that the events stream emits the events. */\n    initializeOutputs(componentRef) {\n        const eventEmitters = this.componentFactory.outputs.map(({ propName, templateName }) => {\n            const emitter = componentRef.instance[propName];\n            return emitter.pipe(map((value) => ({ name: templateName, value })));\n        });\n        this.eventEmitters.next(eventEmitters);\n    }\n    /** Calls ngOnChanges with all the inputs that have changed since the last call. */\n    callNgOnChanges(componentRef) {\n        if (!this.implementsOnChanges || this.inputChanges === null) {\n            return;\n        }\n        // Cache the changes and set inputChanges to null to capture any changes that might occur\n        // during ngOnChanges.\n        const inputChanges = this.inputChanges;\n        this.inputChanges = null;\n        componentRef.instance.ngOnChanges(inputChanges);\n    }\n    /**\n     * Marks the component view for check, if necessary.\n     * (NOTE: This is required when the `ChangeDetectionStrategy` is set to `OnPush`.)\n     */\n    markViewForCheck(viewChangeDetectorRef) {\n        if (this.hasInputChanges) {\n            this.hasInputChanges = false;\n            viewChangeDetectorRef.markForCheck();\n        }\n    }\n    /**\n     * Schedules change detection to run on the component.\n     * Ignores subsequent calls if already scheduled.\n     */\n    scheduleDetectChanges() {\n        if (this.scheduledChangeDetectionFn) {\n            return;\n        }\n        this.scheduledChangeDetectionFn = scheduler.scheduleBeforeRender(() => {\n            this.scheduledChangeDetectionFn = null;\n            this.detectChanges();\n        });\n    }\n    /**\n     * Records input changes so that the component receives SimpleChanges in its onChanges function.\n     */\n    recordInputChange(property, currentValue) {\n        // Do not record the change if the component does not implement `OnChanges`.\n        if (!this.implementsOnChanges) {\n            return;\n        }\n        if (this.inputChanges === null) {\n            this.inputChanges = {};\n        }\n        // If there already is a change, modify the current value to match but leave the values for\n        // `previousValue` and `isFirstChange`.\n        const pendingChange = this.inputChanges[property];\n        if (pendingChange) {\n            pendingChange.currentValue = currentValue;\n            return;\n        }\n        const isFirstChange = this.unchangedInputs.has(property);\n        const previousValue = isFirstChange ? undefined : this.getInputValue(property);\n        this.inputChanges[property] = new SimpleChange(previousValue, currentValue, isFirstChange);\n    }\n    /** Runs change detection on the component. */\n    detectChanges() {\n        if (this.componentRef === null) {\n            return;\n        }\n        this.callNgOnChanges(this.componentRef);\n        this.markViewForCheck(this.viewChangeDetectorRef);\n        this.componentRef.changeDetectorRef.detectChanges();\n    }\n    /** Runs in the angular zone, if present. */\n    runInZone(fn) {\n        return this.elementZone && Zone.current !== this.elementZone ? this.ngZone.run(fn) : fn();\n    }\n}\n\n/**\n * Implements the functionality needed for a custom element.\n *\n * @publicApi\n */\nclass NgElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * A subscription to change, connect, and disconnect events in the custom element.\n         */\n        this.ngElementEventsSubscription = null;\n    }\n}\n/**\n *  @description Creates a custom element class based on an Angular component.\n *\n * Builds a class that encapsulates the functionality of the provided component and\n * uses the configuration information to provide more context to the class.\n * Takes the component factory's inputs and outputs to convert them to the proper\n * custom element API and add hooks to input changes.\n *\n * The configuration's injector is the initial injector set on the class,\n * and used by default for each created instance.This behavior can be overridden with the\n * static property to affect all newly created instances, or as a constructor argument for\n * one-off creations.\n *\n * @see [Angular Elements Overview](guide/elements \"Turning Angular components into custom elements\")\n *\n * @param component The component to transform.\n * @param config A configuration that provides initialization information to the created class.\n * @returns The custom-element construction class, which can be registered with\n * a browser's `CustomElementRegistry`.\n *\n * @publicApi\n */\nfunction createCustomElement(component, config) {\n    const inputs = getComponentInputs(component, config.injector);\n    const strategyFactory = config.strategyFactory || new ComponentNgElementStrategyFactory(component, config.injector);\n    const attributeToPropertyInputs = getDefaultAttributeToPropertyInputs(inputs);\n    class NgElementImpl extends NgElement {\n        // Work around a bug in closure typed optimizations(b/79557487) where it is not honoring static\n        // field externs. So using quoted access to explicitly prevent renaming.\n        static { this['observedAttributes'] = Object.keys(attributeToPropertyInputs); }\n        get ngElementStrategy() {\n            // TODO(andrewseguin): Add e2e tests that cover cases where the constructor isn't called. For\n            // now this is tested using a Google internal test suite.\n            if (!this._ngElementStrategy) {\n                const strategy = (this._ngElementStrategy = strategyFactory.create(this.injector || config.injector));\n                // Re-apply pre-existing input values (set as properties on the element) through the\n                // strategy.\n                inputs.forEach(({ propName, transform }) => {\n                    if (!this.hasOwnProperty(propName)) {\n                        // No pre-existing value for `propName`.\n                        return;\n                    }\n                    // Delete the property from the instance and re-apply it through the strategy.\n                    const value = this[propName];\n                    delete this[propName];\n                    strategy.setInputValue(propName, value, transform);\n                });\n            }\n            return this._ngElementStrategy;\n        }\n        constructor(injector) {\n            super();\n            this.injector = injector;\n        }\n        attributeChangedCallback(attrName, oldValue, newValue, namespace) {\n            const [propName, transform] = attributeToPropertyInputs[attrName];\n            this.ngElementStrategy.setInputValue(propName, newValue, transform);\n        }\n        connectedCallback() {\n            // For historical reasons, some strategies may not have initialized the `events` property\n            // until after `connect()` is run. Subscribe to `events` if it is available before running\n            // `connect()` (in order to capture events emitted during initialization), otherwise subscribe\n            // afterwards.\n            //\n            // TODO: Consider deprecating/removing the post-connect subscription in a future major version\n            //       (e.g. v11).\n            let subscribedToEvents = false;\n            if (this.ngElementStrategy.events) {\n                // `events` are already available: Subscribe to it asap.\n                this.subscribeToEvents();\n                subscribedToEvents = true;\n            }\n            this.ngElementStrategy.connect(this);\n            if (!subscribedToEvents) {\n                // `events` were not initialized before running `connect()`: Subscribe to them now.\n                // The events emitted during the component initialization have been missed, but at least\n                // future events will be captured.\n                this.subscribeToEvents();\n            }\n        }\n        disconnectedCallback() {\n            // Not using `this.ngElementStrategy` to avoid unnecessarily creating the `NgElementStrategy`.\n            if (this._ngElementStrategy) {\n                this._ngElementStrategy.disconnect();\n            }\n            if (this.ngElementEventsSubscription) {\n                this.ngElementEventsSubscription.unsubscribe();\n                this.ngElementEventsSubscription = null;\n            }\n        }\n        subscribeToEvents() {\n            // Listen for events from the strategy and dispatch them as custom events.\n            this.ngElementEventsSubscription = this.ngElementStrategy.events.subscribe((e) => {\n                const customEvent = new CustomEvent(e.name, { detail: e.value });\n                this.dispatchEvent(customEvent);\n            });\n        }\n    }\n    // Add getters and setters to the prototype for each property input.\n    inputs.forEach(({ propName, transform }) => {\n        Object.defineProperty(NgElementImpl.prototype, propName, {\n            get() {\n                return this.ngElementStrategy.getInputValue(propName);\n            },\n            set(newValue) {\n                this.ngElementStrategy.setInputValue(propName, newValue, transform);\n            },\n            configurable: true,\n            enumerable: true,\n        });\n    });\n    return NgElementImpl;\n}\n\n/**\n * @publicApi\n */\nconst VERSION = new Version('17.3.12');\n\n/**\n * @module\n * @description\n * Entry point for all public APIs of the `elements` package.\n */\n// This file only reexports content of the `src` folder. Keep it that way.\n\n// This file is not used to build this module. It is only used during editing\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { NgElement, VERSION, createCustomElement };\n\n", "import { getUID, ClassicPreset, Scope } from 'rete';\nimport { getDOMSocketPosition, loopConnectionPath, classicConnectionPath } from 'rete-render-utils';\nimport * as i0 from '@angular/core';\nimport { Directive, Input, Pipe, Component, HostBinding, HostListener, EventEmitter, Output, NgModule } from '@angular/core';\nimport * as i1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { BaseAreaPlugin } from 'rete-area-plugin';\nimport { createCustomElement } from '@angular/elements';\n\nclass RefDirective {\n    el;\n    data;\n    emit;\n    constructor(el) {\n        this.el = el;\n    }\n    ngOnChanges() {\n        this.emit({ type: 'render', data: { ...this.data, element: this.el.nativeElement } });\n    }\n    ngOnDestroy() {\n        this.emit({ type: 'unmount', data: { element: this.el.nativeElement } });\n    }\n    static ɵfac = function RefDirective_Factory(t) { return new (t || RefDirective)(i0.ɵɵdirectiveInject(i0.ElementRef)); };\n    static ɵdir = /*@__PURE__*/ i0.ɵɵdefineDirective({ type: RefDirective, selectors: [[\"\", \"refComponent\", \"\"]], inputs: { data: \"data\", emit: \"emit\" }, features: [i0.ɵɵNgOnChangesFeature] });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RefDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[refComponent]'\n            }]\n    }], () => [{ type: i0.ElementRef }], { data: [{\n            type: Input\n        }], emit: [{\n            type: Input\n        }] }); })();\n\nclass ImpureKeyvaluePipe {\n    transform(value, compareFn) {\n        if (!value || typeof value !== 'object') {\n            return [];\n        }\n        const result = Object.entries(value).map(([key, val]) => ({ key, value: val }));\n        if (compareFn) {\n            result.sort(compareFn);\n        }\n        return result;\n    }\n    static ɵfac = function ImpureKeyvaluePipe_Factory(t) { return new (t || ImpureKeyvaluePipe)(); };\n    static ɵpipe = /*@__PURE__*/ i0.ɵɵdefinePipe({ name: \"keyvalueimpure\", type: ImpureKeyvaluePipe, pure: false });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ImpureKeyvaluePipe, [{\n        type: Pipe,\n        args: [{\n                name: 'keyvalueimpure',\n                pure: false\n            }]\n    }], null, null); })();\n\nconst _c0$1 = (a2, a3, a4, a5) => ({ type: \"socket\", side: \"output\", key: a2, nodeId: a3, payload: a4, seed: a5 });\nfunction NodeComponent_div_2_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\", 6);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const output_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵattribute(\"data-testid\", \"output-\" + output_r3.key);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(output_r3.value == null ? null : output_r3.value.label);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"data\", i0.ɵɵpureFunction4(4, _c0$1, output_r3.key, ctx_r0.data.id, output_r3.value == null ? null : output_r3.value.socket, ctx_r0.seed))(\"emit\", ctx_r0.emit);\n} }\nconst _c1 = a1 => ({ type: \"control\", payload: a1 });\nfunction NodeComponent_div_4_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 7);\n} if (rf & 2) {\n    const control_r4 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"data\", i0.ɵɵpureFunction1(3, _c1, control_r4.value))(\"emit\", ctx_r1.emit);\n    i0.ɵɵattribute(\"data-testid\", \"control-\" + control_r4.key);\n} }\nfunction NodeComponent_div_6_div_2_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const input_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(input_r5.value == null ? null : input_r5.value.label);\n} }\nconst _c2 = (a2, a3, a4, a5) => ({ type: \"socket\", side: \"input\", key: a2, nodeId: a3, payload: a4, seed: a5 });\nfunction NodeComponent_div_6_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelement(1, \"div\", 9);\n    i0.ɵɵtemplate(2, NodeComponent_div_6_div_2_Template, 2, 1, \"div\", 10);\n    i0.ɵɵelement(3, \"div\", 11);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const input_r5 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵattribute(\"data-testid\", \"input-\" + input_r5.key);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"data\", i0.ɵɵpureFunction4(8, _c2, input_r5.key, ctx_r2.data.id, input_r5.value == null ? null : input_r5.value.socket, ctx_r2.seed))(\"emit\", ctx_r2.emit);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !(input_r5.value == null ? null : input_r5.value.control) || !(input_r5.value == null ? null : input_r5.value.showControl));\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"display\", (input_r5.value == null ? null : input_r5.value.control) && (input_r5.value == null ? null : input_r5.value.showControl) ? \"\" : \"none\");\n    i0.ɵɵproperty(\"data\", i0.ɵɵpureFunction1(13, _c1, input_r5.value == null ? null : input_r5.value.control))(\"emit\", ctx_r2.emit);\n} }\nclass NodeComponent {\n    cdr;\n    data;\n    emit;\n    rendered;\n    seed = 0;\n    get width() {\n        return this.data.width;\n    }\n    get height() {\n        return this.data.height;\n    }\n    get selected() {\n        return this.data.selected;\n    }\n    constructor(cdr) {\n        this.cdr = cdr;\n        this.cdr.detach();\n    }\n    ngOnChanges() {\n        this.cdr.detectChanges();\n        requestAnimationFrame(() => this.rendered());\n        this.seed++; // force render sockets\n    }\n    sortByIndex(a, b) {\n        const ai = a.value?.index || 0;\n        const bi = b.value?.index || 0;\n        return ai - bi;\n    }\n    static ɵfac = function NodeComponent_Factory(t) { return new (t || NodeComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef)); };\n    static ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: NodeComponent, selectors: [[\"ng-component\"]], hostAttrs: [\"data-testid\", \"node\"], hostVars: 6, hostBindings: function NodeComponent_HostBindings(rf, ctx) { if (rf & 2) {\n            i0.ɵɵstyleProp(\"width\", ctx.width, \"px\")(\"height\", ctx.height, \"px\");\n            i0.ɵɵclassProp(\"selected\", ctx.selected);\n        } }, inputs: { data: \"data\", emit: \"emit\", rendered: \"rendered\" }, features: [i0.ɵɵNgOnChangesFeature], decls: 8, vars: 13, consts: [[\"data-testid\", \"title\", 1, \"title\"], [\"class\", \"output\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"control\", \"refComponent\", \"\", 3, \"data\", \"emit\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"input\", 4, \"ngFor\", \"ngForOf\"], [1, \"output\"], [\"data-testid\", \"output-title\", 1, \"output-title\"], [\"refComponent\", \"\", \"data-testid\", \"output-socket\", 1, \"output-socket\", 3, \"data\", \"emit\"], [\"refComponent\", \"\", 1, \"control\", 3, \"data\", \"emit\"], [1, \"input\"], [\"refComponent\", \"\", \"data-testid\", \"input-socket\", 1, \"input-socket\", 3, \"data\", \"emit\"], [\"class\", \"input-title\", \"data-testid\", \"input-title\", 4, \"ngIf\"], [\"refComponent\", \"\", \"data-testid\", \"input-control\", 1, \"input-control\", 3, \"data\", \"emit\"], [\"data-testid\", \"input-title\", 1, \"input-title\"]], template: function NodeComponent_Template(rf, ctx) { if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0);\n            i0.ɵɵtext(1);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(2, NodeComponent_div_2_Template, 4, 9, \"div\", 1);\n            i0.ɵɵpipe(3, \"keyvalueimpure\");\n            i0.ɵɵtemplate(4, NodeComponent_div_4_Template, 1, 5, \"div\", 2);\n            i0.ɵɵpipe(5, \"keyvalueimpure\");\n            i0.ɵɵtemplate(6, NodeComponent_div_6_Template, 4, 15, \"div\", 3);\n            i0.ɵɵpipe(7, \"keyvalueimpure\");\n        } if (rf & 2) {\n            i0.ɵɵadvance(1);\n            i0.ɵɵtextInterpolate(ctx.data.label);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(3, 4, ctx.data.outputs, ctx.sortByIndex));\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(5, 7, ctx.data.controls, ctx.sortByIndex));\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(7, 10, ctx.data.inputs, ctx.sortByIndex));\n        } }, dependencies: [i1.NgForOf, i1.NgIf, RefDirective, ImpureKeyvaluePipe], styles: [\"[_nghost-%COMP%]{display:block;background:rgba(110,136,255,.8);border:2px solid #4e58bf;border-radius:10px;cursor:pointer;box-sizing:border-box;width:180px;height:auto;padding-bottom:6px;position:relative;-webkit-user-select:none;user-select:none;line-height:initial;font-family:Arial}[_nghost-%COMP%]:hover{background:rgba(130,153,255,.8)}.selected[_nghost-%COMP%]{background:#ffd92c;border-color:#e3c000}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-family:sans-serif;font-size:18px;padding:8px}[_nghost-%COMP%]   .output[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]   .input[_ngcontent-%COMP%]{text-align:left}[_nghost-%COMP%]   .input-title[_ngcontent-%COMP%], [_nghost-%COMP%]   .output-title[_ngcontent-%COMP%]{vertical-align:middle;color:#fff;display:inline-block;font-family:sans-serif;font-size:14px;margin:6px;line-height:24px}[_nghost-%COMP%]   .input-title[hidden][_ngcontent-%COMP%], [_nghost-%COMP%]   .output-title[hidden][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .output-socket[_ngcontent-%COMP%]{text-align:right;margin-right:-18px;display:inline-block}[_nghost-%COMP%]   .input-socket[_ngcontent-%COMP%]{text-align:left;margin-left:-18px;display:inline-block}[_nghost-%COMP%]   .input-control[_ngcontent-%COMP%]{z-index:1;width:calc(100% - 36px);vertical-align:middle;display:inline-block}[_nghost-%COMP%]   .control[_ngcontent-%COMP%]{padding:6px 18px}\"] });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NodeComponent, [{\n        type: Component,\n        args: [{ host: {\n                    'data-testid': 'node'\n                }, template: \"<div class=\\\"title\\\" data-testid=\\\"title\\\">{{data.label}}</div>\\n<div class=\\\"output\\\" *ngFor=\\\"let output of data.outputs | keyvalueimpure: sortByIndex\\\" [attr.data-testid]=\\\"'output-'+output.key\\\">\\n    <div class=\\\"output-title\\\" data-testid=\\\"output-title\\\">{{output.value?.label}}</div>\\n    <div\\n        class=\\\"output-socket\\\"\\n        refComponent\\n        [data]=\\\"{type: 'socket', side: 'output', key: output.key, nodeId: data.id, payload: output.value?.socket, seed: seed }\\\"\\n        [emit]=\\\"emit\\\"\\n        data-testid=\\\"output-socket\\\"\\n    ></div>\\n</div>\\n<div\\n    class=\\\"control\\\"\\n    *ngFor=\\\"let control of data.controls | keyvalueimpure: sortByIndex\\\"\\n    refComponent\\n    [data]=\\\"{type: 'control', payload: control.value }\\\"\\n    [emit]=\\\"emit\\\"\\n    [attr.data-testid]=\\\"'control-'+control.key\\\"\\n></div>\\n<div class=\\\"input\\\" *ngFor=\\\"let input of data.inputs | keyvalueimpure: sortByIndex\\\" [attr.data-testid]=\\\"'input-'+input.key\\\">\\n    <div\\n        class=\\\"input-socket\\\"\\n        refComponent\\n        [data]=\\\"{type: 'socket', side: 'input', key: input.key, nodeId: data.id, payload: input.value?.socket, seed: seed }\\\"\\n        [emit]=\\\"emit\\\"\\n        data-testid=\\\"input-socket\\\"\\n    ></div>\\n    <div class=\\\"input-title\\\" data-testid=\\\"input-title\\\" *ngIf=\\\"!input.value?.control || !input.value?.showControl\\\">{{input.value?.label}}</div>\\n    <div\\n        class=\\\"input-control\\\"\\n        [style.display]=\\\"input.value?.control && input.value?.showControl ? '' : 'none'\\\"\\n        refComponent\\n        [data]=\\\"{type: 'control', payload: input.value?.control }\\\"\\n        [emit]=\\\"emit\\\"\\n        data-testid=\\\"input-control\\\"\\n    ></div>\\n</div>\\n\", styles: [\":host{display:block;background:rgba(110,136,255,.8);border:2px solid #4e58bf;border-radius:10px;cursor:pointer;box-sizing:border-box;width:180px;height:auto;padding-bottom:6px;position:relative;-webkit-user-select:none;user-select:none;line-height:initial;font-family:Arial}:host:hover{background:rgba(130,153,255,.8)}:host.selected{background:#ffd92c;border-color:#e3c000}:host .title{color:#fff;font-family:sans-serif;font-size:18px;padding:8px}:host .output{text-align:right}:host .input{text-align:left}:host .input-title,:host .output-title{vertical-align:middle;color:#fff;display:inline-block;font-family:sans-serif;font-size:14px;margin:6px;line-height:24px}:host .input-title[hidden],:host .output-title[hidden]{display:none}:host .output-socket{text-align:right;margin-right:-18px;display:inline-block}:host .input-socket{text-align:left;margin-left:-18px;display:inline-block}:host .input-control{z-index:1;width:calc(100% - 36px);vertical-align:middle;display:inline-block}:host .control{padding:6px 18px}\\n\"] }]\n    }], () => [{ type: i0.ChangeDetectorRef }], { data: [{\n            type: Input\n        }], emit: [{\n            type: Input\n        }], rendered: [{\n            type: Input\n        }], width: [{\n            type: HostBinding,\n            args: ['style.width.px']\n        }], height: [{\n            type: HostBinding,\n            args: ['style.height.px']\n        }], selected: [{\n            type: HostBinding,\n            args: ['class.selected']\n        }] }); })();\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassDebugInfo(NodeComponent, { className: \"NodeComponent\", filePath: \"presets/classic/components/node/node.component.ts\", lineNumber: 17 }); })();\n\nclass SocketComponent {\n    cdr;\n    data;\n    rendered;\n    get title() {\n        return this.data.name;\n    }\n    constructor(cdr) {\n        this.cdr = cdr;\n        this.cdr.detach();\n    }\n    ngOnChanges() {\n        this.cdr.detectChanges();\n        requestAnimationFrame(() => this.rendered());\n    }\n    static ɵfac = function SocketComponent_Factory(t) { return new (t || SocketComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef)); };\n    static ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: SocketComponent, selectors: [[\"ng-component\"]], hostVars: 1, hostBindings: function SocketComponent_HostBindings(rf, ctx) { if (rf & 2) {\n            i0.ɵɵhostProperty(\"title\", ctx.title);\n        } }, inputs: { data: \"data\", rendered: \"rendered\" }, features: [i0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function SocketComponent_Template(rf, ctx) { }, styles: [\"[_nghost-%COMP%]{display:inline-block;cursor:pointer;border:1px solid white;border-radius:12px;width:24px;height:24px;margin:6px;vertical-align:middle;background:#96b38a;z-index:2;box-sizing:border-box}[_nghost-%COMP%]:hover{border-width:4px}.multiple[_nghost-%COMP%]{border-color:#ff0}.output[_nghost-%COMP%]{margin-right:-12px}.input[_nghost-%COMP%]{margin-left:-12px}\"] });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(SocketComponent, [{\n        type: Component,\n        args: [{ template: ``, styles: [\":host{display:inline-block;cursor:pointer;border:1px solid white;border-radius:12px;width:24px;height:24px;margin:6px;vertical-align:middle;background:#96b38a;z-index:2;box-sizing:border-box}:host:hover{border-width:4px}:host.multiple{border-color:#ff0}:host.output{margin-right:-12px}:host.input{margin-left:-12px}\\n\"] }]\n    }], () => [{ type: i0.ChangeDetectorRef }], { data: [{\n            type: Input\n        }], rendered: [{\n            type: Input\n        }], title: [{\n            type: HostBinding,\n            args: ['title']\n        }] }); })();\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassDebugInfo(SocketComponent, { className: \"SocketComponent\", filePath: \"presets/classic/components/socket/socket.component.ts\", lineNumber: 7 }); })();\n\nclass ControlComponent {\n    cdr;\n    data;\n    rendered;\n    pointerdown(event) {\n        event.stopPropagation();\n    }\n    constructor(cdr) {\n        this.cdr = cdr;\n        this.cdr.detach();\n    }\n    ngOnChanges(changes) {\n        const seed = changes['seed'];\n        const data = changes['data'];\n        if ((seed && seed.currentValue !== seed.previousValue)\n            || (data && data.currentValue !== data.previousValue)) {\n            this.cdr.detectChanges();\n        }\n        requestAnimationFrame(() => this.rendered());\n    }\n    onChange(e) {\n        const target = e.target;\n        const value = (this.data.type === 'number'\n            ? +target.value\n            : target.value);\n        this.data.setValue(value);\n        this.cdr.detectChanges();\n    }\n    static ɵfac = function ControlComponent_Factory(t) { return new (t || ControlComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef)); };\n    static ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ControlComponent, selectors: [[\"ng-component\"]], hostBindings: function ControlComponent_HostBindings(rf, ctx) { if (rf & 1) {\n            i0.ɵɵlistener(\"pointerdown\", function ControlComponent_pointerdown_HostBindingHandler($event) { return ctx.pointerdown($event); });\n        } }, inputs: { data: \"data\", rendered: \"rendered\" }, features: [i0.ɵɵNgOnChangesFeature], decls: 1, vars: 3, consts: [[3, \"value\", \"readonly\", \"type\", \"input\"]], template: function ControlComponent_Template(rf, ctx) { if (rf & 1) {\n            i0.ɵɵelementStart(0, \"input\", 0);\n            i0.ɵɵlistener(\"input\", function ControlComponent_Template_input_input_0_listener($event) { return ctx.onChange($event); });\n            i0.ɵɵelementEnd();\n        } if (rf & 2) {\n            i0.ɵɵproperty(\"value\", ctx.data.value)(\"readonly\", ctx.data.readonly)(\"type\", ctx.data.type);\n        } }, styles: [\"input[_ngcontent-%COMP%]{width:100%;border-radius:30px;background-color:#fff;padding:2px 6px;border:1px solid #999;font-size:110%;box-sizing:border-box}\"] });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ControlComponent, [{\n        type: Component,\n        args: [{ template: \"<input\\n  [value]=\\\"data.value\\\"\\n  [readonly]=\\\"data.readonly\\\"\\n  [type]=\\\"data.type\\\"\\n  (input)=\\\"onChange($event)\\\"\\n/>\\n\", styles: [\"input{width:100%;border-radius:30px;background-color:#fff;padding:2px 6px;border:1px solid #999;font-size:110%;box-sizing:border-box}\\n\"] }]\n    }], () => [{ type: i0.ChangeDetectorRef }], { data: [{\n            type: Input\n        }], rendered: [{\n            type: Input\n        }], pointerdown: [{\n            type: HostListener,\n            args: ['pointerdown', ['$event']]\n        }] }); })();\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassDebugInfo(ControlComponent, { className: \"ControlComponent\", filePath: \"presets/classic/components/control/control.component.ts\", lineNumber: 8 }); })();\n\nclass ConnectionComponent {\n    data;\n    start;\n    end;\n    path;\n    static ɵfac = function ConnectionComponent_Factory(t) { return new (t || ConnectionComponent)(); };\n    static ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ConnectionComponent, selectors: [[\"connection\"]], inputs: { data: \"data\", start: \"start\", end: \"end\", path: \"path\" }, decls: 2, vars: 1, consts: [[\"data-testid\", \"connection\"]], template: function ConnectionComponent_Template(rf, ctx) { if (rf & 1) {\n            i0.ɵɵnamespaceSVG();\n            i0.ɵɵelementStart(0, \"svg\", 0);\n            i0.ɵɵelement(1, \"path\");\n            i0.ɵɵelementEnd();\n        } if (rf & 2) {\n            i0.ɵɵadvance(1);\n            i0.ɵɵattribute(\"d\", ctx.path);\n        } }, styles: [\"svg[_ngcontent-%COMP%]{overflow:visible!important;position:absolute;pointer-events:none;width:9999px;height:9999px}svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:none;stroke-width:5px;stroke:#4682b4;pointer-events:auto}\"] });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ConnectionComponent, [{\n        type: Component,\n        args: [{ selector: 'connection', template: \"<svg data-testid=\\\"connection\\\">\\n    <path [attr.d]=\\\"path\\\" />\\n</svg>\\n\", styles: [\"svg{overflow:visible!important;position:absolute;pointer-events:none;width:9999px;height:9999px}svg path{fill:none;stroke-width:5px;stroke:#4682b4;pointer-events:auto}\\n\"] }]\n    }], null, { data: [{\n            type: Input\n        }], start: [{\n            type: Input\n        }], end: [{\n            type: Input\n        }], path: [{\n            type: Input\n        }] }); })();\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassDebugInfo(ConnectionComponent, { className: \"ConnectionComponent\", filePath: \"presets/classic/components/connection/connection.component.ts\", lineNumber: 12 }); })();\n\nclass ConnectionWrapperComponent {\n    cdr;\n    viewContainerRef;\n    componentFactoryResolver;\n    data;\n    start;\n    end;\n    path;\n    rendered;\n    connectionComponent;\n    ref;\n    startOb = null;\n    get _start() {\n        return 'x' in this.start ? this.start : this.startOb;\n    }\n    endOb = null;\n    get _end() {\n        return 'x' in this.end ? this.end : this.endOb;\n    }\n    _path;\n    constructor(cdr, viewContainerRef, componentFactoryResolver) {\n        this.cdr = cdr;\n        this.viewContainerRef = viewContainerRef;\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.cdr.detach();\n    }\n    async ngOnChanges() {\n        await this.updatePath();\n        requestAnimationFrame(() => this.rendered());\n        this.cdr.detectChanges();\n        this.update();\n    }\n    async updatePath() {\n        if (this._start && this._end) {\n            this._path = await this.path(this._start, this._end);\n        }\n    }\n    ngOnInit() {\n        if (typeof this.start === 'function') {\n            this.start(async (value) => {\n                this.startOb = value;\n                await this.updatePath();\n                this.cdr.detectChanges();\n                this.update();\n            });\n        }\n        if (typeof this.end === 'function') {\n            this.end(async (value) => {\n                this.endOb = value;\n                await this.updatePath();\n                this.cdr.detectChanges();\n                this.update();\n            });\n        }\n        const componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.connectionComponent);\n        this.viewContainerRef.clear();\n        this.ref = this.viewContainerRef.createComponent(componentFactory);\n        this.update();\n    }\n    update() {\n        this.ref.instance.data = this.data;\n        this.ref.instance.start = this._start;\n        this.ref.instance.end = this._end;\n        this.ref.instance.path = this._path;\n        this.ref.changeDetectorRef.markForCheck();\n    }\n    static ɵfac = function ConnectionWrapperComponent_Factory(t) { return new (t || ConnectionWrapperComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(i0.ComponentFactoryResolver)); };\n    static ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ConnectionWrapperComponent, selectors: [[\"ng-component\"]], inputs: { data: \"data\", start: \"start\", end: \"end\", path: \"path\", rendered: \"rendered\", connectionComponent: \"connectionComponent\" }, features: [i0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function ConnectionWrapperComponent_Template(rf, ctx) { }, encapsulation: 2 });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ConnectionWrapperComponent, [{\n        type: Component,\n        args: [{\n                template: ''\n            }]\n    }], () => [{ type: i0.ChangeDetectorRef }, { type: i0.ViewContainerRef }, { type: i0.ComponentFactoryResolver }], { data: [{\n            type: Input\n        }], start: [{\n            type: Input\n        }], end: [{\n            type: Input\n        }], path: [{\n            type: Input\n        }], rendered: [{\n            type: Input\n        }], connectionComponent: [{\n            type: Input\n        }] }); })();\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassDebugInfo(ConnectionWrapperComponent, { className: \"ConnectionWrapperComponent\", filePath: \"presets/classic/components/connection/connection-wrapper.component.ts\", lineNumber: 10 }); })();\n\n/**\n * Classic preset for rendering nodes, connections, controls and sockets.\n */\nfunction setup$3(props) {\n    const positionWatcher = typeof props?.socketPositionWatcher === 'undefined'\n        ? getDOMSocketPosition() // fix Type instantiation is excessively deep and possibly infinite.\n        : props?.socketPositionWatcher;\n    const { node, connection, socket, control } = props?.customize || {};\n    return {\n        attach(plugin) {\n            positionWatcher.attach(plugin);\n        },\n        update(context) {\n            const data = context.data.payload;\n            if (context.data.type === 'connection') {\n                const { start, end } = context.data;\n                return {\n                    data,\n                    ...(start ? { start } : {}),\n                    ...(end ? { end } : {}),\n                };\n            }\n            return { data };\n        },\n        mount(context, plugin) {\n            const parent = plugin.parentScope();\n            const emit = parent.emit.bind(parent);\n            const rendered = () => {\n                emit({ type: 'rendered', data: context.data });\n            };\n            if (context.data.type === 'node') {\n                const component = node ? node(context.data) : NodeComponent;\n                return {\n                    key: `node-${context.data.payload.id}`,\n                    component,\n                    props: {\n                        data: context.data.payload,\n                        emit,\n                        rendered\n                    }\n                };\n            }\n            if (context.data.type === 'connection') {\n                const component = connection ? connection(context.data) : ConnectionComponent;\n                const id = context.data.payload.id;\n                const { sourceOutput, targetInput, source, target } = context.data.payload;\n                const { start, end, payload } = context.data;\n                return {\n                    key: `connection-${id}`,\n                    component: ConnectionWrapperComponent,\n                    props: {\n                        connectionComponent: component,\n                        data: payload,\n                        start: start || ((change) => positionWatcher.listen(source, 'output', sourceOutput, change)),\n                        end: end || ((change) => positionWatcher.listen(target, 'input', targetInput, change)),\n                        path: async (start, end) => {\n                            const response = await plugin.emit({ type: 'connectionpath', data: { payload, points: [start, end] } });\n                            if (!response)\n                                return '';\n                            const { path, points } = response.data;\n                            const curvature = 0.3;\n                            if (!path && points.length !== 2)\n                                throw new Error('cannot render connection with a custom number of points');\n                            if (!path)\n                                return payload.isLoop\n                                    ? loopConnectionPath(points, curvature, 120)\n                                    : classicConnectionPath(points, curvature);\n                            return path;\n                        },\n                        rendered\n                    }\n                };\n            }\n            if (context.data.type === 'socket') {\n                const component = socket ? socket(context.data) : SocketComponent;\n                return {\n                    key: `socket-${getUID()}`,\n                    component,\n                    props: {\n                        data: context.data.payload,\n                        rendered\n                    }\n                };\n            }\n            if (context.data.type === 'control') {\n                const component = control\n                    ? control(context.data)\n                    : (context.data.payload instanceof ClassicPreset.InputControl\n                        ? ControlComponent\n                        : null);\n                if (component) {\n                    return {\n                        key: `control-${context.data.payload.id}`,\n                        component,\n                        props: {\n                            data: context.data.payload,\n                            rendered\n                        }\n                    };\n                }\n                return;\n            }\n            return;\n        }\n    };\n}\n\nvar index$4 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    setup: setup$3\n});\n\nfunction debounce(cb) {\n    return {\n        timeout: null,\n        cancel() {\n            if (this.timeout) {\n                window.clearTimeout(this.timeout);\n                this.timeout = null;\n            }\n        },\n        call(delay) {\n            this.timeout = window.setTimeout(() => {\n                cb();\n            }, delay);\n        }\n    };\n}\n\nclass ContextMenuSearchComponent {\n    value;\n    update = new EventEmitter();\n    static ɵfac = function ContextMenuSearchComponent_Factory(t) { return new (t || ContextMenuSearchComponent)(); };\n    static ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ContextMenuSearchComponent, selectors: [[\"context-menu-search\"]], inputs: { value: \"value\" }, outputs: { update: \"update\" }, decls: 1, vars: 1, consts: [[\"data-testid\", \"context-menu-search-input\", 1, \"search\", 3, \"value\", \"input\"]], template: function ContextMenuSearchComponent_Template(rf, ctx) { if (rf & 1) {\n            i0.ɵɵelementStart(0, \"input\", 0);\n            i0.ɵɵlistener(\"input\", function ContextMenuSearchComponent_Template_input_input_0_listener($event) { let tmp_b_0; return ctx.update.emit(((tmp_b_0 = $event.target) == null ? null : tmp_b_0.value) || \"\"); });\n            i0.ɵɵelementEnd();\n        } if (rf & 2) {\n            i0.ɵɵproperty(\"value\", ctx.value);\n        } }, styles: [\".search[_ngcontent-%COMP%]{color:#fff;padding:1px 8px;border:1px solid white;border-radius:10px;font-size:16px;font-family:serif;width:100%;box-sizing:border-box;background:transparent}\"] });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ContextMenuSearchComponent, [{\n        type: Component,\n        args: [{ selector: 'context-menu-search', template: \"<input class=\\\"search\\\" [value]=\\\"value\\\" (input)=\\\"update.emit($any($event.target)?.value || '')\\\"\\n  data-testid=\\\"context-menu-search-input\\\" />\\n\", styles: [\".search{color:#fff;padding:1px 8px;border:1px solid white;border-radius:10px;font-size:16px;font-family:serif;width:100%;box-sizing:border-box;background:transparent}\\n\"] }]\n    }], null, { value: [{\n            type: Input\n        }], update: [{\n            type: Output\n        }] }); })();\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassDebugInfo(ContextMenuSearchComponent, { className: \"ContextMenuSearchComponent\", filePath: \"presets/context-menu/components/search/search.component.ts\", lineNumber: 8 }); })();\n\nfunction ContextMenuItemComponent_div_1_context_menu_item_1_Template(rf, ctx) { if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"context-menu-item\", 3);\n    i0.ɵɵlistener(\"select\", function ContextMenuItemComponent_div_1_context_menu_item_1_Template_context_menu_item_select_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r4); const item_r2 = restoredCtx.$implicit; return i0.ɵɵresetView(item_r2.handler()); })(\"hide\", function ContextMenuItemComponent_div_1_context_menu_item_1_Template_context_menu_item_hide_0_listener() { i0.ɵɵrestoreView(_r4); const ctx_r5 = i0.ɵɵnextContext(2); return i0.ɵɵresetView(ctx_r5.hide.emit()); });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"delay\", ctx_r1.delay);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r2.label, \" \");\n} }\nfunction ContextMenuItemComponent_div_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtemplate(1, ContextMenuItemComponent_div_1_context_menu_item_1_Template, 2, 2, \"context-menu-item\", 2);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.subitems);\n} }\nconst _c0 = [\"*\"];\n// [imports]\nclass ContextMenuItemComponent {\n    cdr;\n    subitems;\n    delay;\n    select = new EventEmitter();\n    hide = new EventEmitter();\n    get block() { return true; }\n    get hasSubitems() { return this.subitems; }\n    click(event) {\n        event.stopPropagation();\n        this.select.emit();\n        this.hide.emit();\n    }\n    pointerdown(event) {\n        event.stopPropagation();\n    }\n    wheel(event) {\n        event.stopPropagation();\n    }\n    hideSubitems = debounce(() => {\n        this.visibleSubitems = false;\n        this.cdr.detectChanges();\n    });\n    visibleSubitems = false;\n    pointerover() {\n        this.hideSubitems.cancel();\n        this.visibleSubitems = true;\n        this.cdr.detectChanges();\n    }\n    pointerleave() {\n        this.hideSubitems.call(this.delay);\n        this.cdr.detectChanges();\n    }\n    constructor(cdr) {\n        this.cdr = cdr;\n        this.cdr.detach();\n    }\n    static ɵfac = function ContextMenuItemComponent_Factory(t) { return new (t || ContextMenuItemComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef)); };\n    static ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ContextMenuItemComponent, selectors: [[\"context-menu-item\"]], hostAttrs: [\"data-testid\", \"context-menu-item\"], hostVars: 4, hostBindings: function ContextMenuItemComponent_HostBindings(rf, ctx) { if (rf & 1) {\n            i0.ɵɵlistener(\"click\", function ContextMenuItemComponent_click_HostBindingHandler($event) { return ctx.click($event); })(\"pointerdown\", function ContextMenuItemComponent_pointerdown_HostBindingHandler($event) { return ctx.pointerdown($event); })(\"wheel\", function ContextMenuItemComponent_wheel_HostBindingHandler($event) { return ctx.wheel($event); })(\"pointerover\", function ContextMenuItemComponent_pointerover_HostBindingHandler() { return ctx.pointerover(); })(\"pointerleave\", function ContextMenuItemComponent_pointerleave_HostBindingHandler() { return ctx.pointerleave(); });\n        } if (rf & 2) {\n            i0.ɵɵclassProp(\"block\", ctx.block)(\"hasSubitems\", ctx.hasSubitems);\n        } }, inputs: { subitems: \"subitems\", delay: \"delay\" }, outputs: { select: \"select\", hide: \"hide\" }, ngContentSelectors: _c0, decls: 2, vars: 1, consts: [[\"class\", \"subitems\", 4, \"ngIf\"], [1, \"subitems\"], [3, \"delay\", \"select\", \"hide\", 4, \"ngFor\", \"ngForOf\"], [3, \"delay\", \"select\", \"hide\"]], template: function ContextMenuItemComponent_Template(rf, ctx) { if (rf & 1) {\n            i0.ɵɵprojectionDef();\n            i0.ɵɵprojection(0);\n            i0.ɵɵtemplate(1, ContextMenuItemComponent_div_1_Template, 2, 1, \"div\", 0);\n        } if (rf & 2) {\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.subitems && ctx.visibleSubitems);\n        } }, dependencies: [i1.NgForOf, i1.NgIf, ContextMenuItemComponent], styles: [\"@charset \\\"UTF-8\\\";.hasSubitems[_nghost-%COMP%]:after{content:\\\"\\\\25ba\\\";position:absolute;opacity:.6;right:5px;top:5px;font-family:initial}.subitems[_ngcontent-%COMP%]{position:absolute;top:0;left:100%;width:120px}\", \".block[_ngcontent-%COMP%]{display:block;color:#fff;padding:4px;border-bottom:1px solid rgba(69,103,255,.8);background-color:#6e88ffcc;cursor:pointer;width:100%;position:relative}.block[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px;border-top-right-radius:5px}.block[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.block[_ngcontent-%COMP%]:hover{background-color:#8299ffcc}\"] });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ContextMenuItemComponent, [{\n        type: Component,\n        args: [{ selector: 'context-menu-item', host: {\n                    'data-testid': 'context-menu-item'\n                }, template: \"<ng-content></ng-content>\\n<div class=\\\"subitems\\\" *ngIf=\\\"subitems && visibleSubitems\\\">\\n  <context-menu-item *ngFor=\\\"let item of subitems\\\" [delay]=\\\"delay\\\" (select)=\\\"item.handler()\\\" (hide)=\\\"hide.emit()\\\">\\n    {{ item.label }}\\n  </context-menu-item>\\n</div>\\n\", styles: [\"@charset \\\"UTF-8\\\";:host(.hasSubitems):after{content:\\\"\\\\25ba\\\";position:absolute;opacity:.6;right:5px;top:5px;font-family:initial}.subitems{position:absolute;top:0;left:100%;width:120px}\\n\", \".block{display:block;color:#fff;padding:4px;border-bottom:1px solid rgba(69,103,255,.8);background-color:#6e88ffcc;cursor:pointer;width:100%;position:relative}.block:first-child{border-top-left-radius:5px;border-top-right-radius:5px}.block:last-child{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.block:hover{background-color:#8299ffcc}\\n\"] }]\n    }], () => [{ type: i0.ChangeDetectorRef }], { subitems: [{\n            type: Input\n        }], delay: [{\n            type: Input\n        }], select: [{\n            type: Output\n        }], hide: [{\n            type: Output\n        }], block: [{\n            type: HostBinding,\n            args: ['class.block']\n        }], hasSubitems: [{\n            type: HostBinding,\n            args: ['class.hasSubitems']\n        }], click: [{\n            type: HostListener,\n            args: ['click', ['$event']]\n        }], pointerdown: [{\n            type: HostListener,\n            args: ['pointerdown', ['$event']]\n        }], wheel: [{\n            type: HostListener,\n            args: ['wheel', ['$event']]\n        }], pointerover: [{\n            type: HostListener,\n            args: ['pointerover']\n        }], pointerleave: [{\n            type: HostListener,\n            args: ['pointerleave']\n        }] }); })();\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassDebugInfo(ContextMenuItemComponent, { className: \"ContextMenuItemComponent\", filePath: \"presets/context-menu/components/item/item.component.ts\", lineNumber: 15 }); })();\n\nfunction ContextMenuComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"context-menu-search\", 3);\n    i0.ɵɵlistener(\"update\", function ContextMenuComponent_div_0_Template_context_menu_search_update_1_listener($event) { i0.ɵɵrestoreView(_r3); const ctx_r2 = i0.ɵɵnextContext(); return i0.ɵɵresetView(ctx_r2.setFilter($event)); });\n    i0.ɵɵelementEnd()();\n} if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", ctx_r0.filter);\n} }\nfunction ContextMenuComponent_context_menu_item_1_Template(rf, ctx) { if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"context-menu-item\", 4);\n    i0.ɵɵlistener(\"select\", function ContextMenuComponent_context_menu_item_1_Template_context_menu_item_select_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r6); const item_r4 = restoredCtx.$implicit; return i0.ɵɵresetView(item_r4.handler()); })(\"hide\", function ContextMenuComponent_context_menu_item_1_Template_context_menu_item_hide_0_listener() { i0.ɵɵrestoreView(_r6); const ctx_r7 = i0.ɵɵnextContext(); return i0.ɵɵresetView(ctx_r7.onHide()); });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"delay\", ctx_r1.delay)(\"subitems\", item_r4.subitems);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r4.label, \"\\n\");\n} }\n// [imports]\nclass ContextMenuComponent {\n    cdr;\n    items;\n    delay;\n    searchBar;\n    onHide;\n    rendered;\n    filter = '';\n    hide = debounce(() => {\n        this.onHide();\n        this.cdr.detectChanges();\n    });\n    customAttribute = '';\n    pointerover() {\n        this.hide.cancel();\n        this.cdr.detectChanges();\n    }\n    pointerleave() {\n        this.hide.call(this.delay);\n        this.cdr.detectChanges();\n    }\n    constructor(cdr) {\n        this.cdr = cdr;\n        this.cdr.detach();\n    }\n    ngOnChanges() {\n        this.cdr.detectChanges();\n        requestAnimationFrame(() => this.rendered());\n    }\n    setFilter(value) {\n        this.filter = value;\n        this.cdr.detectChanges();\n    }\n    getItems() {\n        const filterRegexp = new RegExp(this.filter, 'i');\n        const filteredList = this.items.filter(item => (item.label.match(filterRegexp)));\n        return filteredList;\n    }\n    ngOnDestroy() {\n        if (this.hide)\n            this.hide.cancel();\n    }\n    static ɵfac = function ContextMenuComponent_Factory(t) { return new (t || ContextMenuComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef)); };\n    static ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ContextMenuComponent, selectors: [[\"ng-component\"]], hostAttrs: [\"data-testid\", \"context-menu\"], hostVars: 1, hostBindings: function ContextMenuComponent_HostBindings(rf, ctx) { if (rf & 1) {\n            i0.ɵɵlistener(\"mouseover\", function ContextMenuComponent_mouseover_HostBindingHandler() { return ctx.pointerover(); })(\"mouseleave\", function ContextMenuComponent_mouseleave_HostBindingHandler() { return ctx.pointerleave(); });\n        } if (rf & 2) {\n            i0.ɵɵattribute(\"rete-context-menu\", ctx.customAttribute);\n        } }, inputs: { items: \"items\", delay: \"delay\", searchBar: \"searchBar\", onHide: \"onHide\", rendered: \"rendered\" }, features: [i0.ɵɵNgOnChangesFeature], decls: 2, vars: 2, consts: [[\"class\", \"block\", 4, \"ngIf\"], [3, \"delay\", \"subitems\", \"select\", \"hide\", 4, \"ngFor\", \"ngForOf\"], [1, \"block\"], [3, \"value\", \"update\"], [3, \"delay\", \"subitems\", \"select\", \"hide\"]], template: function ContextMenuComponent_Template(rf, ctx) { if (rf & 1) {\n            i0.ɵɵtemplate(0, ContextMenuComponent_div_0_Template, 2, 1, \"div\", 0)(1, ContextMenuComponent_context_menu_item_1_Template, 2, 3, \"context-menu-item\", 1);\n        } if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.searchBar);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngForOf\", ctx.getItems());\n        } }, dependencies: [i1.NgForOf, i1.NgIf, ContextMenuSearchComponent, ContextMenuItemComponent], styles: [\"[_nghost-%COMP%]{display:block;padding:10px;width:120px;margin-top:-20px;margin-left:-60px}\", \".block[_ngcontent-%COMP%]{display:block;color:#fff;padding:4px;border-bottom:1px solid rgba(69,103,255,.8);background-color:#6e88ffcc;cursor:pointer;width:100%;position:relative}.block[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px;border-top-right-radius:5px}.block[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.block[_ngcontent-%COMP%]:hover{background-color:#8299ffcc}\"] });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ContextMenuComponent, [{\n        type: Component,\n        args: [{ host: {\n                    'data-testid': 'context-menu'\n                }, template: \"<div class=\\\"block\\\" *ngIf=\\\"searchBar\\\">\\n  <context-menu-search [value]=\\\"filter\\\" (update)=\\\"setFilter($event)\\\"></context-menu-search>\\n</div>\\n\\n<context-menu-item *ngFor=\\\"let item of getItems()\\\" [delay]=\\\"delay\\\" (select)=\\\"item.handler()\\\" [subitems]=\\\"item.subitems\\\"\\n  (hide)=\\\"onHide()\\\">\\n  {{ item.label }}\\n</context-menu-item>\\n\", styles: [\":host{display:block;padding:10px;width:120px;margin-top:-20px;margin-left:-60px}\\n\", \".block{display:block;color:#fff;padding:4px;border-bottom:1px solid rgba(69,103,255,.8);background-color:#6e88ffcc;cursor:pointer;width:100%;position:relative}.block:first-child{border-top-left-radius:5px;border-top-right-radius:5px}.block:last-child{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.block:hover{background-color:#8299ffcc}\\n\"] }]\n    }], () => [{ type: i0.ChangeDetectorRef }], { items: [{\n            type: Input\n        }], delay: [{\n            type: Input\n        }], searchBar: [{\n            type: Input\n        }], onHide: [{\n            type: Input\n        }], rendered: [{\n            type: Input\n        }], customAttribute: [{\n            type: HostBinding,\n            args: ['attr.rete-context-menu']\n        }], pointerover: [{\n            type: HostListener,\n            args: ['mouseover']\n        }], pointerleave: [{\n            type: HostListener,\n            args: ['mouseleave']\n        }] }); })();\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassDebugInfo(ContextMenuComponent, { className: \"ContextMenuComponent\", filePath: \"presets/context-menu/components/menu/menu.component.ts\", lineNumber: 14 }); })();\n\n/**\n * Preset for rendering context menu.\n */\nfunction setup$2(props) {\n    const delay = typeof props?.delay === 'undefined' ? 1000 : props.delay;\n    return {\n        update(context) {\n            if (context.data.type === 'contextmenu') {\n                return {\n                    items: context.data.items,\n                    delay,\n                    searchBar: context.data.searchBar,\n                    onHide: context.data.onHide\n                };\n            }\n        },\n        mount(context, plugin) {\n            const parent = plugin.parentScope();\n            const emit = parent.emit.bind(parent);\n            const rendered = () => {\n                emit({ type: 'rendered', data: context.data });\n            };\n            if (context.data.type === 'contextmenu') {\n                return {\n                    key: 'context-menu',\n                    component: ContextMenuComponent,\n                    props: {\n                        items: context.data.items,\n                        delay,\n                        searchBar: context.data.searchBar,\n                        onHide: context.data.onHide,\n                        rendered\n                    }\n                };\n            }\n            return null;\n        }\n    };\n}\n\nvar index$3 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    setup: setup$2\n});\n\nfunction useDrag(translate, getPointer) {\n    return {\n        start(e) {\n            let previous = { ...getPointer(e) };\n            function move(moveEvent) {\n                const current = { ...getPointer(moveEvent) };\n                const dx = current.x - previous.x;\n                const dy = current.y - previous.y;\n                previous = current;\n                translate(dx, dy);\n            }\n            function up() {\n                window.removeEventListener('pointermove', move);\n                window.removeEventListener('pointerup', up);\n                window.removeEventListener('pointercancel', up);\n            }\n            window.addEventListener('pointermove', move);\n            window.addEventListener('pointerup', up);\n            window.addEventListener('pointercancel', up);\n        }\n    };\n}\n\nclass MiniViewportComponent {\n    left;\n    top;\n    width;\n    height;\n    containerWidth;\n    translate;\n    drag = useDrag((dx, dy) => this.onDrag(dx, dy), e => ({ x: e.pageX, y: e.pageY }));\n    get styleLeft() {\n        return this.px(this.scale(this.left));\n    }\n    get styleTop() {\n        return this.px(this.scale(this.top));\n    }\n    get styleWidth() {\n        return this.px(this.scale(this.width));\n    }\n    get styleHeight() {\n        return this.px(this.scale(this.height));\n    }\n    pointerdown(event) {\n        event.stopPropagation();\n        this.drag.start(event);\n    }\n    px(value) {\n        return `${value}px`;\n    }\n    scale(v) {\n        return v * this.containerWidth;\n    }\n    invert(v) {\n        return v / this.containerWidth;\n    }\n    onDrag(dx, dy) {\n        this.translate(this.invert(-dx), this.invert(-dy));\n    }\n    static ɵfac = function MiniViewportComponent_Factory(t) { return new (t || MiniViewportComponent)(); };\n    static ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: MiniViewportComponent, selectors: [[\"minimap-mini-viewport\"]], hostAttrs: [\"data-testid\", \"minimap-viewport\"], hostVars: 8, hostBindings: function MiniViewportComponent_HostBindings(rf, ctx) { if (rf & 1) {\n            i0.ɵɵlistener(\"pointerdown\", function MiniViewportComponent_pointerdown_HostBindingHandler($event) { return ctx.pointerdown($event); });\n        } if (rf & 2) {\n            i0.ɵɵstyleProp(\"left\", ctx.styleLeft)(\"top\", ctx.styleTop)(\"width\", ctx.styleWidth)(\"height\", ctx.styleHeight);\n        } }, inputs: { left: \"left\", top: \"top\", width: \"width\", height: \"height\", containerWidth: \"containerWidth\", translate: \"translate\" }, decls: 0, vars: 0, template: function MiniViewportComponent_Template(rf, ctx) { }, styles: [\"[_nghost-%COMP%]{display:block;position:absolute;background:rgba(255,251,128,.32);border:1px solid #ffe52b}\"] });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MiniViewportComponent, [{\n        type: Component,\n        args: [{ selector: 'minimap-mini-viewport', host: {\n                    'data-testid': 'minimap-viewport'\n                }, template: \"\", styles: [\":host{display:block;position:absolute;background:rgba(255,251,128,.32);border:1px solid #ffe52b}\\n\"] }]\n    }], null, { left: [{\n            type: Input\n        }], top: [{\n            type: Input\n        }], width: [{\n            type: Input\n        }], height: [{\n            type: Input\n        }], containerWidth: [{\n            type: Input\n        }], translate: [{\n            type: Input\n        }], styleLeft: [{\n            type: HostBinding,\n            args: ['style.left']\n        }], styleTop: [{\n            type: HostBinding,\n            args: ['style.top']\n        }], styleWidth: [{\n            type: HostBinding,\n            args: ['style.width']\n        }], styleHeight: [{\n            type: HostBinding,\n            args: ['style.height']\n        }], pointerdown: [{\n            type: HostListener,\n            args: ['pointerdown', ['$event']]\n        }] }); })();\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassDebugInfo(MiniViewportComponent, { className: \"MiniViewportComponent\", filePath: \"presets/minimap/components/mini-viewport/mini-viewport.component.ts\", lineNumber: 13 }); })();\n\nclass MiniNodeComponent {\n    left;\n    top;\n    width;\n    height;\n    get styleLeft() {\n        return this.px(this.left);\n    }\n    get styleTop() {\n        return this.px(this.top);\n    }\n    get styleWidth() {\n        return this.px(this.width);\n    }\n    get styleHeight() {\n        return this.px(this.height);\n    }\n    px(value) {\n        return `${value}px`;\n    }\n    static ɵfac = function MiniNodeComponent_Factory(t) { return new (t || MiniNodeComponent)(); };\n    static ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: MiniNodeComponent, selectors: [[\"minimap-mini-node\"]], hostAttrs: [\"data-testid\", \"minimap-node\"], hostVars: 8, hostBindings: function MiniNodeComponent_HostBindings(rf, ctx) { if (rf & 2) {\n            i0.ɵɵstyleProp(\"left\", ctx.styleLeft)(\"top\", ctx.styleTop)(\"width\", ctx.styleWidth)(\"height\", ctx.styleHeight);\n        } }, inputs: { left: \"left\", top: \"top\", width: \"width\", height: \"height\" }, decls: 0, vars: 0, template: function MiniNodeComponent_Template(rf, ctx) { }, styles: [\"[_nghost-%COMP%]{display:block;position:absolute;background:rgba(110,136,255,.8);border:1px solid rgba(192,206,212,.6)}\"] });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MiniNodeComponent, [{\n        type: Component,\n        args: [{ selector: 'minimap-mini-node', host: {\n                    'data-testid': 'minimap-node'\n                }, template: \"\", styles: [\":host{display:block;position:absolute;background:rgba(110,136,255,.8);border:1px solid rgba(192,206,212,.6)}\\n\"] }]\n    }], null, { left: [{\n            type: Input\n        }], top: [{\n            type: Input\n        }], width: [{\n            type: Input\n        }], height: [{\n            type: Input\n        }], styleLeft: [{\n            type: HostBinding,\n            args: ['style.left']\n        }], styleTop: [{\n            type: HostBinding,\n            args: ['style.top']\n        }], styleWidth: [{\n            type: HostBinding,\n            args: ['style.width']\n        }], styleHeight: [{\n            type: HostBinding,\n            args: ['style.height']\n        }] }); })();\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassDebugInfo(MiniNodeComponent, { className: \"MiniNodeComponent\", filePath: \"presets/minimap/components/mini-node/mini-node.component.ts\", lineNumber: 11 }); })();\n\nfunction MinimapComponent_minimap_mini_node_0_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelement(0, \"minimap-mini-node\", 2);\n} if (rf & 2) {\n    const node_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"left\", ctx_r0.scale(node_r1.left))(\"top\", ctx_r0.scale(node_r1.top))(\"width\", ctx_r0.scale(node_r1.width))(\"height\", ctx_r0.scale(node_r1.height));\n} }\n// [imports]\nclass MinimapComponent {\n    el;\n    cdr;\n    rendered;\n    size;\n    ratio;\n    nodes;\n    viewport;\n    translate;\n    point;\n    get width() {\n        return this.px(this.size * this.ratio);\n    }\n    get height() {\n        return this.px(this.size);\n    }\n    pointerdown(event) {\n        event.stopPropagation();\n        event.preventDefault();\n    }\n    dblclick(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        if (!this.el.nativeElement)\n            return;\n        const box = this.el.nativeElement.getBoundingClientRect();\n        const x = (event.clientX - box.left) / (this.size * this.ratio);\n        const y = (event.clientY - box.top) / (this.size * this.ratio);\n        this.point(x, y);\n    }\n    constructor(el, cdr) {\n        this.el = el;\n        this.cdr = cdr;\n        this.cdr.detach();\n    }\n    ngOnChanges() {\n        this.cdr.detectChanges();\n        requestAnimationFrame(() => this.rendered());\n    }\n    px(value) {\n        return `${value}px`;\n    }\n    scale(value) {\n        if (!this.el.nativeElement)\n            return 0;\n        return value * this.el.nativeElement.clientWidth;\n    }\n    identifyMiniNode(_, item) {\n        return [item.top, item.left].join('_');\n    }\n    static ɵfac = function MinimapComponent_Factory(t) { return new (t || MinimapComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef)); };\n    static ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: MinimapComponent, selectors: [[\"ng-component\"]], hostAttrs: [\"data-testid\", \"minimap\"], hostVars: 4, hostBindings: function MinimapComponent_HostBindings(rf, ctx) { if (rf & 1) {\n            i0.ɵɵlistener(\"pointerdown\", function MinimapComponent_pointerdown_HostBindingHandler($event) { return ctx.pointerdown($event); })(\"dblclick\", function MinimapComponent_dblclick_HostBindingHandler($event) { return ctx.dblclick($event); });\n        } if (rf & 2) {\n            i0.ɵɵstyleProp(\"width\", ctx.width)(\"height\", ctx.height);\n        } }, inputs: { rendered: \"rendered\", size: \"size\", ratio: \"ratio\", nodes: \"nodes\", viewport: \"viewport\", translate: \"translate\", point: \"point\" }, features: [i0.ɵɵNgOnChangesFeature], decls: 2, vars: 8, consts: [[3, \"left\", \"top\", \"width\", \"height\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [3, \"left\", \"top\", \"width\", \"height\", \"containerWidth\", \"translate\"], [3, \"left\", \"top\", \"width\", \"height\"]], template: function MinimapComponent_Template(rf, ctx) { if (rf & 1) {\n            i0.ɵɵtemplate(0, MinimapComponent_minimap_mini_node_0_Template, 1, 4, \"minimap-mini-node\", 0);\n            i0.ɵɵelement(1, \"minimap-mini-viewport\", 1);\n        } if (rf & 2) {\n            i0.ɵɵproperty(\"ngForOf\", ctx.nodes)(\"ngForTrackBy\", ctx.identifyMiniNode);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"left\", ctx.viewport.left)(\"top\", ctx.viewport.top)(\"width\", ctx.viewport.width)(\"height\", ctx.viewport.height)(\"containerWidth\", ctx.el.nativeElement == null ? null : ctx.el.nativeElement.clientWidth)(\"translate\", ctx.translate);\n        } }, dependencies: [i1.NgForOf, MiniViewportComponent, MiniNodeComponent], styles: [\"[_nghost-%COMP%]{position:absolute;right:24px;bottom:24px;background:rgba(229,234,239,.65);padding:20px;overflow:hidden;border:1px solid #b1b7ff;border-radius:8px;box-sizing:border-box}\"] });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(MinimapComponent, [{\n        type: Component,\n        args: [{ host: {\n                    'data-testid': 'minimap'\n                }, template: \"<minimap-mini-node *ngFor=\\\"let node of nodes; trackBy: identifyMiniNode\\\" [left]=\\\"scale(node.left)\\\"\\n  [top]=\\\"scale(node.top)\\\" [width]=\\\"scale(node.width)\\\" [height]=\\\"scale(node.height)\\\">\\n\\n</minimap-mini-node>\\n<minimap-mini-viewport [left]=\\\"viewport.left\\\" [top]=\\\"viewport.top\\\" [width]=\\\"viewport.width\\\" [height]=\\\"viewport.height\\\"\\n  [containerWidth]=\\\"el.nativeElement?.clientWidth\\\" [translate]=\\\"translate\\\"></minimap-mini-viewport>\\n\", styles: [\":host{position:absolute;right:24px;bottom:24px;background:rgba(229,234,239,.65);padding:20px;overflow:hidden;border:1px solid #b1b7ff;border-radius:8px;box-sizing:border-box}\\n\"] }]\n    }], () => [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }], { rendered: [{\n            type: Input\n        }], size: [{\n            type: Input\n        }], ratio: [{\n            type: Input\n        }], nodes: [{\n            type: Input\n        }], viewport: [{\n            type: Input\n        }], translate: [{\n            type: Input\n        }], point: [{\n            type: Input\n        }], width: [{\n            type: HostBinding,\n            args: ['style.width']\n        }], height: [{\n            type: HostBinding,\n            args: ['style.height']\n        }], pointerdown: [{\n            type: HostListener,\n            args: ['pointerdown', ['$event']]\n        }], dblclick: [{\n            type: HostListener,\n            args: ['dblclick', ['$event']]\n        }] }); })();\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassDebugInfo(MinimapComponent, { className: \"MinimapComponent\", filePath: \"presets/minimap/components/minimap/minimap.component.ts\", lineNumber: 13 }); })();\n\n/**\n * Preset for rendering minimap.\n */\nfunction setup$1(props) {\n    return {\n        update(context) {\n            if (context.data.type === 'minimap') {\n                return {\n                    nodes: context.data.nodes,\n                    size: props?.size || 200,\n                    ratio: context.data.ratio,\n                    viewport: context.data.viewport,\n                    translate: context.data.translate,\n                    point: context.data.point\n                };\n            }\n            return null;\n        },\n        mount(context, plugin) {\n            const parent = plugin.parentScope();\n            const emit = parent.emit.bind(parent);\n            const rendered = () => {\n                emit({ type: 'rendered', data: context.data });\n            };\n            if (context.data.type === 'minimap') {\n                return {\n                    key: 'rete-minimap',\n                    component: MinimapComponent,\n                    props: {\n                        nodes: context.data.nodes,\n                        size: props?.size || 200,\n                        ratio: context.data.ratio,\n                        viewport: context.data.viewport,\n                        translate: context.data.translate,\n                        point: context.data.point,\n                        rendered\n                    }\n                };\n            }\n            return null;\n        }\n    };\n}\n\nvar index$2 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    setup: setup$1\n});\n\nconst pinSize = 20;\nclass PinComponent {\n    cdr;\n    position;\n    selected;\n    getPointer;\n    menu = new EventEmitter();\n    translate = new EventEmitter();\n    down = new EventEmitter();\n    drag = useDrag((dx, dy) => {\n        this.translate.emit({ dx, dy });\n    }, () => this.getPointer());\n    get _selected() {\n        return this.selected;\n    }\n    get top() {\n        return `${this.position.y - pinSize / 2}px`;\n    }\n    get left() {\n        return `${this.position.x - pinSize / 2}px`;\n    }\n    pointerdown(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        this.drag.start(event);\n        this.down.emit();\n    }\n    contextmenu(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        this.menu.emit();\n    }\n    constructor(cdr) {\n        this.cdr = cdr;\n        // this.cdr.detach()\n    }\n    ngOnChanges() {\n        // this.cdr.detectChanges()\n        // requestAnimationFrame(() => this.rendered())\n    }\n    static ɵfac = function PinComponent_Factory(t) { return new (t || PinComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef)); };\n    static ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PinComponent, selectors: [[\"reroute-pin\"]], hostAttrs: [\"data-testid\", \"pin\"], hostVars: 6, hostBindings: function PinComponent_HostBindings(rf, ctx) { if (rf & 1) {\n            i0.ɵɵlistener(\"pointerdown\", function PinComponent_pointerdown_HostBindingHandler($event) { return ctx.pointerdown($event); })(\"contextmenu\", function PinComponent_contextmenu_HostBindingHandler($event) { return ctx.contextmenu($event); });\n        } if (rf & 2) {\n            i0.ɵɵstyleProp(\"top\", ctx.top)(\"left\", ctx.left);\n            i0.ɵɵclassProp(\"selected\", ctx._selected);\n        } }, inputs: { position: \"position\", selected: \"selected\", getPointer: \"getPointer\" }, outputs: { menu: \"menu\", translate: \"translate\", down: \"down\" }, features: [i0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function PinComponent_Template(rf, ctx) { }, styles: [\"[_nghost-%COMP%]{display:block;width:20px;height:20px;box-sizing:border-box;background:steelblue;border:2px solid white;border-radius:20px;position:absolute}.selected[_nghost-%COMP%]{background:#ffd92c}\"] });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PinComponent, [{\n        type: Component,\n        args: [{ selector: 'reroute-pin', template: '', host: {\n                    'data-testid': 'pin'\n                }, styles: [\":host{display:block;width:20px;height:20px;box-sizing:border-box;background:steelblue;border:2px solid white;border-radius:20px;position:absolute}:host.selected{background:#ffd92c}\\n\"] }]\n    }], () => [{ type: i0.ChangeDetectorRef }], { position: [{\n            type: Input\n        }], selected: [{\n            type: Input\n        }], getPointer: [{\n            type: Input\n        }], menu: [{\n            type: Output\n        }], translate: [{\n            type: Output\n        }], down: [{\n            type: Output\n        }], _selected: [{\n            type: HostBinding,\n            args: ['class.selected']\n        }], top: [{\n            type: HostBinding,\n            args: ['style.top']\n        }], left: [{\n            type: HostBinding,\n            args: ['style.left']\n        }], pointerdown: [{\n            type: HostListener,\n            args: ['pointerdown', ['$event']]\n        }], contextmenu: [{\n            type: HostListener,\n            args: ['contextmenu', ['$event']]\n        }] }); })();\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassDebugInfo(PinComponent, { className: \"PinComponent\", filePath: \"presets/reroute/components/pin/pin.component.ts\", lineNumber: 15 }); })();\n\nfunction PinsComponent_reroute_pin_0_Template(rf, ctx) { if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"reroute-pin\", 1);\n    i0.ɵɵlistener(\"menu\", function PinsComponent_reroute_pin_0_Template_reroute_pin_menu_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r3); const pin_r1 = restoredCtx.$implicit; const ctx_r2 = i0.ɵɵnextContext(); return i0.ɵɵresetView(ctx_r2.menu && ctx_r2.menu(pin_r1.id)); })(\"translate\", function PinsComponent_reroute_pin_0_Template_reroute_pin_translate_0_listener($event) { const restoredCtx = i0.ɵɵrestoreView(_r3); const pin_r1 = restoredCtx.$implicit; const ctx_r4 = i0.ɵɵnextContext(); return i0.ɵɵresetView(ctx_r4.translate && ctx_r4.translate(pin_r1.id, $event.dx, $event.dy)); })(\"down\", function PinsComponent_reroute_pin_0_Template_reroute_pin_down_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r3); const pin_r1 = restoredCtx.$implicit; const ctx_r5 = i0.ɵɵnextContext(); return i0.ɵɵresetView(ctx_r5.down && ctx_r5.down(pin_r1.id)); });\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const pin_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"position\", pin_r1.position)(\"selected\", pin_r1.selected)(\"getPointer\", ctx_r0.getPointer);\n} }\n// [imports]\nclass PinsComponent {\n    cdr;\n    rendered;\n    pins;\n    down;\n    translate;\n    menu;\n    getPointer;\n    constructor(cdr) {\n        this.cdr = cdr;\n        this.cdr.detach();\n    }\n    ngOnChanges() {\n        this.cdr.detectChanges();\n        requestAnimationFrame(() => this.rendered());\n    }\n    track(_, item) {\n        return item.id;\n    }\n    static ɵfac = function PinsComponent_Factory(t) { return new (t || PinsComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef)); };\n    static ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PinsComponent, selectors: [[\"ng-component\"]], inputs: { rendered: \"rendered\", pins: \"pins\", down: \"down\", translate: \"translate\", menu: \"menu\", getPointer: \"getPointer\" }, features: [i0.ɵɵNgOnChangesFeature], decls: 1, vars: 2, consts: [[3, \"position\", \"selected\", \"getPointer\", \"menu\", \"translate\", \"down\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [3, \"position\", \"selected\", \"getPointer\", \"menu\", \"translate\", \"down\"]], template: function PinsComponent_Template(rf, ctx) { if (rf & 1) {\n            i0.ɵɵtemplate(0, PinsComponent_reroute_pin_0_Template, 1, 3, \"reroute-pin\", 0);\n        } if (rf & 2) {\n            i0.ɵɵproperty(\"ngForOf\", ctx.pins)(\"ngForTrackBy\", ctx.track);\n        } }, dependencies: [i1.NgForOf, PinComponent], encapsulation: 2 });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PinsComponent, [{\n        type: Component,\n        args: [{ template: \"<reroute-pin *ngFor=\\\"let pin of pins; trackBy: track\\\" [position]=\\\"pin.position\\\" [selected]=\\\"pin.selected\\\"\\n  (menu)=\\\"menu && menu(pin.id)\\\" (translate)=\\\"translate && translate(pin.id, $event.dx, $event.dy)\\\"\\n  (down)=\\\"down && down(pin.id)\\\" [getPointer]=\\\"getPointer\\\"></reroute-pin>\\n\" }]\n    }], () => [{ type: i0.ChangeDetectorRef }], { rendered: [{\n            type: Input\n        }], pins: [{\n            type: Input\n        }], down: [{\n            type: Input\n        }], translate: [{\n            type: Input\n        }], menu: [{\n            type: Input\n        }], getPointer: [{\n            type: Input\n        }] }); })();\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassDebugInfo(PinsComponent, { className: \"PinsComponent\", filePath: \"presets/reroute/components/pins/pins.component.ts\", lineNumber: 9 }); })();\n\n/**\n * Preset for rendering pins.\n */\nfunction setup(props) {\n    const getProps = () => ({\n        menu: props?.contextMenu || (() => null),\n        translate: props?.translate || (() => null),\n        down: props?.pointerdown || (() => null)\n    });\n    return {\n        update(context) {\n            if (context.data.type === 'reroute-pins') {\n                return {\n                    ...getProps(),\n                    pins: context.data.data.pins\n                };\n            }\n            return null;\n        },\n        mount(context, plugin) {\n            const area = plugin.parentScope(BaseAreaPlugin);\n            const rendered = () => {\n                area.emit({ type: 'rendered', data: context.data });\n            };\n            if (context.data.type === 'reroute-pins') {\n                return {\n                    key: 'rete-reroute',\n                    component: PinsComponent,\n                    props: {\n                        ...getProps(),\n                        pins: context.data.data.pins,\n                        rendered,\n                        getPointer: () => area.area.pointer\n                    }\n                };\n            }\n            return null;\n        }\n    };\n}\n\nvar index$1 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    setup: setup\n});\n\n/**\n * Built-in presets, responsible for rendering different parts of the editor.\n * @module\n */\n\nvar index = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    classic: index$4,\n    contextMenu: index$3,\n    minimap: index$2,\n    reroute: index$1\n});\n\nclass ReteModule {\n    static ɵfac = function ReteModule_Factory(t) { return new (t || ReteModule)(); };\n    static ɵmod = /*@__PURE__*/ i0.ɵɵdefineNgModule({ type: ReteModule });\n    static ɵinj = /*@__PURE__*/ i0.ɵɵdefineInjector({ imports: [CommonModule] });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ReteModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    RefDirective,\n                    NodeComponent,\n                    ConnectionComponent,\n                    ConnectionWrapperComponent,\n                    SocketComponent,\n                    ControlComponent,\n                    ImpureKeyvaluePipe\n                ],\n                imports: [\n                    CommonModule\n                ],\n                exports: [\n                    RefDirective,\n                    NodeComponent,\n                    ConnectionComponent,\n                    ConnectionWrapperComponent,\n                    SocketComponent,\n                    ControlComponent,\n                    ImpureKeyvaluePipe\n                ]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(ReteModule, { declarations: [RefDirective,\n        NodeComponent,\n        ConnectionComponent,\n        ConnectionWrapperComponent,\n        SocketComponent,\n        ControlComponent,\n        ImpureKeyvaluePipe], imports: [CommonModule], exports: [RefDirective,\n        NodeComponent,\n        ConnectionComponent,\n        ConnectionWrapperComponent,\n        SocketComponent,\n        ControlComponent,\n        ImpureKeyvaluePipe] }); })();\n\nclass ReteContextMenuModule {\n    static ɵfac = function ReteContextMenuModule_Factory(t) { return new (t || ReteContextMenuModule)(); };\n    static ɵmod = /*@__PURE__*/ i0.ɵɵdefineNgModule({ type: ReteContextMenuModule });\n    static ɵinj = /*@__PURE__*/ i0.ɵɵdefineInjector({ imports: [CommonModule] });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ReteContextMenuModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    ContextMenuComponent,\n                    ContextMenuSearchComponent,\n                    ContextMenuItemComponent\n                ],\n                imports: [\n                    CommonModule\n                ],\n                exports: [\n                    ContextMenuComponent,\n                    ContextMenuSearchComponent,\n                    ContextMenuItemComponent,\n                ]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(ReteContextMenuModule, { declarations: [ContextMenuComponent,\n        ContextMenuSearchComponent,\n        ContextMenuItemComponent], imports: [CommonModule], exports: [ContextMenuComponent,\n        ContextMenuSearchComponent,\n        ContextMenuItemComponent] }); })();\n\nclass ReteMinimapModule {\n    static ɵfac = function ReteMinimapModule_Factory(t) { return new (t || ReteMinimapModule)(); };\n    static ɵmod = /*@__PURE__*/ i0.ɵɵdefineNgModule({ type: ReteMinimapModule });\n    static ɵinj = /*@__PURE__*/ i0.ɵɵdefineInjector({ imports: [CommonModule] });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ReteMinimapModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    MinimapComponent,\n                    MiniViewportComponent,\n                    MiniNodeComponent\n                ],\n                imports: [\n                    CommonModule\n                ],\n                exports: [\n                    MinimapComponent,\n                    MiniViewportComponent,\n                    MiniNodeComponent\n                ]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(ReteMinimapModule, { declarations: [MinimapComponent,\n        MiniViewportComponent,\n        MiniNodeComponent], imports: [CommonModule], exports: [MinimapComponent,\n        MiniViewportComponent,\n        MiniNodeComponent] }); })();\n\nclass ReteRerouteModule {\n    static ɵfac = function ReteRerouteModule_Factory(t) { return new (t || ReteRerouteModule)(); };\n    static ɵmod = /*@__PURE__*/ i0.ɵɵdefineNgModule({ type: ReteRerouteModule });\n    static ɵinj = /*@__PURE__*/ i0.ɵɵdefineInjector({ imports: [CommonModule] });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ReteRerouteModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    PinsComponent,\n                    PinComponent,\n                ],\n                imports: [\n                    CommonModule\n                ],\n                exports: [\n                    PinsComponent,\n                    PinComponent,\n                ]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(ReteRerouteModule, { declarations: [PinsComponent,\n        PinComponent], imports: [CommonModule], exports: [PinsComponent,\n        PinComponent] }); })();\n\nfunction reflect(obj) {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n    return new Proxy(obj, {\n        get(target, prop) {\n            return target[prop];\n        },\n        set(target, prop, value) {\n            target[prop] = value;\n            return true;\n        },\n        has: (target, prop) => prop in target,\n        deleteProperty: (target, prop) => delete target[prop],\n        ownKeys: target => Reflect.ownKeys(target)\n    });\n}\n\nfunction getRenderer() {\n    const elements = new WeakMap();\n    return {\n        get(element) {\n            return elements.get(element);\n        },\n        mount(element, key, component, injector, props) {\n            // LIMITATION: If an element is remounted with the same identifier, the component cannot be replaced\n            let CustomElement = customElements.get(key);\n            if (!CustomElement) {\n                CustomElement = createCustomElement(component, { injector });\n                customElements.define(key, CustomElement);\n            }\n            const ngElement = new CustomElement(injector);\n            Object.keys(props).forEach(key => {\n                ngElement[key] = props[key];\n            });\n            element.appendChild(ngElement);\n            elements.set(element, { key, ngElement });\n        },\n        update({ ngElement }, props) {\n            Object.keys(props).forEach(key => {\n                ngElement.ngElementStrategy.setInputValue(key, reflect(props[key]));\n            });\n        },\n        unmount(element) {\n            const existing = elements.get(element);\n            if (existing) {\n                existing.ngElement.remove();\n                elements.delete(element);\n            }\n        }\n    };\n}\n/**\n * Angular plugin. Renders nodes, connections and other elements using React.\n * @priority 9\n * @emits connectionpath\n * @listens render\n * @listens unmount\n */\nclass AngularPlugin extends Scope {\n    params;\n    presets = [];\n    renderer;\n    owners = new WeakMap();\n    /**\n     * @constructor\n     * @param params Plugin properties\n     * @param params.injector Angular's Injector instance\n     */\n    constructor(params) {\n        super('angular-render');\n        this.params = params;\n        this.renderer = getRenderer();\n        this.addPipe(context => {\n            if (!context || typeof context !== 'object' || !('type' in context))\n                return context;\n            if (context.type === 'unmount') {\n                this.unmount(context.data.element);\n            }\n            else if (context.type === 'render') {\n                if ('filled' in context.data && context.data.filled) {\n                    return context;\n                }\n                if (this.mount(context.data.element, context)) {\n                    return {\n                        ...context,\n                        data: {\n                            ...context.data,\n                            filled: true\n                        }\n                    };\n                }\n            }\n            return context;\n        });\n    }\n    setParent(scope) {\n        super.setParent(scope);\n        this.presets.forEach(preset => {\n            if (preset.attach)\n                preset.attach(this);\n        });\n    }\n    unmount(element) {\n        this.owners.delete(element);\n        this.renderer.unmount(element);\n    }\n    mount(element, context) {\n        const existing = this.renderer.get(element);\n        if (existing) {\n            this.presets.forEach(preset => {\n                if (this.owners.get(element) !== preset)\n                    return;\n                const result = preset.update(context, this);\n                if (result) {\n                    this.renderer.update(existing, result);\n                }\n            });\n            return true;\n        }\n        for (const preset of this.presets) {\n            const result = preset.mount(context, this);\n            if (!result)\n                continue;\n            const { key, component, props } = result;\n            this.renderer.mount(element, key, component, this.params.injector, props);\n            this.owners.set(element, preset);\n            return true;\n        }\n        return;\n    }\n    /**\n     * Adds a preset to the plugin.\n     * @param preset Preset that can render nodes, connections and other elements.\n     */\n    addPreset(preset) {\n        const local = preset;\n        if (local.attach)\n            local.attach(this);\n        this.presets.push(local);\n    }\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AngularPlugin, ConnectionComponent, ConnectionWrapperComponent, ContextMenuComponent, ContextMenuItemComponent, ContextMenuSearchComponent, ControlComponent, ImpureKeyvaluePipe, MiniNodeComponent, MiniViewportComponent, MinimapComponent, NodeComponent, PinComponent, PinsComponent, index as Presets, RefDirective, ReteContextMenuModule, ReteMinimapModule, ReteModule, ReteRerouteModule, SocketComponent };\n\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUA,yBAAgC;AAYhC,SAAS,sBAAsB,QAAQ,WAAW;AAChD,MAAI,UAAU,eAAe,QAAQ,CAAC,GACpC,WAAW,QAAQ,CAAC,GACpB,KAAK,SAAS,GACd,KAAK,SAAS,GACd,YAAY,QAAQ,CAAC,GACrB,KAAK,UAAU,GACf,KAAK,UAAU;AACjB,MAAI,WAAW,KAAK,IAAI,KAAK,EAAE;AAC/B,MAAI,MAAM,KAAK,KAAK,IAAI,WAAW,GAAG,KAAK,IAAI,KAAK,EAAE,CAAC,IAAI;AAC3D,MAAI,MAAM,KAAK,KAAK,IAAI,WAAW,GAAG,KAAK,IAAI,KAAK,EAAE,CAAC,IAAI;AAC3D,SAAO,KAAK,OAAO,IAAI,GAAG,EAAE,OAAO,IAAI,KAAK,EAAE,OAAO,KAAK,GAAG,EAAE,OAAO,IAAI,GAAG,EAAE,OAAO,KAAK,GAAG,EAAE,OAAO,IAAI,GAAG,EAAE,OAAO,IAAI,GAAG,EAAE,OAAO,EAAE;AAC3I;AAQA,SAAS,mBAAmB,QAAQ,WAAW,MAAM;AACnD,MAAI,WAAW,eAAe,QAAQ,CAAC,GACrC,YAAY,SAAS,CAAC,GACtB,KAAK,UAAU,GACf,KAAK,UAAU,GACf,aAAa,SAAS,CAAC,GACvB,KAAK,WAAW,GAChB,KAAK,WAAW;AAClB,MAAI,IAAI,KAAK,KAAK,IAAI;AACtB,MAAI,QAAQ,OAAO,KAAK,IAAI,KAAK,EAAE,KAAK,OAAO;AAC/C,MAAI,WAAW,KAAK,MAAM;AAC1B,MAAI,UAAU,KAAK,IAAI;AACvB,MAAI,YAAY,KAAK,MAAM;AAC3B,SAAO,eAAe,OAAO,IAAI,GAAG,EAAE,OAAO,IAAI,cAAc,EAAE,OAAO,KAAK,OAAO,GAAG,EAAE,OAAO,IAAI,YAAY,EAAE,OAAO,KAAK,OAAO,GAAG,EAAE,OAAO,UAAU,UAAU,YAAY,EAAE,OAAO,SAAS,GAAG,EAAE,OAAO,SAAS,cAAc,EAAE,OAAO,KAAK,OAAO,GAAG,EAAE,OAAO,UAAU,UAAU,YAAY,EAAE,OAAO,KAAK,OAAO,GAAG,EAAE,OAAO,IAAI,YAAY,EAAE,OAAO,IAAI,GAAG,EAAE,OAAO,IAAI,QAAQ;AAC/X;AAYA,SAAS,iBAAiB,IAAI,KAAK;AACjC,SAAO,kBAAkB,MAAM,MAAM,SAAS;AAChD;AACA,SAAS,oBAAoB;AAC3B,sBAAoB,kBAA+B,mBAAAA,QAAoB,KAAK,SAAS,QAAQ,OAAO,QAAQ;AAC1G,QAAI,GAAG,GAAG,gBAAgB,OAAO;AACjC,WAAO,mBAAAA,QAAoB,KAAK,SAAS,SAAS,UAAU;AAC1D,aAAO,EAAG,SAAQ,SAAS,OAAO,SAAS,MAAM;AAAA,QAC/C,KAAK;AACH,cAAI,MAAM,cAAc;AACtB,qBAAS,OAAO;AAChB;AAAA,UACF;AACA,mBAAS,OAAO;AAChB,iBAAO,IAAI,QAAQ,SAAU,KAAK;AAChC,mBAAO,WAAW,KAAK,CAAC;AAAA,UAC1B,CAAC;AAAA,QACH,KAAK;AACH,mBAAS,OAAO;AAChB;AAAA,QACF,KAAK;AACH,cAAI,MAAM;AACV,cAAI,MAAM;AACV,2BAAiB,MAAM;AACvB,cAAI,gBAAgB;AAClB,qBAAS,OAAO;AAChB;AAAA,UACF;AACA,gBAAM,IAAI,MAAM,6BAA6B;AAAA,QAC/C,KAAK;AACH,iBAAO,mBAAmB,QAAQ,mBAAmB,QAAQ;AAC3D,iBAAK,eAAe,aAAa,eAAe;AAChD,iBAAK,eAAe,YAAY,eAAe;AAC/C,6BAAiB,eAAe;AAAA,UAClC;AACA,kBAAQ,MAAM;AACd,mBAAS,MAAM;AACf,iBAAO,SAAS,OAAO,UAAU;AAAA,YAC/B,GAAG,IAAI,QAAQ;AAAA,YACf,GAAG,IAAI,SAAS;AAAA,UAClB,CAAC;AAAA,QACH,KAAK;AAAA,QACL,KAAK;AACH,iBAAO,SAAS,KAAK;AAAA,MACzB;AAAA,IACF,GAAG,OAAO;AAAA,EACZ,CAAC,CAAC;AACF,SAAO,kBAAkB,MAAM,MAAM,SAAS;AAChD;AACA,IAAIC,gBAA4B,WAAY;AAC1C,WAASA,gBAAe;AACtB,oBAAgB,MAAMA,aAAY;AAClC,oBAAgB,MAAM,aAAa,oBAAI,IAAI,CAAC;AAAA,EAC9C;AACA,SAAO,aAAaA,eAAc,CAAC;AAAA,IACjC,KAAK;AAAA,IACL,OAAO,SAAS,KAAK,MAAM;AACzB,WAAK,UAAU,QAAQ,SAAU,UAAU;AACzC,iBAAS,IAAI;AAAA,MACf,CAAC;AAAA,IACH;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,OAAO,SAAS,OAAO,SAAS;AAC9B,UAAI,QAAQ;AACZ,WAAK,UAAU,IAAI,OAAO;AAC1B,aAAO,WAAY;AACjB,cAAM,UAAU,QAAQ,EAAE,OAAO;AAAA,MACnC;AAAA,IACF;AAAA,EACF,CAAC,CAAC;AACJ,EAAE;AAEF,IAAI,0BAAuC,WAAY;AACrD,WAASC,2BAA0B;AACjC,oBAAgB,MAAMA,wBAAuB;AAC7C,oBAAgB,MAAM,YAAY,oBAAI,IAAI,CAAC;AAAA,EAC7C;AACA,SAAO,aAAaA,0BAAyB,CAAC;AAAA,IAC5C,KAAK;AAAA,IACL,OAAO,SAAS,YAAY,MAAM;AAChC,UAAI,qBAAqB;AACzB,UAAI,OAAO,MAAM,KAAK,KAAK,SAAS,OAAO,CAAC,EAAE,KAAK;AACnD,UAAI,QAAQ,KAAK,OAAO,SAAU,MAAM;AACtC,eAAO,KAAK,SAAS,KAAK,QAAQ,KAAK,WAAW,KAAK,UAAU,KAAK,QAAQ,KAAK;AAAA,MACrF,CAAC;AAGD,UAAI,MAAM,SAAS,EAAG,SAAQ,KAAK,CAAC,kEAAkE,yCAAyC,EAAE,KAAK,GAAG,GAAG,IAAI;AAChK,cAAQ,uBAAuB,aAAa,MAAM,IAAI,OAAO,QAAQ,eAAe,SAAS,SAAS,WAAW,cAAc,QAAQ,wBAAwB,SAAS,sBAAsB;AAAA,IAChM;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,OAAO,SAAS,IAAI,MAAM;AACxB,UAAI,WAAW,KAAK,SAAS,IAAI,KAAK,OAAO;AAC7C,WAAK,SAAS,IAAI,KAAK,SAAS,WAAW,CAAC,EAAE,OAAO,mBAAmB,SAAS,OAAO,SAAU,GAAG;AACnG,eAAO,EAAE,EAAE,WAAW,KAAK,UAAU,EAAE,QAAQ,KAAK,OAAO,EAAE,SAAS,KAAK;AAAA,MAC7E,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AAAA,IACvB;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,OAAO,SAAS,OAAO,SAAS;AAC9B,WAAK,SAAS,QAAQ,EAAE,OAAO;AAAA,IACjC;AAAA,EACF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,OAAO,SAAS,WAAW;AACzB,aAAO,MAAM,KAAK,KAAK,SAAS,OAAO,CAAC,EAAE,KAAK;AAAA,IACjD;AAAA,EACF,CAAC,CAAC;AACJ,EAAE;AAWF,IAAI,qBAAkC,WAAY;AAChD,WAASC,sBAAqB;AAC5B,oBAAgB,MAAMA,mBAAkB;AACxC,oBAAgB,MAAM,WAAW,IAAI,wBAAwB,CAAC;AAC9D,oBAAgB,MAAM,WAAW,IAAIF,cAAa,CAAC;AACnD,oBAAgB,MAAM,QAAQ,IAAI;AAAA,EACpC;AACA,SAAO,aAAaE,qBAAoB,CAAC;AAAA,IACvC,KAAK;AAAA,IACL;AAAA;AAAA;AAAA;AAAA;AAAA,MAKA,SAAS,OAAO,OAAO;AACrB,YAAI,QAAQ;AACZ,YAAI,KAAK,KAAM;AACf,YAAI,CAAC,MAAM,UAAU,EAAG;AACxB,aAAK,OAAO,MAAM,YAAY,cAAc;AAG5C,aAAK,KAAK,QAAqB,WAAY;AACzC,cAAI,OAAO,kBAA+B,mBAAAH,QAAoB,KAAK,SAAS,SAAS,SAAS;AAC5F,gBAAI,eAAe,SAAS,MAAM,OAAO,UAAU,UAAU,UAAU,uBAAuB,QAAQ,QAAQ;AAC9G,mBAAO,mBAAAA,QAAoB,KAAK,SAAS,UAAU,WAAW;AAC5D,qBAAO,EAAG,SAAQ,UAAU,OAAO,UAAU,MAAM;AAAA,gBACjD,KAAK;AACH,sBAAI,EAAE,QAAQ,SAAS,cAAc,QAAQ,KAAK,SAAS,WAAW;AACpE,8BAAU,OAAO;AACjB;AAAA,kBACF;AACA,kCAAgB,QAAQ,MAAM,UAAU,cAAc,QAAQ,OAAO,cAAc,KAAK,QAAQ,cAAc,MAAM,WAAW,cAAc;AAC7I,4BAAU,OAAO;AACjB,yBAAO,MAAM,kBAAkB,SAAS,OAAO,MAAM,QAAQ;AAAA,gBAC/D,KAAK;AACH,6BAAW,UAAU;AACrB,sBAAI,UAAU;AACZ,0BAAM,QAAQ,IAAI;AAAA,sBAChB,QAAQ;AAAA,sBACR,KAAK;AAAA,sBACL,MAAM;AAAA,sBACN,SAAS;AAAA,sBACT;AAAA,oBACF,CAAC;AACD,0BAAM,QAAQ,KAAK;AAAA,sBACjB,QAAQ;AAAA,sBACR,KAAK;AAAA,sBACL,MAAM;AAAA,oBACR,CAAC;AAAA,kBACH;AACA,4BAAU,OAAO;AACjB;AAAA,gBACF,KAAK;AACH,sBAAI,EAAE,QAAQ,SAAS,YAAY;AACjC,8BAAU,OAAO;AACjB;AAAA,kBACF;AACA,wBAAM,QAAQ,OAAO,QAAQ,KAAK,OAAO;AACzC,4BAAU,OAAO;AACjB;AAAA,gBACF,KAAK;AACH,sBAAI,EAAE,QAAQ,SAAS,mBAAmB;AACxC,8BAAU,OAAO;AACjB;AAAA,kBACF;AACA,wBAAM,QAAQ,KAAK;AAAA,oBACjB,QAAQ,QAAQ,KAAK;AAAA,kBACvB,CAAC;AACD,4BAAU,OAAO;AACjB;AAAA,gBACF,KAAK;AACH,sBAAI,EAAE,QAAQ,SAAS,gBAAgB;AACrC,8BAAU,OAAO;AACjB;AAAA,kBACF;AACA,6BAAW,QAAQ,KAAK;AACxB,4BAAU,OAAO;AACjB,yBAAO,QAAQ,IAAI,MAAM,QAAQ,SAAS,EAAE,OAAO,SAAU,MAAM;AACjE,2BAAO,KAAK,WAAW,QAAQ,KAAK,MAAM,KAAK,SAAS;AAAA,kBAC1D,CAAC,EAAE,IAAiB,WAAY;AAC9B,wBAAI,QAAQ,kBAA+B,mBAAAA,QAAoB,KAAK,SAAS,QAAQ,MAAM;AACzF,0BAAI,MAAM,KAAK,SAASI;AACxB,6BAAO,mBAAAJ,QAAoB,KAAK,SAAS,SAAS,UAAU;AAC1D,+BAAO,EAAG,SAAQ,SAAS,OAAO,SAAS,MAAM;AAAA,0BAC/C,KAAK;AACH,mCAAO,KAAK,MAAM,MAAM,KAAK,KAAK,UAAU,KAAK;AACjD,qCAAS,OAAO;AAChB,mCAAO,MAAM,kBAAkB,UAAU,MAAM,KAAK,OAAO;AAAA,0BAC7D,KAAK;AACH,4BAAAI,YAAW,SAAS;AACpB,gCAAIA,WAAU;AACZ,mCAAK,WAAWA;AAAA,4BAClB;AAAA,0BACF,KAAK;AAAA,0BACL,KAAK;AACH,mCAAO,SAAS,KAAK;AAAA,wBACzB;AAAA,sBACF,GAAG,OAAO;AAAA,oBACZ,CAAC,CAAC;AACF,2BAAO,SAAU,KAAK;AACpB,6BAAO,MAAM,MAAM,MAAM,SAAS;AAAA,oBACpC;AAAA,kBACF,EAAE,CAAC,CAAC;AAAA,gBACN,KAAK;AACH,wBAAM,QAAQ,KAAK;AAAA,oBACjB,QAAQ;AAAA,kBACV,CAAC;AACD,4BAAU,OAAO;AACjB;AAAA,gBACF,KAAK;AACH,sBAAI,QAAQ,SAAS,YAAY,QAAQ,KAAK,SAAS,cAAc;AACnE,4CAAwB,QAAQ,KAAK,SAAS,SAAS,sBAAsB,QAAQ,SAAS,sBAAsB;AACpH,+BAAW,UAAU;AACrB,0BAAM,QAAQ,KAAK;AAAA,sBACjB,QAAQ;AAAA,oBACV,CAAC;AAAA,kBACH;AAAA,gBACF,KAAK;AACH,yBAAO,UAAU,OAAO,UAAU,OAAO;AAAA,gBAC3C,KAAK;AAAA,gBACL,KAAK;AACH,yBAAO,UAAU,KAAK;AAAA,cAC1B;AAAA,YACF,GAAG,QAAQ;AAAA,UACb,CAAC,CAAC;AACF,iBAAO,SAAU,IAAI;AACnB,mBAAO,KAAK,MAAM,MAAM,SAAS;AAAA,UACnC;AAAA,QACF,EAAE,CAAC;AAAA,MACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUF,GAAG;AAAA,IACD,KAAK;AAAA,IACL,OAAO,SAAS,OAAO,QAAQ,MAAM,KAAK,QAAQ;AAChD,UAAI,SAAS;AACb,UAAI,WAAW,KAAK,QAAQ,OAAO,SAAU,MAAM;AACjD,YAAI,KAAK,WAAW,OAAQ;AAC5B,aAAK,CAAC,KAAK,OAAO,KAAK,SAAS,UAAU,CAAC,KAAK,QAAQ,KAAK,QAAQ,MAAM;AACzE,cAAI;AACJ,cAAI,WAAW,OAAO,QAAQ,YAAY;AAAA,YACxC;AAAA,YACA;AAAA,YACA;AAAA,UACF,CAAC;AACD,cAAI,CAAC,SAAU;AACf,cAAI,IAAI,SAAS,GACf,IAAI,SAAS;AACf,cAAI,YAAY,cAAc,OAAO,UAAU,QAAQ,gBAAgB,SAAS,SAAS,YAAY,UAAU,IAAI,MAAM;AACzH,cAAI,SAAU,QAAO;AAAA,YACnB,GAAG,IAAI,SAAS,SAAS;AAAA,YACzB,GAAG,IAAI,SAAS,SAAS;AAAA,UAC3B,CAAC;AAAA,QACH;AAAA,MACF,CAAC;AACD,WAAK,QAAQ,SAAS,EAAE,QAAQ,SAAU,MAAM;AAC9C,YAAI,KAAK,WAAW,OAAQ,QAAO,QAAQ,KAAK,IAAI;AAAA,MACtD,CAAC;AACD,aAAO;AAAA,IACT;AAAA,EACF,CAAC,CAAC;AACJ,EAAE;AAEF,SAAS,WAAW,GAAG,GAAG,GAAG;AAAE,SAAO,IAAI,gBAAgB,CAAC,GAAG,2BAA2B,GAAG,0BAA0B,IAAI,QAAQ,UAAU,GAAG,KAAK,CAAC,GAAG,gBAAgB,CAAC,EAAE,WAAW,IAAI,EAAE,MAAM,GAAG,CAAC,CAAC;AAAG;AAC1M,SAAS,4BAA4B;AAAE,MAAI;AAAE,QAAI,IAAI,CAAC,QAAQ,UAAU,QAAQ,KAAK,QAAQ,UAAU,SAAS,CAAC,GAAG,WAAY;AAAA,IAAC,CAAC,CAAC;AAAA,EAAG,SAASC,IAAG;AAAA,EAAC;AAAE,UAAQ,4BAA4B,SAASC,6BAA4B;AAAE,WAAO,CAAC,CAAC;AAAA,EAAG,GAAG;AAAG;AASlP,IAAI,oBAAiC,SAAU,qBAAqB;AAClE,WAASC,mBAAkB,OAAO;AAChC,QAAI;AACJ,oBAAgB,MAAMA,kBAAiB;AACvC,YAAQ,WAAW,MAAMA,kBAAiB;AAC1C,UAAM,QAAQ;AACd,WAAO;AAAA,EACT;AACA,YAAUA,oBAAmB,mBAAmB;AAChD,SAAO,aAAaA,oBAAmB,CAAC;AAAA,IACtC,KAAK;AAAA,IACL,OAAO,WAAY;AACjB,UAAI,qBAAqB,kBAA+B,mBAAAP,QAAoB,KAAK,SAAS,QAAQ,QAAQ,MAAM,KAAK,SAAS;AAC5H,YAAI,YAAY;AAChB,YAAI,MAAM;AACV,eAAO,mBAAAA,QAAoB,KAAK,SAAS,SAAS,UAAU;AAC1D,iBAAO,EAAG,SAAQ,SAAS,OAAO,SAAS,MAAM;AAAA,YAC/C,KAAK;AACH,sBAAQ,aAAa,KAAK,UAAU,QAAQ,eAAe,SAAS,SAAS,WAAW,UAAU,IAAI,MAAM;AAC5G,kBAAI,SAAS,QAAQ,SAAS,UAAU,KAAK,SAAS;AACpD,yBAAS,OAAO;AAChB;AAAA,cACF;AACA,qBAAO,SAAS,OAAO,UAAU,IAAI;AAAA,YACvC,KAAK;AACH,uBAAS,OAAO;AAChB,qBAAO,iBAAiB,SAAS,KAAK,OAAO;AAAA,YAC/C,KAAK;AACH,yBAAW,SAAS;AACpB,kBAAI,GAAG,cAAc,KAAK,WAAW,QAAQ,gBAAgB,UAAU,YAAY,SAAS;AAC1F,yBAAS,OAAO;AAChB;AAAA,cACF;AACA,qBAAO,SAAS,OAAO,UAAU,KAAK,MAAM,OAAO,UAAU,QAAQ,MAAM,GAAG,CAAC;AAAA,YACjF,KAAK;AACH,qBAAO,SAAS,OAAO,UAAU;AAAA,gBAC/B,GAAG,SAAS,IAAI,MAAM,SAAS,UAAU,KAAK;AAAA,gBAC9C,GAAG,SAAS;AAAA,cACd,CAAC;AAAA,YACH,KAAK;AAAA,YACL,KAAK;AACH,qBAAO,SAAS,KAAK;AAAA,UACzB;AAAA,QACF,GAAG,SAAS,IAAI;AAAA,MAClB,CAAC,CAAC;AACF,eAAS,kBAAkB,IAAI,KAAK,KAAK,KAAK;AAC5C,eAAO,mBAAmB,MAAM,MAAM,SAAS;AAAA,MACjD;AACA,aAAO;AAAA,IACT,EAAE;AAAA,EACJ,CAAC,CAAC;AACJ,EAAE,kBAAkB;AAMpB,SAAS,qBAAqB,OAAO;AACnC,SAAO,IAAI,kBAAkB,KAAK;AACpC;;;AC/ZA,IAAM,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMd,SAAS,QAAQ,OAAO;AACpB,UAAM,KAAK,WAAW,QAAQ,KAAK;AACnC,WAAO,MAAM,aAAa,EAAE;AAAA,EAChC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,qBAAqB,QAAQ;AAGzB,QAAI,OAAO,WAAW,aAAa;AAE/B,aAAO,UAAU,SAAS,QAAQ,CAAC;AAAA,IACvC;AACA,QAAI,OAAO,OAAO,0BAA0B,aAAa;AACrD,YAAM,UAAU;AAChB,aAAO,UAAU,SAAS,QAAQ,OAAO;AAAA,IAC7C;AACA,UAAM,KAAK,OAAO,sBAAsB,MAAM;AAC9C,WAAO,MAAM,OAAO,qBAAqB,EAAE;AAAA,EAC/C;AACJ;AAIA,SAAS,gBAAgB,OAAO;AAC5B,SAAO,MAAM,QAAQ,UAAU,CAAC,SAAS,IAAI,KAAK,YAAY,CAAC,EAAE;AACrE;AAIA,SAAS,UAAU,MAAM;AACrB,SAAO,CAAC,CAAC,QAAQ,KAAK,aAAa,KAAK;AAC5C;AAIA,SAAS,WAAW,OAAO;AACvB,SAAO,OAAO,UAAU;AAC5B;AAOA,IAAI;AAMJ,SAAS,gBAAgB,IAAI,UAAU;AACnC,MAAI,CAAC,UAAU;AACX,UAAM,UAAU,QAAQ;AACxB,eACI,QAAQ,WACJ,QAAQ,mBACR,QAAQ,sBACR,QAAQ,qBACR,QAAQ,oBACR,QAAQ;AAAA,EACpB;AACA,SAAO,GAAG,aAAa,KAAK,eAAe,SAAS,KAAK,IAAI,QAAQ,IAAI;AAC7E;AAIA,SAAS,aAAa,QAAQ,QAAQ;AAClC,SAAO,WAAW,UAAW,WAAW,UAAU,WAAW;AACjE;AAEA,SAAS,oCAAoC,QAAQ;AACjD,QAAM,4BAA4B,CAAC;AACnC,SAAO,QAAQ,CAAC,EAAE,UAAU,cAAc,UAAU,MAAM;AACtD,8BAA0B,gBAAgB,YAAY,CAAC,IAAI,CAAC,UAAU,SAAS;AAAA,EACnF,CAAC;AACD,SAAO;AACX;AAKA,SAAS,mBAAmB,WAAW,UAAU;AAC7C,QAAM,2BAA2B,SAAS,IAAI,0BAAwB;AACtE,QAAM,mBAAmB,yBAAyB,wBAAwB,SAAS;AACnF,SAAO,iBAAiB;AAC5B;AAGA,SAAS,wBAAwB,MAAM,oBAAoB;AACvD,QAAM,QAAQ,KAAK;AACnB,QAAM,mBAAmB,mBAAmB,IAAI,MAAM,CAAC,CAAC;AACxD,MAAI,gBAAgB;AACpB,qBAAmB,KAAK,CAAC,UAAU,MAAM;AACrC,QAAI,aAAa,KAAK;AAClB,sBAAgB;AAChB,aAAO;AAAA,IACX;AACA,WAAO;AAAA,EACX,CAAC;AACD,WAAS,IAAI,GAAG,KAAK,MAAM,QAAQ,IAAI,IAAI,EAAE,GAAG;AAC5C,UAAM,OAAO,MAAM,CAAC;AACpB,UAAM,iBAAiB,kBAAkB,MAAM,oBAAoB,aAAa;AAChF,QAAI,mBAAmB,IAAI;AACvB,uBAAiB,cAAc,EAAE,KAAK,IAAI;AAAA,IAC9C;AAAA,EACJ;AACA,SAAO;AACX;AACA,SAAS,kBAAkB,MAAM,WAAW,cAAc;AACtD,MAAI,gBAAgB;AACpB,MAAI,UAAU,IAAI,GAAG;AACjB,cAAU,KAAK,CAAC,UAAU,MAAM;AAC5B,UAAI,aAAa,OAAO,gBAAgB,MAAM,QAAQ,GAAG;AACrD,wBAAgB;AAChB,eAAO;AAAA,MACX;AACA,aAAO;AAAA,IACX,CAAC;AAAA,EACL;AACA,SAAO;AACX;AAGA,IAAM,gBAAgB;AAKtB,IAAM,oCAAN,MAAwC;AAAA,EACpC,YAAY,WAAW,UAAU;AAC7B,SAAK,mBAAmB,SACnB,IAAI,0BAAwB,EAC5B,wBAAwB,SAAS;AAAA,EAC1C;AAAA,EACA,OAAO,UAAU;AACb,WAAO,IAAI,2BAA2B,KAAK,kBAAkB,QAAQ;AAAA,EACzE;AACJ;AAKA,IAAM,6BAAN,MAAiC;AAAA,EAC7B,YAAY,kBAAkB,UAAU;AACpC,SAAK,mBAAmB;AACxB,SAAK,WAAW;AAEhB,SAAK,gBAAgB,IAAI,cAAc,CAAC;AAExC,SAAK,SAAS,KAAK,cAAc,KAAK,UAAU,CAAC,aAAa,MAAM,GAAG,QAAQ,CAAC,CAAC;AAEjF,SAAK,eAAe;AAEpB,SAAK,wBAAwB;AAK7B,SAAK,eAAe;AAEpB,SAAK,kBAAkB;AAEvB,SAAK,sBAAsB;AAE3B,SAAK,6BAA6B;AAElC,SAAK,qBAAqB;AAE1B,SAAK,qBAAqB,oBAAI,IAAI;AAClC,SAAK,kBAAkB,IAAI,IAAI,KAAK,iBAAiB,OAAO,IAAI,CAAC,EAAE,SAAS,MAAM,QAAQ,CAAC;AAC3F,SAAK,SAAS,KAAK,SAAS,IAAI,MAAM;AACtC,SAAK,cAAc,OAAO,SAAS,cAAc,OAAO,KAAK,OAAO,IAAI,MAAM,KAAK,OAAO;AAAA,EAC9F;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,QAAQ,SAAS;AACb,SAAK,UAAU,MAAM;AAGjB,UAAI,KAAK,uBAAuB,MAAM;AAClC,aAAK,mBAAmB;AACxB,aAAK,qBAAqB;AAC1B;AAAA,MACJ;AACA,UAAI,KAAK,iBAAiB,MAAM;AAC5B,aAAK,oBAAoB,OAAO;AAAA,MACpC;AAAA,IACJ,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa;AACT,SAAK,UAAU,MAAM;AAEjB,UAAI,KAAK,iBAAiB,QAAQ,KAAK,uBAAuB,MAAM;AAChE;AAAA,MACJ;AAGA,WAAK,qBAAqB,UAAU,SAAS,MAAM;AAC/C,YAAI,KAAK,iBAAiB,MAAM;AAC5B,eAAK,aAAa,QAAQ;AAC1B,eAAK,eAAe;AACpB,eAAK,wBAAwB;AAAA,QACjC;AAAA,MACJ,GAAG,aAAa;AAAA,IACpB,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,cAAc,UAAU;AACpB,WAAO,KAAK,UAAU,MAAM;AACxB,UAAI,KAAK,iBAAiB,MAAM;AAC5B,eAAO,KAAK,mBAAmB,IAAI,QAAQ;AAAA,MAC/C;AACA,aAAO,KAAK,aAAa,SAAS,QAAQ;AAAA,IAC9C,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,cAAc,UAAU,OAAO,WAAW;AACtC,SAAK,UAAU,MAAM;AACjB,UAAI,WAAW;AACX,gBAAQ,UAAU,KAAK,KAAK,cAAc,UAAU,KAAK;AAAA,MAC7D;AACA,UAAI,KAAK,iBAAiB,MAAM;AAC5B,aAAK,mBAAmB,IAAI,UAAU,KAAK;AAC3C;AAAA,MACJ;AAIA,UAAI,aAAa,OAAO,KAAK,cAAc,QAAQ,CAAC,KAChD,EAAE,UAAU,UAAa,KAAK,gBAAgB,IAAI,QAAQ,IAAI;AAC9D;AAAA,MACJ;AAGA,WAAK,kBAAkB,UAAU,KAAK;AACtC,WAAK,gBAAgB,OAAO,QAAQ;AACpC,WAAK,kBAAkB;AAEvB,WAAK,aAAa,SAAS,QAAQ,IAAI;AACvC,WAAK,sBAAsB;AAAA,IAC/B,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,oBAAoB,SAAS;AACzB,UAAM,gBAAgB,SAAS,OAAO,EAAE,WAAW,CAAC,GAAG,QAAQ,KAAK,SAAS,CAAC;AAC9E,UAAM,mBAAmB,wBAAwB,SAAS,KAAK,iBAAiB,kBAAkB;AAClG,SAAK,eAAe,KAAK,iBAAiB,OAAO,eAAe,kBAAkB,OAAO;AACzF,SAAK,wBAAwB,KAAK,aAAa,SAAS,IAAI,iBAAiB;AAC7E,SAAK,sBAAsB,WAAW,KAAK,aAAa,SAAS,WAAW;AAC5E,SAAK,iBAAiB;AACtB,SAAK,kBAAkB,KAAK,YAAY;AACxC,SAAK,cAAc;AACnB,UAAM,iBAAiB,KAAK,SAAS,IAAI,cAAc;AACvD,mBAAe,WAAW,KAAK,aAAa,QAAQ;AAAA,EACxD;AAAA;AAAA,EAEA,mBAAmB;AACf,SAAK,iBAAiB,OAAO,QAAQ,CAAC,EAAE,UAAU,UAAU,MAAM;AAC9D,UAAI,KAAK,mBAAmB,IAAI,QAAQ,GAAG;AAGvC,aAAK,cAAc,UAAU,KAAK,mBAAmB,IAAI,QAAQ,GAAG,SAAS;AAAA,MACjF;AAAA,IACJ,CAAC;AACD,SAAK,mBAAmB,MAAM;AAAA,EAClC;AAAA;AAAA,EAEA,kBAAkB,cAAc;AAC5B,UAAM,gBAAgB,KAAK,iBAAiB,QAAQ,IAAI,CAAC,EAAE,UAAU,aAAa,MAAM;AACpF,YAAM,UAAU,aAAa,SAAS,QAAQ;AAC9C,aAAO,QAAQ,KAAK,IAAI,CAAC,WAAW,EAAE,MAAM,cAAc,MAAM,EAAE,CAAC;AAAA,IACvE,CAAC;AACD,SAAK,cAAc,KAAK,aAAa;AAAA,EACzC;AAAA;AAAA,EAEA,gBAAgB,cAAc;AAC1B,QAAI,CAAC,KAAK,uBAAuB,KAAK,iBAAiB,MAAM;AACzD;AAAA,IACJ;AAGA,UAAM,eAAe,KAAK;AAC1B,SAAK,eAAe;AACpB,iBAAa,SAAS,YAAY,YAAY;AAAA,EAClD;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,iBAAiB,uBAAuB;AACpC,QAAI,KAAK,iBAAiB;AACtB,WAAK,kBAAkB;AACvB,4BAAsB,aAAa;AAAA,IACvC;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,wBAAwB;AACpB,QAAI,KAAK,4BAA4B;AACjC;AAAA,IACJ;AACA,SAAK,6BAA6B,UAAU,qBAAqB,MAAM;AACnE,WAAK,6BAA6B;AAClC,WAAK,cAAc;AAAA,IACvB,CAAC;AAAA,EACL;AAAA;AAAA;AAAA;AAAA,EAIA,kBAAkB,UAAU,cAAc;AAEtC,QAAI,CAAC,KAAK,qBAAqB;AAC3B;AAAA,IACJ;AACA,QAAI,KAAK,iBAAiB,MAAM;AAC5B,WAAK,eAAe,CAAC;AAAA,IACzB;AAGA,UAAM,gBAAgB,KAAK,aAAa,QAAQ;AAChD,QAAI,eAAe;AACf,oBAAc,eAAe;AAC7B;AAAA,IACJ;AACA,UAAM,gBAAgB,KAAK,gBAAgB,IAAI,QAAQ;AACvD,UAAM,gBAAgB,gBAAgB,SAAY,KAAK,cAAc,QAAQ;AAC7E,SAAK,aAAa,QAAQ,IAAI,IAAI,aAAa,eAAe,cAAc,aAAa;AAAA,EAC7F;AAAA;AAAA,EAEA,gBAAgB;AACZ,QAAI,KAAK,iBAAiB,MAAM;AAC5B;AAAA,IACJ;AACA,SAAK,gBAAgB,KAAK,YAAY;AACtC,SAAK,iBAAiB,KAAK,qBAAqB;AAChD,SAAK,aAAa,kBAAkB,cAAc;AAAA,EACtD;AAAA;AAAA,EAEA,UAAU,IAAI;AACV,WAAO,KAAK,eAAe,KAAK,YAAY,KAAK,cAAc,KAAK,OAAO,IAAI,EAAE,IAAI,GAAG;AAAA,EAC5F;AACJ;AAOA,IAAM,YAAN,cAAwB,YAAY;AAAA,EAChC,cAAc;AACV,UAAM,GAAG,SAAS;AAIlB,SAAK,8BAA8B;AAAA,EACvC;AACJ;AAuBA,SAAS,oBAAoB,WAAW,QAAQ;AAC5C,QAAM,SAAS,mBAAmB,WAAW,OAAO,QAAQ;AAC5D,QAAM,kBAAkB,OAAO,mBAAmB,IAAI,kCAAkC,WAAW,OAAO,QAAQ;AAClH,QAAM,4BAA4B,oCAAoC,MAAM;AAAA,EAC5E,MAAM,sBAAsB,UAAU;AAAA,IAGlC,OAAO;AAAE,WAAK,oBAAoB,IAAI,OAAO,KAAK,yBAAyB;AAAA,IAAG;AAAA,IAC9E,IAAI,oBAAoB;AAGpB,UAAI,CAAC,KAAK,oBAAoB;AAC1B,cAAM,WAAY,KAAK,qBAAqB,gBAAgB,OAAO,KAAK,YAAY,OAAO,QAAQ;AAGnG,eAAO,QAAQ,CAAC,EAAE,UAAU,UAAU,MAAM;AACxC,cAAI,CAAC,KAAK,eAAe,QAAQ,GAAG;AAEhC;AAAA,UACJ;AAEA,gBAAM,QAAQ,KAAK,QAAQ;AAC3B,iBAAO,KAAK,QAAQ;AACpB,mBAAS,cAAc,UAAU,OAAO,SAAS;AAAA,QACrD,CAAC;AAAA,MACL;AACA,aAAO,KAAK;AAAA,IAChB;AAAA,IACA,YAAY,UAAU;AAClB,YAAM;AACN,WAAK,WAAW;AAAA,IACpB;AAAA,IACA,yBAAyB,UAAU,UAAU,UAAU,WAAW;AAC9D,YAAM,CAAC,UAAU,SAAS,IAAI,0BAA0B,QAAQ;AAChE,WAAK,kBAAkB,cAAc,UAAU,UAAU,SAAS;AAAA,IACtE;AAAA,IACA,oBAAoB;AAQhB,UAAI,qBAAqB;AACzB,UAAI,KAAK,kBAAkB,QAAQ;AAE/B,aAAK,kBAAkB;AACvB,6BAAqB;AAAA,MACzB;AACA,WAAK,kBAAkB,QAAQ,IAAI;AACnC,UAAI,CAAC,oBAAoB;AAIrB,aAAK,kBAAkB;AAAA,MAC3B;AAAA,IACJ;AAAA,IACA,uBAAuB;AAEnB,UAAI,KAAK,oBAAoB;AACzB,aAAK,mBAAmB,WAAW;AAAA,MACvC;AACA,UAAI,KAAK,6BAA6B;AAClC,aAAK,4BAA4B,YAAY;AAC7C,aAAK,8BAA8B;AAAA,MACvC;AAAA,IACJ;AAAA,IACA,oBAAoB;AAEhB,WAAK,8BAA8B,KAAK,kBAAkB,OAAO,UAAU,CAAC,MAAM;AAC9E,cAAM,cAAc,IAAI,YAAY,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,CAAC;AAC/D,aAAK,cAAc,WAAW;AAAA,MAClC,CAAC;AAAA,IACL;AAAA,EACJ;AAEA,SAAO,QAAQ,CAAC,EAAE,UAAU,UAAU,MAAM;AACxC,WAAO,eAAe,cAAc,WAAW,UAAU;AAAA,MACrD,MAAM;AACF,eAAO,KAAK,kBAAkB,cAAc,QAAQ;AAAA,MACxD;AAAA,MACA,IAAI,UAAU;AACV,aAAK,kBAAkB,cAAc,UAAU,UAAU,SAAS;AAAA,MACtE;AAAA,MACA,cAAc;AAAA,MACd,YAAY;AAAA,IAChB,CAAC;AAAA,EACL,CAAC;AACD,SAAO;AACX;AAKA,IAAM,UAAU,IAAI,QAAQ,SAAS;;;AC1frC,IAAM,eAAN,MAAM,cAAa;AAAA,EACf;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAY,IAAI;AACZ,SAAK,KAAK;AAAA,EACd;AAAA,EACA,cAAc;AACV,SAAK,KAAK,EAAE,MAAM,UAAU,MAAM,iCAAK,KAAK,OAAV,EAAgB,SAAS,KAAK,GAAG,cAAc,GAAE,CAAC;AAAA,EACxF;AAAA,EACA,cAAc;AACV,SAAK,KAAK,EAAE,MAAM,WAAW,MAAM,EAAE,SAAS,KAAK,GAAG,cAAc,EAAE,CAAC;AAAA,EAC3E;AAAA,EACA,OAAO,OAAO,SAAS,qBAAqB,GAAG;AAAE,WAAO,KAAK,KAAK,eAAiB,kBAAqB,UAAU,CAAC;AAAA,EAAG;AAAA,EACtH,OAAO,OAAwB,kBAAkB,EAAE,MAAM,eAAc,WAAW,CAAC,CAAC,IAAI,gBAAgB,EAAE,CAAC,GAAG,QAAQ,EAAE,MAAM,QAAQ,MAAM,OAAO,GAAG,UAAU,CAAI,oBAAoB,EAAE,CAAC;AAC/L;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,cAAc,CAAC;AAAA,IACxF,MAAM;AAAA,IACN,MAAM,CAAC;AAAA,MACC,UAAU;AAAA,IACd,CAAC;AAAA,EACT,CAAC,GAAG,MAAM,CAAC,EAAE,MAAS,WAAW,CAAC,GAAG,EAAE,MAAM,CAAC;AAAA,IACtC,MAAM;AAAA,EACV,CAAC,GAAG,MAAM,CAAC;AAAA,IACP,MAAM;AAAA,EACV,CAAC,EAAE,CAAC;AAAG,GAAG;AAElB,IAAM,qBAAN,MAAM,oBAAmB;AAAA,EACrB,UAAU,OAAO,WAAW;AACxB,QAAI,CAAC,SAAS,OAAO,UAAU,UAAU;AACrC,aAAO,CAAC;AAAA,IACZ;AACA,UAAM,SAAS,OAAO,QAAQ,KAAK,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,OAAO,EAAE,KAAK,OAAO,IAAI,EAAE;AAC9E,QAAI,WAAW;AACX,aAAO,KAAK,SAAS;AAAA,IACzB;AACA,WAAO;AAAA,EACX;AAAA,EACA,OAAO,OAAO,SAAS,2BAA2B,GAAG;AAAE,WAAO,KAAK,KAAK,qBAAoB;AAAA,EAAG;AAAA,EAC/F,OAAO,QAAyB,aAAa,EAAE,MAAM,kBAAkB,MAAM,qBAAoB,MAAM,MAAM,CAAC;AAClH;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,oBAAoB,CAAC;AAAA,IAC9F,MAAM;AAAA,IACN,MAAM,CAAC;AAAA,MACC,MAAM;AAAA,MACN,MAAM;AAAA,IACV,CAAC;AAAA,EACT,CAAC,GAAG,MAAM,IAAI;AAAG,GAAG;AAExB,IAAM,QAAQ,CAAC,IAAI,IAAI,IAAI,QAAQ,EAAE,MAAM,UAAU,MAAM,UAAU,KAAK,IAAI,QAAQ,IAAI,SAAS,IAAI,MAAM,GAAG;AAChH,SAAS,6BAA6B,IAAI,KAAK;AAAE,MAAI,KAAK,GAAG;AACzD,IAAG,eAAe,GAAG,OAAO,CAAC,EAAE,GAAG,OAAO,CAAC;AAC1C,IAAG,OAAO,CAAC;AACX,IAAG,aAAa;AAChB,IAAG,UAAU,GAAG,OAAO,CAAC;AACxB,IAAG,aAAa;AAAA,EACpB;AAAE,MAAI,KAAK,GAAG;AACV,UAAM,YAAY,IAAI;AACtB,UAAM,SAAY,cAAc;AAChC,IAAG,YAAY,eAAe,YAAY,UAAU,GAAG;AACvD,IAAG,UAAU,CAAC;AACd,IAAG,kBAAkB,UAAU,SAAS,OAAO,OAAO,UAAU,MAAM,KAAK;AAC3E,IAAG,UAAU,CAAC;AACd,IAAG,WAAW,QAAW,gBAAgB,GAAG,OAAO,UAAU,KAAK,OAAO,KAAK,IAAI,UAAU,SAAS,OAAO,OAAO,UAAU,MAAM,QAAQ,OAAO,IAAI,CAAC,EAAE,QAAQ,OAAO,IAAI;AAAA,EAChL;AAAE;AACF,IAAM,MAAM,SAAO,EAAE,MAAM,WAAW,SAAS,GAAG;AAClD,SAAS,6BAA6B,IAAI,KAAK;AAAE,MAAI,KAAK,GAAG;AACzD,IAAG,UAAU,GAAG,OAAO,CAAC;AAAA,EAC5B;AAAE,MAAI,KAAK,GAAG;AACV,UAAM,aAAa,IAAI;AACvB,UAAM,SAAY,cAAc;AAChC,IAAG,WAAW,QAAW,gBAAgB,GAAG,KAAK,WAAW,KAAK,CAAC,EAAE,QAAQ,OAAO,IAAI;AACvF,IAAG,YAAY,eAAe,aAAa,WAAW,GAAG;AAAA,EAC7D;AAAE;AACF,SAAS,mCAAmC,IAAI,KAAK;AAAE,MAAI,KAAK,GAAG;AAC/D,IAAG,eAAe,GAAG,OAAO,EAAE;AAC9B,IAAG,OAAO,CAAC;AACX,IAAG,aAAa;AAAA,EACpB;AAAE,MAAI,KAAK,GAAG;AACV,UAAM,WAAc,cAAc,EAAE;AACpC,IAAG,UAAU,CAAC;AACd,IAAG,kBAAkB,SAAS,SAAS,OAAO,OAAO,SAAS,MAAM,KAAK;AAAA,EAC7E;AAAE;AACF,IAAM,MAAM,CAAC,IAAI,IAAI,IAAI,QAAQ,EAAE,MAAM,UAAU,MAAM,SAAS,KAAK,IAAI,QAAQ,IAAI,SAAS,IAAI,MAAM,GAAG;AAC7G,SAAS,6BAA6B,IAAI,KAAK;AAAE,MAAI,KAAK,GAAG;AACzD,IAAG,eAAe,GAAG,OAAO,CAAC;AAC7B,IAAG,UAAU,GAAG,OAAO,CAAC;AACxB,IAAG,WAAW,GAAG,oCAAoC,GAAG,GAAG,OAAO,EAAE;AACpE,IAAG,UAAU,GAAG,OAAO,EAAE;AACzB,IAAG,aAAa;AAAA,EACpB;AAAE,MAAI,KAAK,GAAG;AACV,UAAM,WAAW,IAAI;AACrB,UAAM,SAAY,cAAc;AAChC,IAAG,YAAY,eAAe,WAAW,SAAS,GAAG;AACrD,IAAG,UAAU,CAAC;AACd,IAAG,WAAW,QAAW,gBAAgB,GAAG,KAAK,SAAS,KAAK,OAAO,KAAK,IAAI,SAAS,SAAS,OAAO,OAAO,SAAS,MAAM,QAAQ,OAAO,IAAI,CAAC,EAAE,QAAQ,OAAO,IAAI;AACvK,IAAG,UAAU,CAAC;AACd,IAAG,WAAW,QAAQ,EAAE,SAAS,SAAS,OAAO,OAAO,SAAS,MAAM,YAAY,EAAE,SAAS,SAAS,OAAO,OAAO,SAAS,MAAM,YAAY;AAChJ,IAAG,UAAU,CAAC;AACd,IAAG,YAAY,YAAY,SAAS,SAAS,OAAO,OAAO,SAAS,MAAM,aAAa,SAAS,SAAS,OAAO,OAAO,SAAS,MAAM,eAAe,KAAK,MAAM;AAChK,IAAG,WAAW,QAAW,gBAAgB,IAAI,KAAK,SAAS,SAAS,OAAO,OAAO,SAAS,MAAM,OAAO,CAAC,EAAE,QAAQ,OAAO,IAAI;AAAA,EAClI;AAAE;AACF,IAAM,gBAAN,MAAM,eAAc;AAAA,EAChB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,OAAO;AAAA,EACP,IAAI,QAAQ;AACR,WAAO,KAAK,KAAK;AAAA,EACrB;AAAA,EACA,IAAI,SAAS;AACT,WAAO,KAAK,KAAK;AAAA,EACrB;AAAA,EACA,IAAI,WAAW;AACX,WAAO,KAAK,KAAK;AAAA,EACrB;AAAA,EACA,YAAY,KAAK;AACb,SAAK,MAAM;AACX,SAAK,IAAI,OAAO;AAAA,EACpB;AAAA,EACA,cAAc;AACV,SAAK,IAAI,cAAc;AACvB,0BAAsB,MAAM,KAAK,SAAS,CAAC;AAC3C,SAAK;AAAA,EACT;AAAA,EACA,YAAY,GAAG,GAAG;AACd,UAAM,KAAK,EAAE,OAAO,SAAS;AAC7B,UAAM,KAAK,EAAE,OAAO,SAAS;AAC7B,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,OAAO,OAAO,SAAS,sBAAsB,GAAG;AAAE,WAAO,KAAK,KAAK,gBAAkB,kBAAqB,iBAAiB,CAAC;AAAA,EAAG;AAAA,EAC/H,OAAO,OAAwB,kBAAkB,EAAE,MAAM,gBAAe,WAAW,CAAC,CAAC,cAAc,CAAC,GAAG,WAAW,CAAC,eAAe,MAAM,GAAG,UAAU,GAAG,cAAc,SAAS,2BAA2B,IAAI,KAAK;AAAE,QAAI,KAAK,GAAG;AACzN,MAAG,YAAY,SAAS,IAAI,OAAO,IAAI,EAAE,UAAU,IAAI,QAAQ,IAAI;AACnE,MAAG,YAAY,YAAY,IAAI,QAAQ;AAAA,IAC3C;AAAA,EAAE,GAAG,QAAQ,EAAE,MAAM,QAAQ,MAAM,QAAQ,UAAU,WAAW,GAAG,UAAU,CAAI,oBAAoB,GAAG,OAAO,GAAG,MAAM,IAAI,QAAQ,CAAC,CAAC,eAAe,SAAS,GAAG,OAAO,GAAG,CAAC,SAAS,UAAU,GAAG,SAAS,SAAS,GAAG,CAAC,SAAS,WAAW,gBAAgB,IAAI,GAAG,QAAQ,QAAQ,GAAG,SAAS,SAAS,GAAG,CAAC,SAAS,SAAS,GAAG,SAAS,SAAS,GAAG,CAAC,GAAG,QAAQ,GAAG,CAAC,eAAe,gBAAgB,GAAG,cAAc,GAAG,CAAC,gBAAgB,IAAI,eAAe,iBAAiB,GAAG,iBAAiB,GAAG,QAAQ,MAAM,GAAG,CAAC,gBAAgB,IAAI,GAAG,WAAW,GAAG,QAAQ,MAAM,GAAG,CAAC,GAAG,OAAO,GAAG,CAAC,gBAAgB,IAAI,eAAe,gBAAgB,GAAG,gBAAgB,GAAG,QAAQ,MAAM,GAAG,CAAC,SAAS,eAAe,eAAe,eAAe,GAAG,MAAM,GAAG,CAAC,gBAAgB,IAAI,eAAe,iBAAiB,GAAG,iBAAiB,GAAG,QAAQ,MAAM,GAAG,CAAC,eAAe,eAAe,GAAG,aAAa,CAAC,GAAG,UAAU,SAAS,uBAAuB,IAAI,KAAK;AAAE,QAAI,KAAK,GAAG;AACt6B,MAAG,eAAe,GAAG,OAAO,CAAC;AAC7B,MAAG,OAAO,CAAC;AACX,MAAG,aAAa;AAChB,MAAG,WAAW,GAAG,8BAA8B,GAAG,GAAG,OAAO,CAAC;AAC7D,MAAG,OAAO,GAAG,gBAAgB;AAC7B,MAAG,WAAW,GAAG,8BAA8B,GAAG,GAAG,OAAO,CAAC;AAC7D,MAAG,OAAO,GAAG,gBAAgB;AAC7B,MAAG,WAAW,GAAG,8BAA8B,GAAG,IAAI,OAAO,CAAC;AAC9D,MAAG,OAAO,GAAG,gBAAgB;AAAA,IACjC;AAAE,QAAI,KAAK,GAAG;AACV,MAAG,UAAU,CAAC;AACd,MAAG,kBAAkB,IAAI,KAAK,KAAK;AACnC,MAAG,UAAU,CAAC;AACd,MAAG,WAAW,WAAc,YAAY,GAAG,GAAG,IAAI,KAAK,SAAS,IAAI,WAAW,CAAC;AAChF,MAAG,UAAU,CAAC;AACd,MAAG,WAAW,WAAc,YAAY,GAAG,GAAG,IAAI,KAAK,UAAU,IAAI,WAAW,CAAC;AACjF,MAAG,UAAU,CAAC;AACd,MAAG,WAAW,WAAc,YAAY,GAAG,IAAI,IAAI,KAAK,QAAQ,IAAI,WAAW,CAAC;AAAA,IACpF;AAAA,EAAE,GAAG,cAAc,CAAI,SAAY,MAAM,cAAc,kBAAkB,GAAG,QAAQ,CAAC,83CAA83C,EAAE,CAAC;AAC99C;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,eAAe,CAAC;AAAA,IACzF,MAAM;AAAA,IACN,MAAM,CAAC,EAAE,MAAM;AAAA,MACH,eAAe;AAAA,IACnB,GAAG,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAqqD,QAAQ,CAAC,6/BAA6/B,EAAE,CAAC;AAAA,EACvsF,CAAC,GAAG,MAAM,CAAC,EAAE,MAAS,kBAAkB,CAAC,GAAG,EAAE,MAAM,CAAC;AAAA,IAC7C,MAAM;AAAA,EACV,CAAC,GAAG,MAAM,CAAC;AAAA,IACP,MAAM;AAAA,EACV,CAAC,GAAG,UAAU,CAAC;AAAA,IACX,MAAM;AAAA,EACV,CAAC,GAAG,OAAO,CAAC;AAAA,IACR,MAAM;AAAA,IACN,MAAM,CAAC,gBAAgB;AAAA,EAC3B,CAAC,GAAG,QAAQ,CAAC;AAAA,IACT,MAAM;AAAA,IACN,MAAM,CAAC,iBAAiB;AAAA,EAC5B,CAAC,GAAG,UAAU,CAAC;AAAA,IACX,MAAM;AAAA,IACN,MAAM,CAAC,gBAAgB;AAAA,EAC3B,CAAC,EAAE,CAAC;AAAG,GAAG;AAAA,CACjB,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,mBAAmB,eAAe,EAAE,WAAW,iBAAiB,UAAU,qDAAqD,YAAY,GAAG,CAAC;AAAG,GAAG;AAEpN,IAAM,kBAAN,MAAM,iBAAgB;AAAA,EAClB;AAAA,EACA;AAAA,EACA;AAAA,EACA,IAAI,QAAQ;AACR,WAAO,KAAK,KAAK;AAAA,EACrB;AAAA,EACA,YAAY,KAAK;AACb,SAAK,MAAM;AACX,SAAK,IAAI,OAAO;AAAA,EACpB;AAAA,EACA,cAAc;AACV,SAAK,IAAI,cAAc;AACvB,0BAAsB,MAAM,KAAK,SAAS,CAAC;AAAA,EAC/C;AAAA,EACA,OAAO,OAAO,SAAS,wBAAwB,GAAG;AAAE,WAAO,KAAK,KAAK,kBAAoB,kBAAqB,iBAAiB,CAAC;AAAA,EAAG;AAAA,EACnI,OAAO,OAAwB,kBAAkB,EAAE,MAAM,kBAAiB,WAAW,CAAC,CAAC,cAAc,CAAC,GAAG,UAAU,GAAG,cAAc,SAAS,6BAA6B,IAAI,KAAK;AAAE,QAAI,KAAK,GAAG;AACzL,MAAG,eAAe,SAAS,IAAI,KAAK;AAAA,IACxC;AAAA,EAAE,GAAG,QAAQ,EAAE,MAAM,QAAQ,UAAU,WAAW,GAAG,UAAU,CAAI,oBAAoB,GAAG,OAAO,GAAG,MAAM,GAAG,UAAU,SAAS,yBAAyB,IAAI,KAAK;AAAA,EAAE,GAAG,QAAQ,CAAC,oXAAoX,EAAE,CAAC;AAC/iB;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,iBAAiB,CAAC;AAAA,IAC3F,MAAM;AAAA,IACN,MAAM,CAAC,EAAE,UAAU,IAAI,QAAQ,CAAC,+TAA+T,EAAE,CAAC;AAAA,EACtW,CAAC,GAAG,MAAM,CAAC,EAAE,MAAS,kBAAkB,CAAC,GAAG,EAAE,MAAM,CAAC;AAAA,IAC7C,MAAM;AAAA,EACV,CAAC,GAAG,UAAU,CAAC;AAAA,IACX,MAAM;AAAA,EACV,CAAC,GAAG,OAAO,CAAC;AAAA,IACR,MAAM;AAAA,IACN,MAAM,CAAC,OAAO;AAAA,EAClB,CAAC,EAAE,CAAC;AAAG,GAAG;AAAA,CACjB,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,mBAAmB,iBAAiB,EAAE,WAAW,mBAAmB,UAAU,yDAAyD,YAAY,EAAE,CAAC;AAAG,GAAG;AAE3N,IAAM,mBAAN,MAAM,kBAAiB;AAAA,EACnB;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAY,OAAO;AACf,UAAM,gBAAgB;AAAA,EAC1B;AAAA,EACA,YAAY,KAAK;AACb,SAAK,MAAM;AACX,SAAK,IAAI,OAAO;AAAA,EACpB;AAAA,EACA,YAAY,SAAS;AACjB,UAAM,OAAO,QAAQ,MAAM;AAC3B,UAAM,OAAO,QAAQ,MAAM;AAC3B,QAAK,QAAQ,KAAK,iBAAiB,KAAK,iBAChC,QAAQ,KAAK,iBAAiB,KAAK,eAAgB;AACvD,WAAK,IAAI,cAAc;AAAA,IAC3B;AACA,0BAAsB,MAAM,KAAK,SAAS,CAAC;AAAA,EAC/C;AAAA,EACA,SAAS,GAAG;AACR,UAAM,SAAS,EAAE;AACjB,UAAM,QAAS,KAAK,KAAK,SAAS,WAC5B,CAAC,OAAO,QACR,OAAO;AACb,SAAK,KAAK,SAAS,KAAK;AACxB,SAAK,IAAI,cAAc;AAAA,EAC3B;AAAA,EACA,OAAO,OAAO,SAAS,yBAAyB,GAAG;AAAE,WAAO,KAAK,KAAK,mBAAqB,kBAAqB,iBAAiB,CAAC;AAAA,EAAG;AAAA,EACrI,OAAO,OAAwB,kBAAkB,EAAE,MAAM,mBAAkB,WAAW,CAAC,CAAC,cAAc,CAAC,GAAG,cAAc,SAAS,8BAA8B,IAAI,KAAK;AAAE,QAAI,KAAK,GAAG;AAC9K,MAAG,WAAW,eAAe,SAAS,gDAAgD,QAAQ;AAAE,eAAO,IAAI,YAAY,MAAM;AAAA,MAAG,CAAC;AAAA,IACrI;AAAA,EAAE,GAAG,QAAQ,EAAE,MAAM,QAAQ,UAAU,WAAW,GAAG,UAAU,CAAI,oBAAoB,GAAG,OAAO,GAAG,MAAM,GAAG,QAAQ,CAAC,CAAC,GAAG,SAAS,YAAY,QAAQ,OAAO,CAAC,GAAG,UAAU,SAAS,0BAA0B,IAAI,KAAK;AAAE,QAAI,KAAK,GAAG;AAClO,MAAG,eAAe,GAAG,SAAS,CAAC;AAC/B,MAAG,WAAW,SAAS,SAAS,iDAAiD,QAAQ;AAAE,eAAO,IAAI,SAAS,MAAM;AAAA,MAAG,CAAC;AACzH,MAAG,aAAa;AAAA,IACpB;AAAE,QAAI,KAAK,GAAG;AACV,MAAG,WAAW,SAAS,IAAI,KAAK,KAAK,EAAE,YAAY,IAAI,KAAK,QAAQ,EAAE,QAAQ,IAAI,KAAK,IAAI;AAAA,IAC/F;AAAA,EAAE,GAAG,QAAQ,CAAC,0JAA0J,EAAE,CAAC;AACnL;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,kBAAkB,CAAC;AAAA,IAC5F,MAAM;AAAA,IACN,MAAM,CAAC,EAAE,UAAU,0HAAkI,QAAQ,CAAC,yIAAyI,EAAE,CAAC;AAAA,EAC9S,CAAC,GAAG,MAAM,CAAC,EAAE,MAAS,kBAAkB,CAAC,GAAG,EAAE,MAAM,CAAC;AAAA,IAC7C,MAAM;AAAA,EACV,CAAC,GAAG,UAAU,CAAC;AAAA,IACX,MAAM;AAAA,EACV,CAAC,GAAG,aAAa,CAAC;AAAA,IACd,MAAM;AAAA,IACN,MAAM,CAAC,eAAe,CAAC,QAAQ,CAAC;AAAA,EACpC,CAAC,EAAE,CAAC;AAAG,GAAG;AAAA,CACjB,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,mBAAmB,kBAAkB,EAAE,WAAW,oBAAoB,UAAU,2DAA2D,YAAY,EAAE,CAAC;AAAG,GAAG;AAE/N,IAAM,sBAAN,MAAM,qBAAoB;AAAA,EACtB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,OAAO,OAAO,SAAS,4BAA4B,GAAG;AAAE,WAAO,KAAK,KAAK,sBAAqB;AAAA,EAAG;AAAA,EACjG,OAAO,OAAwB,kBAAkB,EAAE,MAAM,sBAAqB,WAAW,CAAC,CAAC,YAAY,CAAC,GAAG,QAAQ,EAAE,MAAM,QAAQ,OAAO,SAAS,KAAK,OAAO,MAAM,OAAO,GAAG,OAAO,GAAG,MAAM,GAAG,QAAQ,CAAC,CAAC,eAAe,YAAY,CAAC,GAAG,UAAU,SAAS,6BAA6B,IAAI,KAAK;AAAE,QAAI,KAAK,GAAG;AAC1S,MAAG,eAAe;AAClB,MAAG,eAAe,GAAG,OAAO,CAAC;AAC7B,MAAG,UAAU,GAAG,MAAM;AACtB,MAAG,aAAa;AAAA,IACpB;AAAE,QAAI,KAAK,GAAG;AACV,MAAG,UAAU,CAAC;AACd,MAAG,YAAY,KAAK,IAAI,IAAI;AAAA,IAChC;AAAA,EAAE,GAAG,QAAQ,CAAC,oOAAoO,EAAE,CAAC;AAC7P;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,qBAAqB,CAAC;AAAA,IAC/F,MAAM;AAAA,IACN,MAAM,CAAC,EAAE,UAAU,cAAc,UAAU,0EAA8E,QAAQ,CAAC,2KAA2K,EAAE,CAAC;AAAA,EACpT,CAAC,GAAG,MAAM,EAAE,MAAM,CAAC;AAAA,IACX,MAAM;AAAA,EACV,CAAC,GAAG,OAAO,CAAC;AAAA,IACR,MAAM;AAAA,EACV,CAAC,GAAG,KAAK,CAAC;AAAA,IACN,MAAM;AAAA,EACV,CAAC,GAAG,MAAM,CAAC;AAAA,IACP,MAAM;AAAA,EACV,CAAC,EAAE,CAAC;AAAG,GAAG;AAAA,CACjB,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,mBAAmB,qBAAqB,EAAE,WAAW,uBAAuB,UAAU,iEAAiE,YAAY,GAAG,CAAC;AAAG,GAAG;AAE5O,IAAM,6BAAN,MAAM,4BAA2B;AAAA,EAC7B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,UAAU;AAAA,EACV,IAAI,SAAS;AACT,WAAO,OAAO,KAAK,QAAQ,KAAK,QAAQ,KAAK;AAAA,EACjD;AAAA,EACA,QAAQ;AAAA,EACR,IAAI,OAAO;AACP,WAAO,OAAO,KAAK,MAAM,KAAK,MAAM,KAAK;AAAA,EAC7C;AAAA,EACA;AAAA,EACA,YAAY,KAAK,kBAAkB,0BAA0B;AACzD,SAAK,MAAM;AACX,SAAK,mBAAmB;AACxB,SAAK,2BAA2B;AAChC,SAAK,IAAI,OAAO;AAAA,EACpB;AAAA,EACM,cAAc;AAAA;AAChB,YAAM,KAAK,WAAW;AACtB,4BAAsB,MAAM,KAAK,SAAS,CAAC;AAC3C,WAAK,IAAI,cAAc;AACvB,WAAK,OAAO;AAAA,IAChB;AAAA;AAAA,EACM,aAAa;AAAA;AACf,UAAI,KAAK,UAAU,KAAK,MAAM;AAC1B,aAAK,QAAQ,MAAM,KAAK,KAAK,KAAK,QAAQ,KAAK,IAAI;AAAA,MACvD;AAAA,IACJ;AAAA;AAAA,EACA,WAAW;AACP,QAAI,OAAO,KAAK,UAAU,YAAY;AAClC,WAAK,MAAM,CAAO,UAAU;AACxB,aAAK,UAAU;AACf,cAAM,KAAK,WAAW;AACtB,aAAK,IAAI,cAAc;AACvB,aAAK,OAAO;AAAA,MAChB,EAAC;AAAA,IACL;AACA,QAAI,OAAO,KAAK,QAAQ,YAAY;AAChC,WAAK,IAAI,CAAO,UAAU;AACtB,aAAK,QAAQ;AACb,cAAM,KAAK,WAAW;AACtB,aAAK,IAAI,cAAc;AACvB,aAAK,OAAO;AAAA,MAChB,EAAC;AAAA,IACL;AACA,UAAM,mBAAmB,KAAK,yBAAyB,wBAAwB,KAAK,mBAAmB;AACvG,SAAK,iBAAiB,MAAM;AAC5B,SAAK,MAAM,KAAK,iBAAiB,gBAAgB,gBAAgB;AACjE,SAAK,OAAO;AAAA,EAChB;AAAA,EACA,SAAS;AACL,SAAK,IAAI,SAAS,OAAO,KAAK;AAC9B,SAAK,IAAI,SAAS,QAAQ,KAAK;AAC/B,SAAK,IAAI,SAAS,MAAM,KAAK;AAC7B,SAAK,IAAI,SAAS,OAAO,KAAK;AAC9B,SAAK,IAAI,kBAAkB,aAAa;AAAA,EAC5C;AAAA,EACA,OAAO,OAAO,SAAS,mCAAmC,GAAG;AAAE,WAAO,KAAK,KAAK,6BAA+B,kBAAqB,iBAAiB,GAAM,kBAAqB,gBAAgB,GAAM,kBAAqB,0BAAwB,CAAC;AAAA,EAAG;AAAA,EACvP,OAAO,OAAwB,kBAAkB,EAAE,MAAM,6BAA4B,WAAW,CAAC,CAAC,cAAc,CAAC,GAAG,QAAQ,EAAE,MAAM,QAAQ,OAAO,SAAS,KAAK,OAAO,MAAM,QAAQ,UAAU,YAAY,qBAAqB,sBAAsB,GAAG,UAAU,CAAI,oBAAoB,GAAG,OAAO,GAAG,MAAM,GAAG,UAAU,SAAS,oCAAoC,IAAI,KAAK;AAAA,EAAE,GAAG,eAAe,EAAE,CAAC;AAC7Y;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,4BAA4B,CAAC;AAAA,IACtG,MAAM;AAAA,IACN,MAAM,CAAC;AAAA,MACC,UAAU;AAAA,IACd,CAAC;AAAA,EACT,CAAC,GAAG,MAAM,CAAC,EAAE,MAAS,kBAAkB,GAAG,EAAE,MAAS,iBAAiB,GAAG,EAAE,MAAS,2BAAyB,CAAC,GAAG,EAAE,MAAM,CAAC;AAAA,IACnH,MAAM;AAAA,EACV,CAAC,GAAG,OAAO,CAAC;AAAA,IACR,MAAM;AAAA,EACV,CAAC,GAAG,KAAK,CAAC;AAAA,IACN,MAAM;AAAA,EACV,CAAC,GAAG,MAAM,CAAC;AAAA,IACP,MAAM;AAAA,EACV,CAAC,GAAG,UAAU,CAAC;AAAA,IACX,MAAM;AAAA,EACV,CAAC,GAAG,qBAAqB,CAAC;AAAA,IACtB,MAAM;AAAA,EACV,CAAC,EAAE,CAAC;AAAG,GAAG;AAAA,CACjB,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,mBAAmB,4BAA4B,EAAE,WAAW,8BAA8B,UAAU,yEAAyE,YAAY,GAAG,CAAC;AAAG,GAAG;AAKlQ,SAAS,QAAQ,OAAO;AACpB,QAAM,kBAAkB,OAAO,OAAO,0BAA0B,cAC1D,qBAAqB,IACrB,OAAO;AACb,QAAM,EAAE,MAAM,YAAY,QAAQ,QAAQ,IAAI,OAAO,aAAa,CAAC;AACnE,SAAO;AAAA,IACH,OAAO,QAAQ;AACX,sBAAgB,OAAO,MAAM;AAAA,IACjC;AAAA,IACA,OAAO,SAAS;AACZ,YAAM,OAAO,QAAQ,KAAK;AAC1B,UAAI,QAAQ,KAAK,SAAS,cAAc;AACpC,cAAM,EAAE,OAAO,IAAI,IAAI,QAAQ;AAC/B,eAAO;AAAA,UACH;AAAA,WACI,QAAQ,EAAE,MAAM,IAAI,CAAC,IACrB,MAAM,EAAE,IAAI,IAAI,CAAC;AAAA,MAE7B;AACA,aAAO,EAAE,KAAK;AAAA,IAClB;AAAA,IACA,MAAM,SAAS,QAAQ;AACnB,YAAM,SAAS,OAAO,YAAY;AAClC,YAAM,OAAO,OAAO,KAAK,KAAK,MAAM;AACpC,YAAM,WAAW,MAAM;AACnB,aAAK,EAAE,MAAM,YAAY,MAAM,QAAQ,KAAK,CAAC;AAAA,MACjD;AACA,UAAI,QAAQ,KAAK,SAAS,QAAQ;AAC9B,cAAM,YAAY,OAAO,KAAK,QAAQ,IAAI,IAAI;AAC9C,eAAO;AAAA,UACH,KAAK,QAAQ,QAAQ,KAAK,QAAQ,EAAE;AAAA,UACpC;AAAA,UACA,OAAO;AAAA,YACH,MAAM,QAAQ,KAAK;AAAA,YACnB;AAAA,YACA;AAAA,UACJ;AAAA,QACJ;AAAA,MACJ;AACA,UAAI,QAAQ,KAAK,SAAS,cAAc;AACpC,cAAM,YAAY,aAAa,WAAW,QAAQ,IAAI,IAAI;AAC1D,cAAM,KAAK,QAAQ,KAAK,QAAQ;AAChC,cAAM,EAAE,cAAc,aAAa,QAAQ,OAAO,IAAI,QAAQ,KAAK;AACnE,cAAM,EAAE,OAAO,KAAK,QAAQ,IAAI,QAAQ;AACxC,eAAO;AAAA,UACH,KAAK,cAAc,EAAE;AAAA,UACrB,WAAW;AAAA,UACX,OAAO;AAAA,YACH,qBAAqB;AAAA,YACrB,MAAM;AAAA,YACN,OAAO,UAAU,CAAC,WAAW,gBAAgB,OAAO,QAAQ,UAAU,cAAc,MAAM;AAAA,YAC1F,KAAK,QAAQ,CAAC,WAAW,gBAAgB,OAAO,QAAQ,SAAS,aAAa,MAAM;AAAA,YACpF,MAAM,CAAOQ,QAAOC,SAAQ;AACxB,oBAAM,WAAW,MAAM,OAAO,KAAK,EAAE,MAAM,kBAAkB,MAAM,EAAE,SAAS,QAAQ,CAACD,QAAOC,IAAG,EAAE,EAAE,CAAC;AACtG,kBAAI,CAAC;AACD,uBAAO;AACX,oBAAM,EAAE,MAAM,OAAO,IAAI,SAAS;AAClC,oBAAM,YAAY;AAClB,kBAAI,CAAC,QAAQ,OAAO,WAAW;AAC3B,sBAAM,IAAI,MAAM,yDAAyD;AAC7E,kBAAI,CAAC;AACD,uBAAO,QAAQ,SACT,mBAAmB,QAAQ,WAAW,GAAG,IACzC,sBAAsB,QAAQ,SAAS;AACjD,qBAAO;AAAA,YACX;AAAA,YACA;AAAA,UACJ;AAAA,QACJ;AAAA,MACJ;AACA,UAAI,QAAQ,KAAK,SAAS,UAAU;AAChC,cAAM,YAAY,SAAS,OAAO,QAAQ,IAAI,IAAI;AAClD,eAAO;AAAA,UACH,KAAK,UAAU,OAAO,CAAC;AAAA,UACvB;AAAA,UACA,OAAO;AAAA,YACH,MAAM,QAAQ,KAAK;AAAA,YACnB;AAAA,UACJ;AAAA,QACJ;AAAA,MACJ;AACA,UAAI,QAAQ,KAAK,SAAS,WAAW;AACjC,cAAM,YAAY,UACZ,QAAQ,QAAQ,IAAI,IACnB,QAAQ,KAAK,mBAAmB,QAAc,eAC3C,mBACA;AACV,YAAI,WAAW;AACX,iBAAO;AAAA,YACH,KAAK,WAAW,QAAQ,KAAK,QAAQ,EAAE;AAAA,YACvC;AAAA,YACA,OAAO;AAAA,cACH,MAAM,QAAQ,KAAK;AAAA,cACnB;AAAA,YACJ;AAAA,UACJ;AAAA,QACJ;AACA;AAAA,MACJ;AACA;AAAA,IACJ;AAAA,EACJ;AACJ;AAEA,IAAI,UAAuB,OAAO,OAAO;AAAA,EACrC,WAAW;AAAA,EACX,OAAO;AACX,CAAC;AAED,SAAS,SAAS,IAAI;AAClB,SAAO;AAAA,IACH,SAAS;AAAA,IACT,SAAS;AACL,UAAI,KAAK,SAAS;AACd,eAAO,aAAa,KAAK,OAAO;AAChC,aAAK,UAAU;AAAA,MACnB;AAAA,IACJ;AAAA,IACA,KAAK,OAAO;AACR,WAAK,UAAU,OAAO,WAAW,MAAM;AACnC,WAAG;AAAA,MACP,GAAG,KAAK;AAAA,IACZ;AAAA,EACJ;AACJ;AAEA,IAAM,6BAAN,MAAM,4BAA2B;AAAA,EAC7B;AAAA,EACA,SAAS,IAAI,aAAa;AAAA,EAC1B,OAAO,OAAO,SAAS,mCAAmC,GAAG;AAAE,WAAO,KAAK,KAAK,6BAA4B;AAAA,EAAG;AAAA,EAC/G,OAAO,OAAwB,kBAAkB,EAAE,MAAM,6BAA4B,WAAW,CAAC,CAAC,qBAAqB,CAAC,GAAG,QAAQ,EAAE,OAAO,QAAQ,GAAG,SAAS,EAAE,QAAQ,SAAS,GAAG,OAAO,GAAG,MAAM,GAAG,QAAQ,CAAC,CAAC,eAAe,6BAA6B,GAAG,UAAU,GAAG,SAAS,OAAO,CAAC,GAAG,UAAU,SAAS,oCAAoC,IAAI,KAAK;AAAE,QAAI,KAAK,GAAG;AACzW,MAAG,eAAe,GAAG,SAAS,CAAC;AAC/B,MAAG,WAAW,SAAS,SAAS,2DAA2D,QAAQ;AAAE,YAAI;AAAS,eAAO,IAAI,OAAO,OAAO,UAAU,OAAO,WAAW,OAAO,OAAO,QAAQ,UAAU,EAAE;AAAA,MAAG,CAAC;AAC7M,MAAG,aAAa;AAAA,IACpB;AAAE,QAAI,KAAK,GAAG;AACV,MAAG,WAAW,SAAS,IAAI,KAAK;AAAA,IACpC;AAAA,EAAE,GAAG,QAAQ,CAAC,2LAA2L,EAAE,CAAC;AACpN;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,4BAA4B,CAAC;AAAA,IACtG,MAAM;AAAA,IACN,MAAM,CAAC,EAAE,UAAU,uBAAuB,UAAU;AAAA;AAAA,GAAyJ,QAAQ,CAAC,0KAA0K,EAAE,CAAC;AAAA,EACvY,CAAC,GAAG,MAAM,EAAE,OAAO,CAAC;AAAA,IACZ,MAAM;AAAA,EACV,CAAC,GAAG,QAAQ,CAAC;AAAA,IACT,MAAM;AAAA,EACV,CAAC,EAAE,CAAC;AAAG,GAAG;AAAA,CACjB,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,mBAAmB,4BAA4B,EAAE,WAAW,8BAA8B,UAAU,8DAA8D,YAAY,EAAE,CAAC;AAAG,GAAG;AAEtP,SAAS,4DAA4D,IAAI,KAAK;AAAE,MAAI,KAAK,GAAG;AACxF,UAAM,MAAS,iBAAiB;AAChC,IAAG,eAAe,GAAG,qBAAqB,CAAC;AAC3C,IAAG,WAAW,UAAU,SAAS,kGAAkG;AAAE,YAAM,cAAiB,cAAc,GAAG;AAAG,YAAM,UAAU,YAAY;AAAW,aAAU,YAAY,QAAQ,QAAQ,CAAC;AAAA,IAAG,CAAC,EAAE,QAAQ,SAAS,gGAAgG;AAAE,MAAG,cAAc,GAAG;AAAG,YAAM,SAAY,cAAc,CAAC;AAAG,aAAU,YAAY,OAAO,KAAK,KAAK,CAAC;AAAA,IAAG,CAAC;AAC9d,IAAG,OAAO,CAAC;AACX,IAAG,aAAa;AAAA,EACpB;AAAE,MAAI,KAAK,GAAG;AACV,UAAM,UAAU,IAAI;AACpB,UAAM,SAAY,cAAc,CAAC;AACjC,IAAG,WAAW,SAAS,OAAO,KAAK;AACnC,IAAG,UAAU,CAAC;AACd,IAAG,mBAAmB,KAAK,QAAQ,OAAO,GAAG;AAAA,EACjD;AAAE;AACF,SAAS,wCAAwC,IAAI,KAAK;AAAE,MAAI,KAAK,GAAG;AACpE,IAAG,eAAe,GAAG,OAAO,CAAC;AAC7B,IAAG,WAAW,GAAG,6DAA6D,GAAG,GAAG,qBAAqB,CAAC;AAC1G,IAAG,aAAa;AAAA,EACpB;AAAE,MAAI,KAAK,GAAG;AACV,UAAM,SAAY,cAAc;AAChC,IAAG,UAAU,CAAC;AACd,IAAG,WAAW,WAAW,OAAO,QAAQ;AAAA,EAC5C;AAAE;AACF,IAAM,MAAM,CAAC,GAAG;AAEhB,IAAM,2BAAN,MAAM,0BAAyB;AAAA,EAC3B;AAAA,EACA;AAAA,EACA;AAAA,EACA,SAAS,IAAI,aAAa;AAAA,EAC1B,OAAO,IAAI,aAAa;AAAA,EACxB,IAAI,QAAQ;AAAE,WAAO;AAAA,EAAM;AAAA,EAC3B,IAAI,cAAc;AAAE,WAAO,KAAK;AAAA,EAAU;AAAA,EAC1C,MAAM,OAAO;AACT,UAAM,gBAAgB;AACtB,SAAK,OAAO,KAAK;AACjB,SAAK,KAAK,KAAK;AAAA,EACnB;AAAA,EACA,YAAY,OAAO;AACf,UAAM,gBAAgB;AAAA,EAC1B;AAAA,EACA,MAAM,OAAO;AACT,UAAM,gBAAgB;AAAA,EAC1B;AAAA,EACA,eAAe,SAAS,MAAM;AAC1B,SAAK,kBAAkB;AACvB,SAAK,IAAI,cAAc;AAAA,EAC3B,CAAC;AAAA,EACD,kBAAkB;AAAA,EAClB,cAAc;AACV,SAAK,aAAa,OAAO;AACzB,SAAK,kBAAkB;AACvB,SAAK,IAAI,cAAc;AAAA,EAC3B;AAAA,EACA,eAAe;AACX,SAAK,aAAa,KAAK,KAAK,KAAK;AACjC,SAAK,IAAI,cAAc;AAAA,EAC3B;AAAA,EACA,YAAY,KAAK;AACb,SAAK,MAAM;AACX,SAAK,IAAI,OAAO;AAAA,EACpB;AAAA,EACA,OAAO,OAAO,SAAS,iCAAiC,GAAG;AAAE,WAAO,KAAK,KAAK,2BAA6B,kBAAqB,iBAAiB,CAAC;AAAA,EAAG;AAAA,EACrJ,OAAO,OAAwB,kBAAkB,EAAE,MAAM,2BAA0B,WAAW,CAAC,CAAC,mBAAmB,CAAC,GAAG,WAAW,CAAC,eAAe,mBAAmB,GAAG,UAAU,GAAG,cAAc,SAAS,sCAAsC,IAAI,KAAK;AAAE,QAAI,KAAK,GAAG;AACjQ,MAAG,WAAW,SAAS,SAAS,kDAAkD,QAAQ;AAAE,eAAO,IAAI,MAAM,MAAM;AAAA,MAAG,CAAC,EAAE,eAAe,SAAS,wDAAwD,QAAQ;AAAE,eAAO,IAAI,YAAY,MAAM;AAAA,MAAG,CAAC,EAAE,SAAS,SAAS,kDAAkD,QAAQ;AAAE,eAAO,IAAI,MAAM,MAAM;AAAA,MAAG,CAAC,EAAE,eAAe,SAAS,0DAA0D;AAAE,eAAO,IAAI,YAAY;AAAA,MAAG,CAAC,EAAE,gBAAgB,SAAS,2DAA2D;AAAE,eAAO,IAAI,aAAa;AAAA,MAAG,CAAC;AAAA,IACxkB;AAAE,QAAI,KAAK,GAAG;AACV,MAAG,YAAY,SAAS,IAAI,KAAK,EAAE,eAAe,IAAI,WAAW;AAAA,IACrE;AAAA,EAAE,GAAG,QAAQ,EAAE,UAAU,YAAY,OAAO,QAAQ,GAAG,SAAS,EAAE,QAAQ,UAAU,MAAM,OAAO,GAAG,oBAAoB,KAAK,OAAO,GAAG,MAAM,GAAG,QAAQ,CAAC,CAAC,SAAS,YAAY,GAAG,MAAM,GAAG,CAAC,GAAG,UAAU,GAAG,CAAC,GAAG,SAAS,UAAU,QAAQ,GAAG,SAAS,SAAS,GAAG,CAAC,GAAG,SAAS,UAAU,MAAM,CAAC,GAAG,UAAU,SAAS,kCAAkC,IAAI,KAAK;AAAE,QAAI,KAAK,GAAG;AAC5W,MAAG,gBAAgB;AACnB,MAAG,aAAa,CAAC;AACjB,MAAG,WAAW,GAAG,yCAAyC,GAAG,GAAG,OAAO,CAAC;AAAA,IAC5E;AAAE,QAAI,KAAK,GAAG;AACV,MAAG,UAAU,CAAC;AACd,MAAG,WAAW,QAAQ,IAAI,YAAY,IAAI,eAAe;AAAA,IAC7D;AAAA,EAAE,GAAG,cAAc,CAAI,SAAY,MAAM,yBAAwB,GAAG,QAAQ,CAAC,uNAA2N,8aAA8a,EAAE,CAAC;AACjuB;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,0BAA0B,CAAC;AAAA,IACpG,MAAM;AAAA,IACN,MAAM,CAAC,EAAE,UAAU,qBAAqB,MAAM;AAAA,MAClC,eAAe;AAAA,IACnB,GAAG,UAAU,qQAAiR,QAAQ,CAAC,6LAAiM,oWAAoW,EAAE,CAAC;AAAA,EAC31B,CAAC,GAAG,MAAM,CAAC,EAAE,MAAS,kBAAkB,CAAC,GAAG,EAAE,UAAU,CAAC;AAAA,IACjD,MAAM;AAAA,EACV,CAAC,GAAG,OAAO,CAAC;AAAA,IACR,MAAM;AAAA,EACV,CAAC,GAAG,QAAQ,CAAC;AAAA,IACT,MAAM;AAAA,EACV,CAAC,GAAG,MAAM,CAAC;AAAA,IACP,MAAM;AAAA,EACV,CAAC,GAAG,OAAO,CAAC;AAAA,IACR,MAAM;AAAA,IACN,MAAM,CAAC,aAAa;AAAA,EACxB,CAAC,GAAG,aAAa,CAAC;AAAA,IACd,MAAM;AAAA,IACN,MAAM,CAAC,mBAAmB;AAAA,EAC9B,CAAC,GAAG,OAAO,CAAC;AAAA,IACR,MAAM;AAAA,IACN,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC;AAAA,EAC9B,CAAC,GAAG,aAAa,CAAC;AAAA,IACd,MAAM;AAAA,IACN,MAAM,CAAC,eAAe,CAAC,QAAQ,CAAC;AAAA,EACpC,CAAC,GAAG,OAAO,CAAC;AAAA,IACR,MAAM;AAAA,IACN,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC;AAAA,EAC9B,CAAC,GAAG,aAAa,CAAC;AAAA,IACd,MAAM;AAAA,IACN,MAAM,CAAC,aAAa;AAAA,EACxB,CAAC,GAAG,cAAc,CAAC;AAAA,IACf,MAAM;AAAA,IACN,MAAM,CAAC,cAAc;AAAA,EACzB,CAAC,EAAE,CAAC;AAAG,GAAG;AAAA,CACjB,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,mBAAmB,0BAA0B,EAAE,WAAW,4BAA4B,UAAU,0DAA0D,YAAY,GAAG,CAAC;AAAG,GAAG;AAE/O,SAAS,oCAAoC,IAAI,KAAK;AAAE,MAAI,KAAK,GAAG;AAChE,UAAM,MAAS,iBAAiB;AAChC,IAAG,eAAe,GAAG,OAAO,CAAC,EAAE,GAAG,uBAAuB,CAAC;AAC1D,IAAG,WAAW,UAAU,SAAS,0EAA0E,QAAQ;AAAE,MAAG,cAAc,GAAG;AAAG,YAAM,SAAY,cAAc;AAAG,aAAU,YAAY,OAAO,UAAU,MAAM,CAAC;AAAA,IAAG,CAAC;AACjO,IAAG,aAAa,EAAE;AAAA,EACtB;AAAE,MAAI,KAAK,GAAG;AACV,UAAM,SAAY,cAAc;AAChC,IAAG,UAAU,CAAC;AACd,IAAG,WAAW,SAAS,OAAO,MAAM;AAAA,EACxC;AAAE;AACF,SAAS,kDAAkD,IAAI,KAAK;AAAE,MAAI,KAAK,GAAG;AAC9E,UAAM,MAAS,iBAAiB;AAChC,IAAG,eAAe,GAAG,qBAAqB,CAAC;AAC3C,IAAG,WAAW,UAAU,SAAS,wFAAwF;AAAE,YAAM,cAAiB,cAAc,GAAG;AAAG,YAAM,UAAU,YAAY;AAAW,aAAU,YAAY,QAAQ,QAAQ,CAAC;AAAA,IAAG,CAAC,EAAE,QAAQ,SAAS,sFAAsF;AAAE,MAAG,cAAc,GAAG;AAAG,YAAM,SAAY,cAAc;AAAG,aAAU,YAAY,OAAO,OAAO,CAAC;AAAA,IAAG,CAAC;AACtc,IAAG,OAAO,CAAC;AACX,IAAG,aAAa;AAAA,EACpB;AAAE,MAAI,KAAK,GAAG;AACV,UAAM,UAAU,IAAI;AACpB,UAAM,SAAY,cAAc;AAChC,IAAG,WAAW,SAAS,OAAO,KAAK,EAAE,YAAY,QAAQ,QAAQ;AACjE,IAAG,UAAU,CAAC;AACd,IAAG,mBAAmB,KAAK,QAAQ,OAAO,IAAI;AAAA,EAClD;AAAE;AAEF,IAAM,uBAAN,MAAM,sBAAqB;AAAA,EACvB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,SAAS;AAAA,EACT,OAAO,SAAS,MAAM;AAClB,SAAK,OAAO;AACZ,SAAK,IAAI,cAAc;AAAA,EAC3B,CAAC;AAAA,EACD,kBAAkB;AAAA,EAClB,cAAc;AACV,SAAK,KAAK,OAAO;AACjB,SAAK,IAAI,cAAc;AAAA,EAC3B;AAAA,EACA,eAAe;AACX,SAAK,KAAK,KAAK,KAAK,KAAK;AACzB,SAAK,IAAI,cAAc;AAAA,EAC3B;AAAA,EACA,YAAY,KAAK;AACb,SAAK,MAAM;AACX,SAAK,IAAI,OAAO;AAAA,EACpB;AAAA,EACA,cAAc;AACV,SAAK,IAAI,cAAc;AACvB,0BAAsB,MAAM,KAAK,SAAS,CAAC;AAAA,EAC/C;AAAA,EACA,UAAU,OAAO;AACb,SAAK,SAAS;AACd,SAAK,IAAI,cAAc;AAAA,EAC3B;AAAA,EACA,WAAW;AACP,UAAM,eAAe,IAAI,OAAO,KAAK,QAAQ,GAAG;AAChD,UAAM,eAAe,KAAK,MAAM,OAAO,UAAS,KAAK,MAAM,MAAM,YAAY,CAAE;AAC/E,WAAO;AAAA,EACX;AAAA,EACA,cAAc;AACV,QAAI,KAAK;AACL,WAAK,KAAK,OAAO;AAAA,EACzB;AAAA,EACA,OAAO,OAAO,SAAS,6BAA6B,GAAG;AAAE,WAAO,KAAK,KAAK,uBAAyB,kBAAqB,iBAAiB,CAAC;AAAA,EAAG;AAAA,EAC7I,OAAO,OAAwB,kBAAkB,EAAE,MAAM,uBAAsB,WAAW,CAAC,CAAC,cAAc,CAAC,GAAG,WAAW,CAAC,eAAe,cAAc,GAAG,UAAU,GAAG,cAAc,SAAS,kCAAkC,IAAI,KAAK;AAAE,QAAI,KAAK,GAAG;AAC/O,MAAG,WAAW,aAAa,SAAS,oDAAoD;AAAE,eAAO,IAAI,YAAY;AAAA,MAAG,CAAC,EAAE,cAAc,SAAS,qDAAqD;AAAE,eAAO,IAAI,aAAa;AAAA,MAAG,CAAC;AAAA,IACrO;AAAE,QAAI,KAAK,GAAG;AACV,MAAG,YAAY,qBAAqB,IAAI,eAAe;AAAA,IAC3D;AAAA,EAAE,GAAG,QAAQ,EAAE,OAAO,SAAS,OAAO,SAAS,WAAW,aAAa,QAAQ,UAAU,UAAU,WAAW,GAAG,UAAU,CAAI,oBAAoB,GAAG,OAAO,GAAG,MAAM,GAAG,QAAQ,CAAC,CAAC,SAAS,SAAS,GAAG,MAAM,GAAG,CAAC,GAAG,SAAS,YAAY,UAAU,QAAQ,GAAG,SAAS,SAAS,GAAG,CAAC,GAAG,OAAO,GAAG,CAAC,GAAG,SAAS,QAAQ,GAAG,CAAC,GAAG,SAAS,YAAY,UAAU,MAAM,CAAC,GAAG,UAAU,SAAS,8BAA8B,IAAI,KAAK;AAAE,QAAI,KAAK,GAAG;AAC3a,MAAG,WAAW,GAAG,qCAAqC,GAAG,GAAG,OAAO,CAAC,EAAE,GAAG,mDAAmD,GAAG,GAAG,qBAAqB,CAAC;AAAA,IAC5J;AAAE,QAAI,KAAK,GAAG;AACV,MAAG,WAAW,QAAQ,IAAI,SAAS;AACnC,MAAG,UAAU,CAAC;AACd,MAAG,WAAW,WAAW,IAAI,SAAS,CAAC;AAAA,IAC3C;AAAA,EAAE,GAAG,cAAc,CAAI,SAAY,MAAM,4BAA4B,wBAAwB,GAAG,QAAQ,CAAC,+FAA+F,8aAA8a,EAAE,CAAC;AACjoB;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,sBAAsB,CAAC;AAAA,IAChG,MAAM;AAAA,IACN,MAAM,CAAC,EAAE,MAAM;AAAA,MACH,eAAe;AAAA,IACnB,GAAG,UAAU,2UAA6V,QAAQ,CAAC,sFAAsF,oWAAoW,EAAE,CAAC;AAAA,EAC5zB,CAAC,GAAG,MAAM,CAAC,EAAE,MAAS,kBAAkB,CAAC,GAAG,EAAE,OAAO,CAAC;AAAA,IAC9C,MAAM;AAAA,EACV,CAAC,GAAG,OAAO,CAAC;AAAA,IACR,MAAM;AAAA,EACV,CAAC,GAAG,WAAW,CAAC;AAAA,IACZ,MAAM;AAAA,EACV,CAAC,GAAG,QAAQ,CAAC;AAAA,IACT,MAAM;AAAA,EACV,CAAC,GAAG,UAAU,CAAC;AAAA,IACX,MAAM;AAAA,EACV,CAAC,GAAG,iBAAiB,CAAC;AAAA,IAClB,MAAM;AAAA,IACN,MAAM,CAAC,wBAAwB;AAAA,EACnC,CAAC,GAAG,aAAa,CAAC;AAAA,IACd,MAAM;AAAA,IACN,MAAM,CAAC,WAAW;AAAA,EACtB,CAAC,GAAG,cAAc,CAAC;AAAA,IACf,MAAM;AAAA,IACN,MAAM,CAAC,YAAY;AAAA,EACvB,CAAC,EAAE,CAAC;AAAG,GAAG;AAAA,CACjB,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,mBAAmB,sBAAsB,EAAE,WAAW,wBAAwB,UAAU,0DAA0D,YAAY,GAAG,CAAC;AAAG,GAAG;AAKvO,SAAS,QAAQ,OAAO;AACpB,QAAM,QAAQ,OAAO,OAAO,UAAU,cAAc,MAAO,MAAM;AACjE,SAAO;AAAA,IACH,OAAO,SAAS;AACZ,UAAI,QAAQ,KAAK,SAAS,eAAe;AACrC,eAAO;AAAA,UACH,OAAO,QAAQ,KAAK;AAAA,UACpB;AAAA,UACA,WAAW,QAAQ,KAAK;AAAA,UACxB,QAAQ,QAAQ,KAAK;AAAA,QACzB;AAAA,MACJ;AAAA,IACJ;AAAA,IACA,MAAM,SAAS,QAAQ;AACnB,YAAM,SAAS,OAAO,YAAY;AAClC,YAAM,OAAO,OAAO,KAAK,KAAK,MAAM;AACpC,YAAM,WAAW,MAAM;AACnB,aAAK,EAAE,MAAM,YAAY,MAAM,QAAQ,KAAK,CAAC;AAAA,MACjD;AACA,UAAI,QAAQ,KAAK,SAAS,eAAe;AACrC,eAAO;AAAA,UACH,KAAK;AAAA,UACL,WAAW;AAAA,UACX,OAAO;AAAA,YACH,OAAO,QAAQ,KAAK;AAAA,YACpB;AAAA,YACA,WAAW,QAAQ,KAAK;AAAA,YACxB,QAAQ,QAAQ,KAAK;AAAA,YACrB;AAAA,UACJ;AAAA,QACJ;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAAA,EACJ;AACJ;AAEA,IAAI,UAAuB,OAAO,OAAO;AAAA,EACrC,WAAW;AAAA,EACX,OAAO;AACX,CAAC;AAED,SAAS,QAAQ,WAAW,YAAY;AACpC,SAAO;AAAA,IACH,MAAM,GAAG;AACL,UAAI,WAAW,mBAAK,WAAW,CAAC;AAChC,eAAS,KAAK,WAAW;AACrB,cAAM,UAAU,mBAAK,WAAW,SAAS;AACzC,cAAM,KAAK,QAAQ,IAAI,SAAS;AAChC,cAAM,KAAK,QAAQ,IAAI,SAAS;AAChC,mBAAW;AACX,kBAAU,IAAI,EAAE;AAAA,MACpB;AACA,eAAS,KAAK;AACV,eAAO,oBAAoB,eAAe,IAAI;AAC9C,eAAO,oBAAoB,aAAa,EAAE;AAC1C,eAAO,oBAAoB,iBAAiB,EAAE;AAAA,MAClD;AACA,aAAO,iBAAiB,eAAe,IAAI;AAC3C,aAAO,iBAAiB,aAAa,EAAE;AACvC,aAAO,iBAAiB,iBAAiB,EAAE;AAAA,IAC/C;AAAA,EACJ;AACJ;AAEA,IAAM,wBAAN,MAAM,uBAAsB;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,OAAO,QAAQ,CAAC,IAAI,OAAO,KAAK,OAAO,IAAI,EAAE,GAAG,QAAM,EAAE,GAAG,EAAE,OAAO,GAAG,EAAE,MAAM,EAAE;AAAA,EACjF,IAAI,YAAY;AACZ,WAAO,KAAK,GAAG,KAAK,MAAM,KAAK,IAAI,CAAC;AAAA,EACxC;AAAA,EACA,IAAI,WAAW;AACX,WAAO,KAAK,GAAG,KAAK,MAAM,KAAK,GAAG,CAAC;AAAA,EACvC;AAAA,EACA,IAAI,aAAa;AACb,WAAO,KAAK,GAAG,KAAK,MAAM,KAAK,KAAK,CAAC;AAAA,EACzC;AAAA,EACA,IAAI,cAAc;AACd,WAAO,KAAK,GAAG,KAAK,MAAM,KAAK,MAAM,CAAC;AAAA,EAC1C;AAAA,EACA,YAAY,OAAO;AACf,UAAM,gBAAgB;AACtB,SAAK,KAAK,MAAM,KAAK;AAAA,EACzB;AAAA,EACA,GAAG,OAAO;AACN,WAAO,GAAG,KAAK;AAAA,EACnB;AAAA,EACA,MAAM,GAAG;AACL,WAAO,IAAI,KAAK;AAAA,EACpB;AAAA,EACA,OAAO,GAAG;AACN,WAAO,IAAI,KAAK;AAAA,EACpB;AAAA,EACA,OAAO,IAAI,IAAI;AACX,SAAK,UAAU,KAAK,OAAO,CAAC,EAAE,GAAG,KAAK,OAAO,CAAC,EAAE,CAAC;AAAA,EACrD;AAAA,EACA,OAAO,OAAO,SAAS,8BAA8B,GAAG;AAAE,WAAO,KAAK,KAAK,wBAAuB;AAAA,EAAG;AAAA,EACrG,OAAO,OAAwB,kBAAkB,EAAE,MAAM,wBAAuB,WAAW,CAAC,CAAC,uBAAuB,CAAC,GAAG,WAAW,CAAC,eAAe,kBAAkB,GAAG,UAAU,GAAG,cAAc,SAAS,mCAAmC,IAAI,KAAK;AAAE,QAAI,KAAK,GAAG;AAC9P,MAAG,WAAW,eAAe,SAAS,qDAAqD,QAAQ;AAAE,eAAO,IAAI,YAAY,MAAM;AAAA,MAAG,CAAC;AAAA,IAC1I;AAAE,QAAI,KAAK,GAAG;AACV,MAAG,YAAY,QAAQ,IAAI,SAAS,EAAE,OAAO,IAAI,QAAQ,EAAE,SAAS,IAAI,UAAU,EAAE,UAAU,IAAI,WAAW;AAAA,IACjH;AAAA,EAAE,GAAG,QAAQ,EAAE,MAAM,QAAQ,KAAK,OAAO,OAAO,SAAS,QAAQ,UAAU,gBAAgB,kBAAkB,WAAW,YAAY,GAAG,OAAO,GAAG,MAAM,GAAG,UAAU,SAAS,+BAA+B,IAAI,KAAK;AAAA,EAAE,GAAG,QAAQ,CAAC,6GAA6G,EAAE,CAAC;AAC3V;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,uBAAuB,CAAC;AAAA,IACjG,MAAM;AAAA,IACN,MAAM,CAAC,EAAE,UAAU,yBAAyB,MAAM;AAAA,MACtC,eAAe;AAAA,IACnB,GAAG,UAAU,IAAI,QAAQ,CAAC,oGAAoG,EAAE,CAAC;AAAA,EAC7I,CAAC,GAAG,MAAM,EAAE,MAAM,CAAC;AAAA,IACX,MAAM;AAAA,EACV,CAAC,GAAG,KAAK,CAAC;AAAA,IACN,MAAM;AAAA,EACV,CAAC,GAAG,OAAO,CAAC;AAAA,IACR,MAAM;AAAA,EACV,CAAC,GAAG,QAAQ,CAAC;AAAA,IACT,MAAM;AAAA,EACV,CAAC,GAAG,gBAAgB,CAAC;AAAA,IACjB,MAAM;AAAA,EACV,CAAC,GAAG,WAAW,CAAC;AAAA,IACZ,MAAM;AAAA,EACV,CAAC,GAAG,WAAW,CAAC;AAAA,IACZ,MAAM;AAAA,IACN,MAAM,CAAC,YAAY;AAAA,EACvB,CAAC,GAAG,UAAU,CAAC;AAAA,IACX,MAAM;AAAA,IACN,MAAM,CAAC,WAAW;AAAA,EACtB,CAAC,GAAG,YAAY,CAAC;AAAA,IACb,MAAM;AAAA,IACN,MAAM,CAAC,aAAa;AAAA,EACxB,CAAC,GAAG,aAAa,CAAC;AAAA,IACd,MAAM;AAAA,IACN,MAAM,CAAC,cAAc;AAAA,EACzB,CAAC,GAAG,aAAa,CAAC;AAAA,IACd,MAAM;AAAA,IACN,MAAM,CAAC,eAAe,CAAC,QAAQ,CAAC;AAAA,EACpC,CAAC,EAAE,CAAC;AAAG,GAAG;AAAA,CACjB,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,mBAAmB,uBAAuB,EAAE,WAAW,yBAAyB,UAAU,uEAAuE,YAAY,GAAG,CAAC;AAAG,GAAG;AAEtP,IAAM,oBAAN,MAAM,mBAAkB;AAAA,EACpB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,IAAI,YAAY;AACZ,WAAO,KAAK,GAAG,KAAK,IAAI;AAAA,EAC5B;AAAA,EACA,IAAI,WAAW;AACX,WAAO,KAAK,GAAG,KAAK,GAAG;AAAA,EAC3B;AAAA,EACA,IAAI,aAAa;AACb,WAAO,KAAK,GAAG,KAAK,KAAK;AAAA,EAC7B;AAAA,EACA,IAAI,cAAc;AACd,WAAO,KAAK,GAAG,KAAK,MAAM;AAAA,EAC9B;AAAA,EACA,GAAG,OAAO;AACN,WAAO,GAAG,KAAK;AAAA,EACnB;AAAA,EACA,OAAO,OAAO,SAAS,0BAA0B,GAAG;AAAE,WAAO,KAAK,KAAK,oBAAmB;AAAA,EAAG;AAAA,EAC7F,OAAO,OAAwB,kBAAkB,EAAE,MAAM,oBAAmB,WAAW,CAAC,CAAC,mBAAmB,CAAC,GAAG,WAAW,CAAC,eAAe,cAAc,GAAG,UAAU,GAAG,cAAc,SAAS,+BAA+B,IAAI,KAAK;AAAE,QAAI,KAAK,GAAG;AAC9O,MAAG,YAAY,QAAQ,IAAI,SAAS,EAAE,OAAO,IAAI,QAAQ,EAAE,SAAS,IAAI,UAAU,EAAE,UAAU,IAAI,WAAW;AAAA,IACjH;AAAA,EAAE,GAAG,QAAQ,EAAE,MAAM,QAAQ,KAAK,OAAO,OAAO,SAAS,QAAQ,SAAS,GAAG,OAAO,GAAG,MAAM,GAAG,UAAU,SAAS,2BAA2B,IAAI,KAAK;AAAA,EAAE,GAAG,QAAQ,CAAC,yHAAyH,EAAE,CAAC;AACzS;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,mBAAmB,CAAC;AAAA,IAC7F,MAAM;AAAA,IACN,MAAM,CAAC,EAAE,UAAU,qBAAqB,MAAM;AAAA,MAClC,eAAe;AAAA,IACnB,GAAG,UAAU,IAAI,QAAQ,CAAC,gHAAgH,EAAE,CAAC;AAAA,EACzJ,CAAC,GAAG,MAAM,EAAE,MAAM,CAAC;AAAA,IACX,MAAM;AAAA,EACV,CAAC,GAAG,KAAK,CAAC;AAAA,IACN,MAAM;AAAA,EACV,CAAC,GAAG,OAAO,CAAC;AAAA,IACR,MAAM;AAAA,EACV,CAAC,GAAG,QAAQ,CAAC;AAAA,IACT,MAAM;AAAA,EACV,CAAC,GAAG,WAAW,CAAC;AAAA,IACZ,MAAM;AAAA,IACN,MAAM,CAAC,YAAY;AAAA,EACvB,CAAC,GAAG,UAAU,CAAC;AAAA,IACX,MAAM;AAAA,IACN,MAAM,CAAC,WAAW;AAAA,EACtB,CAAC,GAAG,YAAY,CAAC;AAAA,IACb,MAAM;AAAA,IACN,MAAM,CAAC,aAAa;AAAA,EACxB,CAAC,GAAG,aAAa,CAAC;AAAA,IACd,MAAM;AAAA,IACN,MAAM,CAAC,cAAc;AAAA,EACzB,CAAC,EAAE,CAAC;AAAG,GAAG;AAAA,CACjB,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,mBAAmB,mBAAmB,EAAE,WAAW,qBAAqB,UAAU,+DAA+D,YAAY,GAAG,CAAC;AAAG,GAAG;AAEtO,SAAS,8CAA8C,IAAI,KAAK;AAAE,MAAI,KAAK,GAAG;AAC1E,IAAG,UAAU,GAAG,qBAAqB,CAAC;AAAA,EAC1C;AAAE,MAAI,KAAK,GAAG;AACV,UAAM,UAAU,IAAI;AACpB,UAAM,SAAY,cAAc;AAChC,IAAG,WAAW,QAAQ,OAAO,MAAM,QAAQ,IAAI,CAAC,EAAE,OAAO,OAAO,MAAM,QAAQ,GAAG,CAAC,EAAE,SAAS,OAAO,MAAM,QAAQ,KAAK,CAAC,EAAE,UAAU,OAAO,MAAM,QAAQ,MAAM,CAAC;AAAA,EACpK;AAAE;AAEF,IAAM,mBAAN,MAAM,kBAAiB;AAAA,EACnB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,IAAI,QAAQ;AACR,WAAO,KAAK,GAAG,KAAK,OAAO,KAAK,KAAK;AAAA,EACzC;AAAA,EACA,IAAI,SAAS;AACT,WAAO,KAAK,GAAG,KAAK,IAAI;AAAA,EAC5B;AAAA,EACA,YAAY,OAAO;AACf,UAAM,gBAAgB;AACtB,UAAM,eAAe;AAAA,EACzB;AAAA,EACA,SAAS,OAAO;AACZ,UAAM,gBAAgB;AACtB,UAAM,eAAe;AACrB,QAAI,CAAC,KAAK,GAAG;AACT;AACJ,UAAM,MAAM,KAAK,GAAG,cAAc,sBAAsB;AACxD,UAAM,KAAK,MAAM,UAAU,IAAI,SAAS,KAAK,OAAO,KAAK;AACzD,UAAM,KAAK,MAAM,UAAU,IAAI,QAAQ,KAAK,OAAO,KAAK;AACxD,SAAK,MAAM,GAAG,CAAC;AAAA,EACnB;AAAA,EACA,YAAY,IAAI,KAAK;AACjB,SAAK,KAAK;AACV,SAAK,MAAM;AACX,SAAK,IAAI,OAAO;AAAA,EACpB;AAAA,EACA,cAAc;AACV,SAAK,IAAI,cAAc;AACvB,0BAAsB,MAAM,KAAK,SAAS,CAAC;AAAA,EAC/C;AAAA,EACA,GAAG,OAAO;AACN,WAAO,GAAG,KAAK;AAAA,EACnB;AAAA,EACA,MAAM,OAAO;AACT,QAAI,CAAC,KAAK,GAAG;AACT,aAAO;AACX,WAAO,QAAQ,KAAK,GAAG,cAAc;AAAA,EACzC;AAAA,EACA,iBAAiB,GAAG,MAAM;AACtB,WAAO,CAAC,KAAK,KAAK,KAAK,IAAI,EAAE,KAAK,GAAG;AAAA,EACzC;AAAA,EACA,OAAO,OAAO,SAAS,yBAAyB,GAAG;AAAE,WAAO,KAAK,KAAK,mBAAqB,kBAAqB,UAAU,GAAM,kBAAqB,iBAAiB,CAAC;AAAA,EAAG;AAAA,EAC1K,OAAO,OAAwB,kBAAkB,EAAE,MAAM,mBAAkB,WAAW,CAAC,CAAC,cAAc,CAAC,GAAG,WAAW,CAAC,eAAe,SAAS,GAAG,UAAU,GAAG,cAAc,SAAS,8BAA8B,IAAI,KAAK;AAAE,QAAI,KAAK,GAAG;AAClO,MAAG,WAAW,eAAe,SAAS,gDAAgD,QAAQ;AAAE,eAAO,IAAI,YAAY,MAAM;AAAA,MAAG,CAAC,EAAE,YAAY,SAAS,6CAA6C,QAAQ;AAAE,eAAO,IAAI,SAAS,MAAM;AAAA,MAAG,CAAC;AAAA,IACjP;AAAE,QAAI,KAAK,GAAG;AACV,MAAG,YAAY,SAAS,IAAI,KAAK,EAAE,UAAU,IAAI,MAAM;AAAA,IAC3D;AAAA,EAAE,GAAG,QAAQ,EAAE,UAAU,YAAY,MAAM,QAAQ,OAAO,SAAS,OAAO,SAAS,UAAU,YAAY,WAAW,aAAa,OAAO,QAAQ,GAAG,UAAU,CAAI,oBAAoB,GAAG,OAAO,GAAG,MAAM,GAAG,QAAQ,CAAC,CAAC,GAAG,QAAQ,OAAO,SAAS,UAAU,GAAG,SAAS,WAAW,cAAc,GAAG,CAAC,GAAG,QAAQ,OAAO,SAAS,UAAU,kBAAkB,WAAW,GAAG,CAAC,GAAG,QAAQ,OAAO,SAAS,QAAQ,CAAC,GAAG,UAAU,SAAS,0BAA0B,IAAI,KAAK;AAAE,QAAI,KAAK,GAAG;AAChd,MAAG,WAAW,GAAG,+CAA+C,GAAG,GAAG,qBAAqB,CAAC;AAC5F,MAAG,UAAU,GAAG,yBAAyB,CAAC;AAAA,IAC9C;AAAE,QAAI,KAAK,GAAG;AACV,MAAG,WAAW,WAAW,IAAI,KAAK,EAAE,gBAAgB,IAAI,gBAAgB;AACxE,MAAG,UAAU,CAAC;AACd,MAAG,WAAW,QAAQ,IAAI,SAAS,IAAI,EAAE,OAAO,IAAI,SAAS,GAAG,EAAE,SAAS,IAAI,SAAS,KAAK,EAAE,UAAU,IAAI,SAAS,MAAM,EAAE,kBAAkB,IAAI,GAAG,iBAAiB,OAAO,OAAO,IAAI,GAAG,cAAc,WAAW,EAAE,aAAa,IAAI,SAAS;AAAA,IACtP;AAAA,EAAE,GAAG,cAAc,CAAI,SAAS,uBAAuB,iBAAiB,GAAG,QAAQ,CAAC,2LAA2L,EAAE,CAAC;AAC1R;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,kBAAkB,CAAC;AAAA,IAC5F,MAAM;AAAA,IACN,MAAM,CAAC,EAAE,MAAM;AAAA,MACH,eAAe;AAAA,IACnB,GAAG,UAAU,mbAAyc,QAAQ,CAAC,kLAAkL,EAAE,CAAC;AAAA,EAChqB,CAAC,GAAG,MAAM,CAAC,EAAE,MAAS,WAAW,GAAG,EAAE,MAAS,kBAAkB,CAAC,GAAG,EAAE,UAAU,CAAC;AAAA,IAC1E,MAAM;AAAA,EACV,CAAC,GAAG,MAAM,CAAC;AAAA,IACP,MAAM;AAAA,EACV,CAAC,GAAG,OAAO,CAAC;AAAA,IACR,MAAM;AAAA,EACV,CAAC,GAAG,OAAO,CAAC;AAAA,IACR,MAAM;AAAA,EACV,CAAC,GAAG,UAAU,CAAC;AAAA,IACX,MAAM;AAAA,EACV,CAAC,GAAG,WAAW,CAAC;AAAA,IACZ,MAAM;AAAA,EACV,CAAC,GAAG,OAAO,CAAC;AAAA,IACR,MAAM;AAAA,EACV,CAAC,GAAG,OAAO,CAAC;AAAA,IACR,MAAM;AAAA,IACN,MAAM,CAAC,aAAa;AAAA,EACxB,CAAC,GAAG,QAAQ,CAAC;AAAA,IACT,MAAM;AAAA,IACN,MAAM,CAAC,cAAc;AAAA,EACzB,CAAC,GAAG,aAAa,CAAC;AAAA,IACd,MAAM;AAAA,IACN,MAAM,CAAC,eAAe,CAAC,QAAQ,CAAC;AAAA,EACpC,CAAC,GAAG,UAAU,CAAC;AAAA,IACX,MAAM;AAAA,IACN,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC;AAAA,EACjC,CAAC,EAAE,CAAC;AAAG,GAAG;AAAA,CACjB,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,mBAAmB,kBAAkB,EAAE,WAAW,oBAAoB,UAAU,2DAA2D,YAAY,GAAG,CAAC;AAAG,GAAG;AAKhO,SAAS,QAAQ,OAAO;AACpB,SAAO;AAAA,IACH,OAAO,SAAS;AACZ,UAAI,QAAQ,KAAK,SAAS,WAAW;AACjC,eAAO;AAAA,UACH,OAAO,QAAQ,KAAK;AAAA,UACpB,MAAM,OAAO,QAAQ;AAAA,UACrB,OAAO,QAAQ,KAAK;AAAA,UACpB,UAAU,QAAQ,KAAK;AAAA,UACvB,WAAW,QAAQ,KAAK;AAAA,UACxB,OAAO,QAAQ,KAAK;AAAA,QACxB;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAAA,IACA,MAAM,SAAS,QAAQ;AACnB,YAAM,SAAS,OAAO,YAAY;AAClC,YAAM,OAAO,OAAO,KAAK,KAAK,MAAM;AACpC,YAAM,WAAW,MAAM;AACnB,aAAK,EAAE,MAAM,YAAY,MAAM,QAAQ,KAAK,CAAC;AAAA,MACjD;AACA,UAAI,QAAQ,KAAK,SAAS,WAAW;AACjC,eAAO;AAAA,UACH,KAAK;AAAA,UACL,WAAW;AAAA,UACX,OAAO;AAAA,YACH,OAAO,QAAQ,KAAK;AAAA,YACpB,MAAM,OAAO,QAAQ;AAAA,YACrB,OAAO,QAAQ,KAAK;AAAA,YACpB,UAAU,QAAQ,KAAK;AAAA,YACvB,WAAW,QAAQ,KAAK;AAAA,YACxB,OAAO,QAAQ,KAAK;AAAA,YACpB;AAAA,UACJ;AAAA,QACJ;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAAA,EACJ;AACJ;AAEA,IAAI,UAAuB,OAAO,OAAO;AAAA,EACrC,WAAW;AAAA,EACX,OAAO;AACX,CAAC;AAED,IAAM,UAAU;AAChB,IAAM,eAAN,MAAM,cAAa;AAAA,EACf;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,OAAO,IAAI,aAAa;AAAA,EACxB,YAAY,IAAI,aAAa;AAAA,EAC7B,OAAO,IAAI,aAAa;AAAA,EACxB,OAAO,QAAQ,CAAC,IAAI,OAAO;AACvB,SAAK,UAAU,KAAK,EAAE,IAAI,GAAG,CAAC;AAAA,EAClC,GAAG,MAAM,KAAK,WAAW,CAAC;AAAA,EAC1B,IAAI,YAAY;AACZ,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,IAAI,MAAM;AACN,WAAO,GAAG,KAAK,SAAS,IAAI,UAAU,CAAC;AAAA,EAC3C;AAAA,EACA,IAAI,OAAO;AACP,WAAO,GAAG,KAAK,SAAS,IAAI,UAAU,CAAC;AAAA,EAC3C;AAAA,EACA,YAAY,OAAO;AACf,UAAM,gBAAgB;AACtB,UAAM,eAAe;AACrB,SAAK,KAAK,MAAM,KAAK;AACrB,SAAK,KAAK,KAAK;AAAA,EACnB;AAAA,EACA,YAAY,OAAO;AACf,UAAM,gBAAgB;AACtB,UAAM,eAAe;AACrB,SAAK,KAAK,KAAK;AAAA,EACnB;AAAA,EACA,YAAY,KAAK;AACb,SAAK,MAAM;AAAA,EAEf;AAAA,EACA,cAAc;AAAA,EAGd;AAAA,EACA,OAAO,OAAO,SAAS,qBAAqB,GAAG;AAAE,WAAO,KAAK,KAAK,eAAiB,kBAAqB,iBAAiB,CAAC;AAAA,EAAG;AAAA,EAC7H,OAAO,OAAwB,kBAAkB,EAAE,MAAM,eAAc,WAAW,CAAC,CAAC,aAAa,CAAC,GAAG,WAAW,CAAC,eAAe,KAAK,GAAG,UAAU,GAAG,cAAc,SAAS,0BAA0B,IAAI,KAAK;AAAE,QAAI,KAAK,GAAG;AACrN,MAAG,WAAW,eAAe,SAAS,4CAA4C,QAAQ;AAAE,eAAO,IAAI,YAAY,MAAM;AAAA,MAAG,CAAC,EAAE,eAAe,SAAS,4CAA4C,QAAQ;AAAE,eAAO,IAAI,YAAY,MAAM;AAAA,MAAG,CAAC;AAAA,IAClP;AAAE,QAAI,KAAK,GAAG;AACV,MAAG,YAAY,OAAO,IAAI,GAAG,EAAE,QAAQ,IAAI,IAAI;AAC/C,MAAG,YAAY,YAAY,IAAI,SAAS;AAAA,IAC5C;AAAA,EAAE,GAAG,QAAQ,EAAE,UAAU,YAAY,UAAU,YAAY,YAAY,aAAa,GAAG,SAAS,EAAE,MAAM,QAAQ,WAAW,aAAa,MAAM,OAAO,GAAG,UAAU,CAAI,oBAAoB,GAAG,OAAO,GAAG,MAAM,GAAG,UAAU,SAAS,sBAAsB,IAAI,KAAK;AAAA,EAAE,GAAG,QAAQ,CAAC,4MAA4M,EAAE,CAAC;AACve;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,cAAc,CAAC;AAAA,IACxF,MAAM;AAAA,IACN,MAAM,CAAC,EAAE,UAAU,eAAe,UAAU,IAAI,MAAM;AAAA,MAC1C,eAAe;AAAA,IACnB,GAAG,QAAQ,CAAC,wLAAwL,EAAE,CAAC;AAAA,EACnN,CAAC,GAAG,MAAM,CAAC,EAAE,MAAS,kBAAkB,CAAC,GAAG,EAAE,UAAU,CAAC;AAAA,IACjD,MAAM;AAAA,EACV,CAAC,GAAG,UAAU,CAAC;AAAA,IACX,MAAM;AAAA,EACV,CAAC,GAAG,YAAY,CAAC;AAAA,IACb,MAAM;AAAA,EACV,CAAC,GAAG,MAAM,CAAC;AAAA,IACP,MAAM;AAAA,EACV,CAAC,GAAG,WAAW,CAAC;AAAA,IACZ,MAAM;AAAA,EACV,CAAC,GAAG,MAAM,CAAC;AAAA,IACP,MAAM;AAAA,EACV,CAAC,GAAG,WAAW,CAAC;AAAA,IACZ,MAAM;AAAA,IACN,MAAM,CAAC,gBAAgB;AAAA,EAC3B,CAAC,GAAG,KAAK,CAAC;AAAA,IACN,MAAM;AAAA,IACN,MAAM,CAAC,WAAW;AAAA,EACtB,CAAC,GAAG,MAAM,CAAC;AAAA,IACP,MAAM;AAAA,IACN,MAAM,CAAC,YAAY;AAAA,EACvB,CAAC,GAAG,aAAa,CAAC;AAAA,IACd,MAAM;AAAA,IACN,MAAM,CAAC,eAAe,CAAC,QAAQ,CAAC;AAAA,EACpC,CAAC,GAAG,aAAa,CAAC;AAAA,IACd,MAAM;AAAA,IACN,MAAM,CAAC,eAAe,CAAC,QAAQ,CAAC;AAAA,EACpC,CAAC,EAAE,CAAC;AAAG,GAAG;AAAA,CACjB,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,mBAAmB,cAAc,EAAE,WAAW,gBAAgB,UAAU,mDAAmD,YAAY,GAAG,CAAC;AAAG,GAAG;AAEhN,SAAS,qCAAqC,IAAI,KAAK;AAAE,MAAI,KAAK,GAAG;AACjE,UAAM,MAAS,iBAAiB;AAChC,IAAG,eAAe,GAAG,eAAe,CAAC;AACrC,IAAG,WAAW,QAAQ,SAAS,mEAAmE;AAAE,YAAM,cAAiB,cAAc,GAAG;AAAG,YAAM,SAAS,YAAY;AAAW,YAAM,SAAY,cAAc;AAAG,aAAU,YAAY,OAAO,QAAQ,OAAO,KAAK,OAAO,EAAE,CAAC;AAAA,IAAG,CAAC,EAAE,aAAa,SAAS,sEAAsE,QAAQ;AAAE,YAAM,cAAiB,cAAc,GAAG;AAAG,YAAM,SAAS,YAAY;AAAW,YAAM,SAAY,cAAc;AAAG,aAAU,YAAY,OAAO,aAAa,OAAO,UAAU,OAAO,IAAI,OAAO,IAAI,OAAO,EAAE,CAAC;AAAA,IAAG,CAAC,EAAE,QAAQ,SAAS,mEAAmE;AAAE,YAAM,cAAiB,cAAc,GAAG;AAAG,YAAM,SAAS,YAAY;AAAW,YAAM,SAAY,cAAc;AAAG,aAAU,YAAY,OAAO,QAAQ,OAAO,KAAK,OAAO,EAAE,CAAC;AAAA,IAAG,CAAC;AAC71B,IAAG,aAAa;AAAA,EACpB;AAAE,MAAI,KAAK,GAAG;AACV,UAAM,SAAS,IAAI;AACnB,UAAM,SAAY,cAAc;AAChC,IAAG,WAAW,YAAY,OAAO,QAAQ,EAAE,YAAY,OAAO,QAAQ,EAAE,cAAc,OAAO,UAAU;AAAA,EAC3G;AAAE;AAEF,IAAM,gBAAN,MAAM,eAAc;AAAA,EAChB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAY,KAAK;AACb,SAAK,MAAM;AACX,SAAK,IAAI,OAAO;AAAA,EACpB;AAAA,EACA,cAAc;AACV,SAAK,IAAI,cAAc;AACvB,0BAAsB,MAAM,KAAK,SAAS,CAAC;AAAA,EAC/C;AAAA,EACA,MAAM,GAAG,MAAM;AACX,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,OAAO,OAAO,SAAS,sBAAsB,GAAG;AAAE,WAAO,KAAK,KAAK,gBAAkB,kBAAqB,iBAAiB,CAAC;AAAA,EAAG;AAAA,EAC/H,OAAO,OAAwB,kBAAkB,EAAE,MAAM,gBAAe,WAAW,CAAC,CAAC,cAAc,CAAC,GAAG,QAAQ,EAAE,UAAU,YAAY,MAAM,QAAQ,MAAM,QAAQ,WAAW,aAAa,MAAM,QAAQ,YAAY,aAAa,GAAG,UAAU,CAAI,oBAAoB,GAAG,OAAO,GAAG,MAAM,GAAG,QAAQ,CAAC,CAAC,GAAG,YAAY,YAAY,cAAc,QAAQ,aAAa,QAAQ,GAAG,SAAS,WAAW,cAAc,GAAG,CAAC,GAAG,YAAY,YAAY,cAAc,QAAQ,aAAa,MAAM,CAAC,GAAG,UAAU,SAAS,uBAAuB,IAAI,KAAK;AAAE,QAAI,KAAK,GAAG;AACvhB,MAAG,WAAW,GAAG,sCAAsC,GAAG,GAAG,eAAe,CAAC;AAAA,IACjF;AAAE,QAAI,KAAK,GAAG;AACV,MAAG,WAAW,WAAW,IAAI,IAAI,EAAE,gBAAgB,IAAI,KAAK;AAAA,IAChE;AAAA,EAAE,GAAG,cAAc,CAAI,SAAS,YAAY,GAAG,eAAe,EAAE,CAAC;AACzE;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,eAAe,CAAC;AAAA,IACzF,MAAM;AAAA,IACN,MAAM,CAAC,EAAE,UAAU,4RAA0S,CAAC;AAAA,EAClU,CAAC,GAAG,MAAM,CAAC,EAAE,MAAS,kBAAkB,CAAC,GAAG,EAAE,UAAU,CAAC;AAAA,IACjD,MAAM;AAAA,EACV,CAAC,GAAG,MAAM,CAAC;AAAA,IACP,MAAM;AAAA,EACV,CAAC,GAAG,MAAM,CAAC;AAAA,IACP,MAAM;AAAA,EACV,CAAC,GAAG,WAAW,CAAC;AAAA,IACZ,MAAM;AAAA,EACV,CAAC,GAAG,MAAM,CAAC;AAAA,IACP,MAAM;AAAA,EACV,CAAC,GAAG,YAAY,CAAC;AAAA,IACb,MAAM;AAAA,EACV,CAAC,EAAE,CAAC;AAAG,GAAG;AAAA,CACjB,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,mBAAmB,eAAe,EAAE,WAAW,iBAAiB,UAAU,qDAAqD,YAAY,EAAE,CAAC;AAAG,GAAG;AAKnN,SAAS,MAAM,OAAO;AAClB,QAAM,WAAW,OAAO;AAAA,IACpB,MAAM,OAAO,gBAAgB,MAAM;AAAA,IACnC,WAAW,OAAO,cAAc,MAAM;AAAA,IACtC,MAAM,OAAO,gBAAgB,MAAM;AAAA,EACvC;AACA,SAAO;AAAA,IACH,OAAO,SAAS;AACZ,UAAI,QAAQ,KAAK,SAAS,gBAAgB;AACtC,eAAO,iCACA,SAAS,IADT;AAAA,UAEH,MAAM,QAAQ,KAAK,KAAK;AAAA,QAC5B;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAAA,IACA,MAAM,SAAS,QAAQ;AACnB,YAAM,OAAO,OAAO,YAAY,cAAc;AAC9C,YAAM,WAAW,MAAM;AACnB,aAAK,KAAK,EAAE,MAAM,YAAY,MAAM,QAAQ,KAAK,CAAC;AAAA,MACtD;AACA,UAAI,QAAQ,KAAK,SAAS,gBAAgB;AACtC,eAAO;AAAA,UACH,KAAK;AAAA,UACL,WAAW;AAAA,UACX,OAAO,iCACA,SAAS,IADT;AAAA,YAEH,MAAM,QAAQ,KAAK,KAAK;AAAA,YACxB;AAAA,YACA,YAAY,MAAM,KAAK,KAAK;AAAA,UAChC;AAAA,QACJ;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAAA,EACJ;AACJ;AAEA,IAAI,UAAuB,OAAO,OAAO;AAAA,EACrC,WAAW;AAAA,EACX;AACJ,CAAC;AAOD,IAAI,QAAqB,OAAO,OAAO;AAAA,EACnC,WAAW;AAAA,EACX,SAAS;AAAA,EACT,aAAa;AAAA,EACb,SAAS;AAAA,EACT,SAAS;AACb,CAAC;AAED,IAAM,aAAN,MAAM,YAAW;AAAA,EACb,OAAO,OAAO,SAAS,mBAAmB,GAAG;AAAE,WAAO,KAAK,KAAK,aAAY;AAAA,EAAG;AAAA,EAC/E,OAAO,OAAwB,iBAAiB,EAAE,MAAM,YAAW,CAAC;AAAA,EACpE,OAAO,OAAwB,iBAAiB,EAAE,SAAS,CAAC,YAAY,EAAE,CAAC;AAC/E;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,YAAY,CAAC;AAAA,IACtF,MAAM;AAAA,IACN,MAAM,CAAC;AAAA,MACC,cAAc;AAAA,QACV;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACJ;AAAA,MACA,SAAS;AAAA,QACL;AAAA,MACJ;AAAA,MACA,SAAS;AAAA,QACL;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACJ;AAAA,IACJ,CAAC;AAAA,EACT,CAAC,GAAG,MAAM,IAAI;AAAG,GAAG;AAAA,CACvB,WAAY;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,mBAAmB,YAAY,EAAE,cAAc;AAAA,IAAC;AAAA,IAC7G;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAkB,GAAG,SAAS,CAAC,YAAY,GAAG,SAAS;AAAA,IAAC;AAAA,IACxD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAkB,EAAE,CAAC;AAAG,GAAG;AAEnC,IAAM,wBAAN,MAAM,uBAAsB;AAAA,EACxB,OAAO,OAAO,SAAS,8BAA8B,GAAG;AAAE,WAAO,KAAK,KAAK,wBAAuB;AAAA,EAAG;AAAA,EACrG,OAAO,OAAwB,iBAAiB,EAAE,MAAM,uBAAsB,CAAC;AAAA,EAC/E,OAAO,OAAwB,iBAAiB,EAAE,SAAS,CAAC,YAAY,EAAE,CAAC;AAC/E;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,uBAAuB,CAAC;AAAA,IACjG,MAAM;AAAA,IACN,MAAM,CAAC;AAAA,MACC,cAAc;AAAA,QACV;AAAA,QACA;AAAA,QACA;AAAA,MACJ;AAAA,MACA,SAAS;AAAA,QACL;AAAA,MACJ;AAAA,MACA,SAAS;AAAA,QACL;AAAA,QACA;AAAA,QACA;AAAA,MACJ;AAAA,IACJ,CAAC;AAAA,EACT,CAAC,GAAG,MAAM,IAAI;AAAG,GAAG;AAAA,CACvB,WAAY;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,mBAAmB,uBAAuB,EAAE,cAAc;AAAA,IAAC;AAAA,IACxH;AAAA,IACA;AAAA,EAAwB,GAAG,SAAS,CAAC,YAAY,GAAG,SAAS;AAAA,IAAC;AAAA,IAC9D;AAAA,IACA;AAAA,EAAwB,EAAE,CAAC;AAAG,GAAG;AAEzC,IAAM,oBAAN,MAAM,mBAAkB;AAAA,EACpB,OAAO,OAAO,SAAS,0BAA0B,GAAG;AAAE,WAAO,KAAK,KAAK,oBAAmB;AAAA,EAAG;AAAA,EAC7F,OAAO,OAAwB,iBAAiB,EAAE,MAAM,mBAAkB,CAAC;AAAA,EAC3E,OAAO,OAAwB,iBAAiB,EAAE,SAAS,CAAC,YAAY,EAAE,CAAC;AAC/E;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,mBAAmB,CAAC;AAAA,IAC7F,MAAM;AAAA,IACN,MAAM,CAAC;AAAA,MACC,cAAc;AAAA,QACV;AAAA,QACA;AAAA,QACA;AAAA,MACJ;AAAA,MACA,SAAS;AAAA,QACL;AAAA,MACJ;AAAA,MACA,SAAS;AAAA,QACL;AAAA,QACA;AAAA,QACA;AAAA,MACJ;AAAA,IACJ,CAAC;AAAA,EACT,CAAC,GAAG,MAAM,IAAI;AAAG,GAAG;AAAA,CACvB,WAAY;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,mBAAmB,mBAAmB,EAAE,cAAc;AAAA,IAAC;AAAA,IACpH;AAAA,IACA;AAAA,EAAiB,GAAG,SAAS,CAAC,YAAY,GAAG,SAAS;AAAA,IAAC;AAAA,IACvD;AAAA,IACA;AAAA,EAAiB,EAAE,CAAC;AAAG,GAAG;AAElC,IAAM,oBAAN,MAAM,mBAAkB;AAAA,EACpB,OAAO,OAAO,SAAS,0BAA0B,GAAG;AAAE,WAAO,KAAK,KAAK,oBAAmB;AAAA,EAAG;AAAA,EAC7F,OAAO,OAAwB,iBAAiB,EAAE,MAAM,mBAAkB,CAAC;AAAA,EAC3E,OAAO,OAAwB,iBAAiB,EAAE,SAAS,CAAC,YAAY,EAAE,CAAC;AAC/E;AAAA,CACC,MAAM;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,iBAAkB,mBAAmB,CAAC;AAAA,IAC7F,MAAM;AAAA,IACN,MAAM,CAAC;AAAA,MACC,cAAc;AAAA,QACV;AAAA,QACA;AAAA,MACJ;AAAA,MACA,SAAS;AAAA,QACL;AAAA,MACJ;AAAA,MACA,SAAS;AAAA,QACL;AAAA,QACA;AAAA,MACJ;AAAA,IACJ,CAAC;AAAA,EACT,CAAC,GAAG,MAAM,IAAI;AAAG,GAAG;AAAA,CACvB,WAAY;AAAE,GAAC,OAAO,cAAc,eAAe,cAAiB,mBAAmB,mBAAmB,EAAE,cAAc;AAAA,IAAC;AAAA,IACpH;AAAA,EAAY,GAAG,SAAS,CAAC,YAAY,GAAG,SAAS;AAAA,IAAC;AAAA,IAClD;AAAA,EAAY,EAAE,CAAC;AAAG,GAAG;AAE7B,SAAS,QAAQ,KAAK;AAClB,MAAI,OAAO,QAAQ,YAAY,QAAQ,MAAM;AACzC,WAAO;AAAA,EACX;AACA,SAAO,IAAI,MAAM,KAAK;AAAA,IAClB,IAAI,QAAQ,MAAM;AACd,aAAO,OAAO,IAAI;AAAA,IACtB;AAAA,IACA,IAAI,QAAQ,MAAM,OAAO;AACrB,aAAO,IAAI,IAAI;AACf,aAAO;AAAA,IACX;AAAA,IACA,KAAK,CAAC,QAAQ,SAAS,QAAQ;AAAA,IAC/B,gBAAgB,CAAC,QAAQ,SAAS,OAAO,OAAO,IAAI;AAAA,IACpD,SAAS,YAAU,QAAQ,QAAQ,MAAM;AAAA,EAC7C,CAAC;AACL;AAEA,SAAS,cAAc;AACnB,QAAM,WAAW,oBAAI,QAAQ;AAC7B,SAAO;AAAA,IACH,IAAI,SAAS;AACT,aAAO,SAAS,IAAI,OAAO;AAAA,IAC/B;AAAA,IACA,MAAM,SAAS,KAAK,WAAW,UAAU,OAAO;AAE5C,UAAI,gBAAgB,eAAe,IAAI,GAAG;AAC1C,UAAI,CAAC,eAAe;AAChB,wBAAgB,oBAAoB,WAAW,EAAE,SAAS,CAAC;AAC3D,uBAAe,OAAO,KAAK,aAAa;AAAA,MAC5C;AACA,YAAM,YAAY,IAAI,cAAc,QAAQ;AAC5C,aAAO,KAAK,KAAK,EAAE,QAAQ,CAAAC,SAAO;AAC9B,kBAAUA,IAAG,IAAI,MAAMA,IAAG;AAAA,MAC9B,CAAC;AACD,cAAQ,YAAY,SAAS;AAC7B,eAAS,IAAI,SAAS,EAAE,KAAK,UAAU,CAAC;AAAA,IAC5C;AAAA,IACA,OAAO,EAAE,UAAU,GAAG,OAAO;AACzB,aAAO,KAAK,KAAK,EAAE,QAAQ,SAAO;AAC9B,kBAAU,kBAAkB,cAAc,KAAK,QAAQ,MAAM,GAAG,CAAC,CAAC;AAAA,MACtE,CAAC;AAAA,IACL;AAAA,IACA,QAAQ,SAAS;AACb,YAAM,WAAW,SAAS,IAAI,OAAO;AACrC,UAAI,UAAU;AACV,iBAAS,UAAU,OAAO;AAC1B,iBAAS,OAAO,OAAO;AAAA,MAC3B;AAAA,IACJ;AAAA,EACJ;AACJ;AAQA,IAAM,gBAAN,cAA4B,MAAM;AAAA,EAC9B;AAAA,EACA,UAAU,CAAC;AAAA,EACX;AAAA,EACA,SAAS,oBAAI,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMrB,YAAY,QAAQ;AAChB,UAAM,gBAAgB;AACtB,SAAK,SAAS;AACd,SAAK,WAAW,YAAY;AAC5B,SAAK,QAAQ,aAAW;AACpB,UAAI,CAAC,WAAW,OAAO,YAAY,YAAY,EAAE,UAAU;AACvD,eAAO;AACX,UAAI,QAAQ,SAAS,WAAW;AAC5B,aAAK,QAAQ,QAAQ,KAAK,OAAO;AAAA,MACrC,WACS,QAAQ,SAAS,UAAU;AAChC,YAAI,YAAY,QAAQ,QAAQ,QAAQ,KAAK,QAAQ;AACjD,iBAAO;AAAA,QACX;AACA,YAAI,KAAK,MAAM,QAAQ,KAAK,SAAS,OAAO,GAAG;AAC3C,iBAAO,iCACA,UADA;AAAA,YAEH,MAAM,iCACC,QAAQ,OADT;AAAA,cAEF,QAAQ;AAAA,YACZ;AAAA,UACJ;AAAA,QACJ;AAAA,MACJ;AACA,aAAO;AAAA,IACX,CAAC;AAAA,EACL;AAAA,EACA,UAAU,OAAO;AACb,UAAM,UAAU,KAAK;AACrB,SAAK,QAAQ,QAAQ,YAAU;AAC3B,UAAI,OAAO;AACP,eAAO,OAAO,IAAI;AAAA,IAC1B,CAAC;AAAA,EACL;AAAA,EACA,QAAQ,SAAS;AACb,SAAK,OAAO,OAAO,OAAO;AAC1B,SAAK,SAAS,QAAQ,OAAO;AAAA,EACjC;AAAA,EACA,MAAM,SAAS,SAAS;AACpB,UAAM,WAAW,KAAK,SAAS,IAAI,OAAO;AAC1C,QAAI,UAAU;AACV,WAAK,QAAQ,QAAQ,YAAU;AAC3B,YAAI,KAAK,OAAO,IAAI,OAAO,MAAM;AAC7B;AACJ,cAAM,SAAS,OAAO,OAAO,SAAS,IAAI;AAC1C,YAAI,QAAQ;AACR,eAAK,SAAS,OAAO,UAAU,MAAM;AAAA,QACzC;AAAA,MACJ,CAAC;AACD,aAAO;AAAA,IACX;AACA,eAAW,UAAU,KAAK,SAAS;AAC/B,YAAM,SAAS,OAAO,MAAM,SAAS,IAAI;AACzC,UAAI,CAAC;AACD;AACJ,YAAM,EAAE,KAAK,WAAW,MAAM,IAAI;AAClC,WAAK,SAAS,MAAM,SAAS,KAAK,WAAW,KAAK,OAAO,UAAU,KAAK;AACxE,WAAK,OAAO,IAAI,SAAS,MAAM;AAC/B,aAAO;AAAA,IACX;AACA;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,UAAU,QAAQ;AACd,UAAM,QAAQ;AACd,QAAI,MAAM;AACN,YAAM,OAAO,IAAI;AACrB,SAAK,QAAQ,KAAK,KAAK;AAAA,EAC3B;AACJ;",
  "names": ["_regeneratorRuntime", "EventEmitter", "SocketsPositionsStorage", "BaseSocketPosition", "position", "t", "_isNativeReflectConstruct", "DOMSocketPosition", "start", "end", "key"]
}

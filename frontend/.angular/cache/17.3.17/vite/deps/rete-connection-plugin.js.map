{
  "version": 3,
  "sources": ["../../../../../node_modules/rete-connection-plugin/rete-connection-plugin.esm.js"],
  "sourcesContent": ["/*!\n* rete-connection-plugin v2.0.4\n* (c) 2024 Vitaliy Stoliarov\n* Released under the MIT license.\n* */\nfunction ___$insertStyle(css) {\n  if (!css) {\n    return;\n  }\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  var style = document.createElement('style');\n\n  style.setAttribute('type', 'text/css');\n  style.innerHTML = css;\n  document.head.appendChild(style);\n\n  return css;\n}\n\nimport _typeof from '@babel/runtime/helpers/typeof';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _classCallCheck from '@babel/runtime/helpers/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/getPrototypeOf';\nimport _get from '@babel/runtime/helpers/get';\nimport _inherits from '@babel/runtime/helpers/inherits';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport { getUID, NodeEditor, Scope } from 'rete';\nimport { BaseAreaPlugin } from 'rete-area-plugin';\nimport _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport _slicedToArray from '@babel/runtime/helpers/slicedToArray';\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/**\n * Create pseudoconnection. Used to trigger rendering of connection that is being created by user.\n * Has additional `isPseudo` property in payload.\n * @param extra Extra payload to add to connection\n */\nfunction createPseudoconnection(extra) {\n  var element = null;\n  var id = null;\n  function unmount(areaPlugin) {\n    if (id) {\n      areaPlugin.removeConnectionView(id);\n    }\n    element = null;\n    id = null;\n  }\n  function mount(areaPlugin) {\n    unmount(areaPlugin);\n    id = \"pseudo_\".concat(getUID());\n  }\n  return {\n    isMounted: function isMounted() {\n      return Boolean(id);\n    },\n    mount: mount,\n    render: function render(areaPlugin, _ref, data) {\n      var x = _ref.x,\n        y = _ref.y;\n      var isOutput = data.side === 'output';\n      var pointer = {\n        x: x + (isOutput ? -3 : 3),\n        y: y\n      }; // fix hover of underlying elements\n\n      if (!id) throw new Error('pseudo connection id wasn\\'t generated');\n      var payload = isOutput ? _objectSpread({\n        id: id,\n        source: data.nodeId,\n        sourceOutput: data.key,\n        target: '',\n        targetInput: ''\n      }, extra !== null && extra !== void 0 ? extra : {}) : _objectSpread({\n        id: id,\n        target: data.nodeId,\n        targetInput: data.key,\n        source: '',\n        sourceOutput: ''\n      }, extra !== null && extra !== void 0 ? extra : {});\n      if (!element) {\n        var view = areaPlugin.addConnectionView(payload);\n        element = view.element;\n      }\n\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!element) return;\n      void areaPlugin.emit({\n        type: 'render',\n        data: _objectSpread({\n          element: element,\n          type: 'connection',\n          payload: payload\n        }, isOutput ? {\n          end: pointer\n        } : {\n          start: pointer\n        })\n      });\n    },\n    unmount: unmount\n  };\n}\n\nfunction _createForOfIteratorHelper$1(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray$1(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray$1(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray$1(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray$1(r, a) : void 0; } }\nfunction _arrayLikeToArray$1(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\n/**\n * @param elements list of Element returned by document.elementsFromPoint\n */\nfunction findSocket(socketsCache, elements) {\n  var _iterator = _createForOfIteratorHelper$1(elements),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var element = _step.value;\n      var found = socketsCache.get(element);\n      if (found) {\n        return found;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\n\n/**\n * Alternative to document.elementsFromPoint that traverses shadow roots\n * @param x x coordinate\n * @param y y coordinate\n * @param root root element to search in\n */\nfunction elementsFromPoint(x, y) {\n  var _elements$;\n  var root = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : document;\n  var elements = root.elementsFromPoint(x, y);\n  var shadowRoot = (_elements$ = elements[0]) === null || _elements$ === void 0 ? void 0 : _elements$.shadowRoot;\n  if (shadowRoot && shadowRoot !== root) {\n    elements.unshift.apply(elements, _toConsumableArray(elementsFromPoint(x, y, shadowRoot)));\n  }\n  return elements;\n}\n\nvar Flow = /*#__PURE__*/_createClass(function Flow() {\n  _classCallCheck(this, Flow);\n});\n\nvar State = /*#__PURE__*/function () {\n  function State() {\n    _classCallCheck(this, State);\n  }\n  return _createClass(State, [{\n    key: \"setContext\",\n    value: function setContext(context) {\n      this.context = context;\n    }\n  }]);\n}();\nfunction getSourceTarget(initial, socket) {\n  var forward = initial.side === 'output' && socket.side === 'input';\n  var backward = initial.side === 'input' && socket.side === 'output';\n  var _ref = forward ? [initial, socket] : backward ? [socket, initial] : [],\n    _ref2 = _slicedToArray(_ref, 2),\n    source = _ref2[0],\n    target = _ref2[1];\n  if (source && target) return [source, target];\n}\nfunction canMakeConnection(initial, socket) {\n  return Boolean(getSourceTarget(initial, socket));\n}\nfunction makeConnection(initial, socket, context) {\n  var _ref3 = getSourceTarget(initial, socket) || [null, null],\n    _ref4 = _slicedToArray(_ref3, 2),\n    source = _ref4[0],\n    target = _ref4[1];\n  if (source && target) {\n    void context.editor.addConnection({\n      id: getUID(),\n      source: source.nodeId,\n      sourceOutput: source.key,\n      target: target.nodeId,\n      targetInput: target.key\n    });\n    return true;\n  }\n}\n\nfunction _callSuper$2(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct$2() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct$2() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct$2 = function _isNativeReflectConstruct() { return !!t; })(); }\n\n/**\n * Bidirect flow params\n */\nvar Picked$1 = /*#__PURE__*/function (_State) {\n  function Picked(initial, params) {\n    var _this;\n    _classCallCheck(this, Picked);\n    _this = _callSuper$2(this, Picked);\n    _this.initial = initial;\n    _this.params = params;\n    return _this;\n  }\n  _inherits(Picked, _State);\n  return _createClass(Picked, [{\n    key: \"pick\",\n    value: function () {\n      var _pick = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref, context) {\n        var socket;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              socket = _ref.socket;\n              if (this.params.makeConnection(this.initial, socket, context)) {\n                this.drop(context, socket, true);\n              } else if (!this.params.pickByClick) {\n                this.drop(context, socket);\n              }\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function pick(_x, _x2) {\n        return _pick.apply(this, arguments);\n      }\n      return pick;\n    }()\n  }, {\n    key: \"drop\",\n    value: function drop(context) {\n      var socket = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var created = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      if (this.initial) {\n        void context.scope.emit({\n          type: 'connectiondrop',\n          data: {\n            initial: this.initial,\n            socket: socket,\n            created: created\n          }\n        });\n      }\n      this.context.switchTo(new Idle$1(this.params));\n    }\n  }]);\n}(State);\nvar Idle$1 = /*#__PURE__*/function (_State2) {\n  function Idle(params) {\n    var _this2;\n    _classCallCheck(this, Idle);\n    _this2 = _callSuper$2(this, Idle);\n    _this2.params = params;\n    return _this2;\n  }\n  _inherits(Idle, _State2);\n  return _createClass(Idle, [{\n    key: \"pick\",\n    value: function () {\n      var _pick2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref2, context) {\n        var socket, event;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              socket = _ref2.socket, event = _ref2.event;\n              if (!(event === 'down')) {\n                _context2.next = 9;\n                break;\n              }\n              _context2.next = 4;\n              return context.scope.emit({\n                type: 'connectionpick',\n                data: {\n                  socket: socket\n                }\n              });\n            case 4:\n              if (!_context2.sent) {\n                _context2.next = 8;\n                break;\n              }\n              this.context.switchTo(new Picked$1(socket, this.params));\n              _context2.next = 9;\n              break;\n            case 8:\n              this.drop(context);\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function pick(_x3, _x4) {\n        return _pick2.apply(this, arguments);\n      }\n      return pick;\n    }()\n  }, {\n    key: \"drop\",\n    value: function drop(context) {\n      var socket = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var created = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      if (this.initial) {\n        void context.scope.emit({\n          type: 'connectiondrop',\n          data: {\n            initial: this.initial,\n            socket: socket,\n            created: created\n          }\n        });\n      }\n      delete this.initial;\n    }\n  }]);\n}(State);\n/**\n * Bidirect flow. User can pick a socket and connect it by releasing mouse button.\n * More simple than classic flow, but less functional (can't remove connection by clicking on input socket).\n */\nvar BidirectFlow = /*#__PURE__*/function () {\n  function BidirectFlow(params) {\n    _classCallCheck(this, BidirectFlow);\n    var pickByClick = Boolean(params === null || params === void 0 ? void 0 : params.pickByClick);\n    var makeConnection$1 = (params === null || params === void 0 ? void 0 : params.makeConnection) || makeConnection;\n    this.switchTo(new Idle$1({\n      pickByClick: pickByClick,\n      makeConnection: makeConnection$1\n    }));\n  }\n  return _createClass(BidirectFlow, [{\n    key: \"pick\",\n    value: function () {\n      var _pick3 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(params, context) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.currentState.pick(params, context);\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function pick(_x5, _x6) {\n        return _pick3.apply(this, arguments);\n      }\n      return pick;\n    }()\n  }, {\n    key: \"getPickedSocket\",\n    value: function getPickedSocket() {\n      return this.currentState.initial;\n    }\n  }, {\n    key: \"drop\",\n    value: function drop(context) {\n      this.currentState.drop(context);\n    }\n  }, {\n    key: \"switchTo\",\n    value: function switchTo(state) {\n      state.setContext(this);\n      this.currentState = state;\n    }\n  }]);\n}();\n\nfunction findPort(socket, editor) {\n  var node = editor.getNode(socket.nodeId);\n  if (!node) throw new Error('cannot find node');\n  var list = socket.side === 'input' ? node.inputs : node.outputs;\n  return list[socket.key];\n}\nfunction findConnections(socket, editor) {\n  var nodeId = socket.nodeId,\n    side = socket.side,\n    key = socket.key;\n  return editor.getConnections().filter(function (connection) {\n    if (side === 'input') {\n      return connection.target === nodeId && connection.targetInput === key;\n    }\n    if (side === 'output') {\n      return connection.source === nodeId && connection.sourceOutput === key;\n    }\n  });\n}\n\n/**\n * Remove existing connections if Port doesnt allow multiple connections\n */\nfunction syncConnections(sockets, editor) {\n  var connections = sockets.map(function (socket) {\n    var port = findPort(socket, editor);\n    var multiple = port === null || port === void 0 ? void 0 : port.multipleConnections;\n    if (multiple) return [];\n    return findConnections(socket, editor);\n  }).flat();\n  return {\n    commit: function commit() {\n      var uniqueIds = Array.from(new Set(connections.map(function (_ref) {\n        var id = _ref.id;\n        return id;\n      })));\n      uniqueIds.forEach(function (id) {\n        return void editor.removeConnection(id);\n      });\n    }\n  };\n}\n\nfunction _callSuper$1(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct$1() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct$1() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct$1 = function _isNativeReflectConstruct() { return !!t; })(); }\n\n/**\n * Classic flow params\n */\nvar Picked = /*#__PURE__*/function (_State) {\n  function Picked(initial, params) {\n    var _this;\n    _classCallCheck(this, Picked);\n    _this = _callSuper$1(this, Picked);\n    _this.initial = initial;\n    _this.params = params;\n    return _this;\n  }\n  _inherits(Picked, _State);\n  return _createClass(Picked, [{\n    key: \"pick\",\n    value: function () {\n      var _pick = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref, context) {\n        var socket, created;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              socket = _ref.socket;\n              if (this.params.canMakeConnection(this.initial, socket)) {\n                syncConnections([this.initial, socket], context.editor).commit();\n                created = this.params.makeConnection(this.initial, socket, context);\n                this.drop(context, created ? socket : null, created);\n              }\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function pick(_x, _x2) {\n        return _pick.apply(this, arguments);\n      }\n      return pick;\n    }()\n  }, {\n    key: \"drop\",\n    value: function drop(context) {\n      var socket = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var created = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      if (this.initial) {\n        void context.scope.emit({\n          type: 'connectiondrop',\n          data: {\n            initial: this.initial,\n            socket: socket,\n            created: created\n          }\n        });\n      }\n      this.context.switchTo(new Idle(this.params));\n    }\n  }]);\n}(State);\nvar PickedExisting = /*#__PURE__*/function (_State2) {\n  function PickedExisting(connection, params, context) {\n    var _this2;\n    _classCallCheck(this, PickedExisting);\n    _this2 = _callSuper$1(this, PickedExisting);\n    _this2.connection = connection;\n    _this2.params = params;\n    var outputSocket = Array.from(context.socketsCache.values()).find(function (data) {\n      return data.nodeId === _this2.connection.source && data.side === 'output' && data.key === _this2.connection.sourceOutput;\n    });\n    if (!outputSocket) throw new Error('cannot find output socket');\n    _this2.outputSocket = outputSocket;\n    return _this2;\n  }\n  _inherits(PickedExisting, _State2);\n  return _createClass(PickedExisting, [{\n    key: \"init\",\n    value: function () {\n      var _init = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(context) {\n        var _this3 = this;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              void context.scope.emit({\n                type: 'connectionpick',\n                data: {\n                  socket: this.outputSocket\n                }\n              }).then(function (response) {\n                if (response) {\n                  void context.editor.removeConnection(_this3.connection.id);\n                  _this3.initial = _this3.outputSocket;\n                } else {\n                  _this3.drop(context);\n                }\n              });\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function init(_x3) {\n        return _init.apply(this, arguments);\n      }\n      return init;\n    }()\n  }, {\n    key: \"pick\",\n    value: function () {\n      var _pick2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref2, context) {\n        var socket, event, created, droppedSocket, _created, _droppedSocket;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              socket = _ref2.socket, event = _ref2.event;\n              if (this.initial && !(socket.side === 'input' && this.connection.target === socket.nodeId && this.connection.targetInput === socket.key)) {\n                if (this.params.canMakeConnection(this.initial, socket)) {\n                  syncConnections([this.initial, socket], context.editor).commit();\n                  created = this.params.makeConnection(this.initial, socket, context);\n                  droppedSocket = created ? socket : null;\n                  this.drop(context, droppedSocket, created);\n                }\n              } else if (event === 'down') {\n                if (this.initial) {\n                  syncConnections([this.initial, socket], context.editor).commit();\n                  _created = this.params.makeConnection(this.initial, socket, context);\n                  _droppedSocket = _created ? null : socket;\n                  this.drop(context, _droppedSocket, _created);\n                }\n              }\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function pick(_x4, _x5) {\n        return _pick2.apply(this, arguments);\n      }\n      return pick;\n    }()\n  }, {\n    key: \"drop\",\n    value: function drop(context) {\n      var socket = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var created = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      if (this.initial) {\n        void context.scope.emit({\n          type: 'connectiondrop',\n          data: {\n            initial: this.initial,\n            socket: socket,\n            created: created\n          }\n        });\n      }\n      this.context.switchTo(new Idle(this.params));\n    }\n  }]);\n}(State);\nvar Idle = /*#__PURE__*/function (_State3) {\n  function Idle(params) {\n    var _this4;\n    _classCallCheck(this, Idle);\n    _this4 = _callSuper$1(this, Idle);\n    _this4.params = params;\n    return _this4;\n  }\n  _inherits(Idle, _State3);\n  return _createClass(Idle, [{\n    key: \"pick\",\n    value: function () {\n      var _pick3 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(_ref3, context) {\n        var socket, event, _connection, state;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              socket = _ref3.socket, event = _ref3.event;\n              if (!(event !== 'down')) {\n                _context4.next = 3;\n                break;\n              }\n              return _context4.abrupt(\"return\");\n            case 3:\n              if (!(socket.side === 'input')) {\n                _context4.next = 11;\n                break;\n              }\n              _connection = context.editor.getConnections().find(function (item) {\n                return item.target === socket.nodeId && item.targetInput === socket.key;\n              });\n              if (!_connection) {\n                _context4.next = 11;\n                break;\n              }\n              state = new PickedExisting(_connection, this.params, context);\n              _context4.next = 9;\n              return state.init(context);\n            case 9:\n              this.context.switchTo(state);\n              return _context4.abrupt(\"return\");\n            case 11:\n              _context4.next = 13;\n              return context.scope.emit({\n                type: 'connectionpick',\n                data: {\n                  socket: socket\n                }\n              });\n            case 13:\n              if (!_context4.sent) {\n                _context4.next = 17;\n                break;\n              }\n              this.context.switchTo(new Picked(socket, this.params));\n              _context4.next = 18;\n              break;\n            case 17:\n              this.drop(context);\n            case 18:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, this);\n      }));\n      function pick(_x6, _x7) {\n        return _pick3.apply(this, arguments);\n      }\n      return pick;\n    }()\n  }, {\n    key: \"drop\",\n    value: function drop(context) {\n      var socket = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var created = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      if (this.initial) {\n        void context.scope.emit({\n          type: 'connectiondrop',\n          data: {\n            initial: this.initial,\n            socket: socket,\n            created: created\n          }\n        });\n      }\n      delete this.initial;\n    }\n  }]);\n}(State);\n/**\n * Classic flow. User can pick/click a socket and connect it by releasing/clicking on another socket.\n * If connection already exists and user clicks on input socket, connection will be removed.\n */\nvar ClassicFlow = /*#__PURE__*/function () {\n  function ClassicFlow(params) {\n    _classCallCheck(this, ClassicFlow);\n    var canMakeConnection$1 = (params === null || params === void 0 ? void 0 : params.canMakeConnection) || canMakeConnection;\n    var makeConnection$1 = (params === null || params === void 0 ? void 0 : params.makeConnection) || makeConnection;\n    this.switchTo(new Idle({\n      canMakeConnection: canMakeConnection$1,\n      makeConnection: makeConnection$1\n    }));\n  }\n  return _createClass(ClassicFlow, [{\n    key: \"pick\",\n    value: function () {\n      var _pick4 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(params, context) {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return this.currentState.pick(params, context);\n            case 2:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5, this);\n      }));\n      function pick(_x8, _x9) {\n        return _pick4.apply(this, arguments);\n      }\n      return pick;\n    }()\n  }, {\n    key: \"getPickedSocket\",\n    value: function getPickedSocket() {\n      return this.currentState.initial;\n    }\n  }, {\n    key: \"switchTo\",\n    value: function switchTo(state) {\n      state.setContext(this);\n      this.currentState = state;\n    }\n  }, {\n    key: \"drop\",\n    value: function drop(context) {\n      this.currentState.drop(context);\n    }\n  }]);\n}();\n\n/**\n * Classic preset. Uses `ClassicFlow` for managing connections by user\n */\nfunction setup() {\n  return function () {\n    return new ClassicFlow();\n  };\n}\n\nvar classic = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  setup: setup\n});\n\n/**\n * Built-in presets\n * @module\n */\n\nvar index = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  classic: classic\n});\n\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _superPropGet(t, e, o, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), e, o); return 2 & r && \"function\" == typeof p ? function (t) { return p.apply(o, t); } : p; }\n/**\n * Connection plugin. Responsible for user interaction with connections (creation, deletion)\n * @priority 9\n * @emits connectionpick\n * @emits connectiondrop\n * @listens pointermove\n * @listens pointerup\n * @listens render\n * @listens unmount\n */\nvar ConnectionPlugin = /*#__PURE__*/function (_Scope) {\n  function ConnectionPlugin() {\n    var _this;\n    _classCallCheck(this, ConnectionPlugin);\n    _this = _callSuper(this, ConnectionPlugin, ['connection']);\n    _defineProperty(_this, \"presets\", []);\n    _defineProperty(_this, \"currentFlow\", null);\n    _defineProperty(_this, \"preudoconnection\", createPseudoconnection({\n      isPseudo: true\n    }));\n    _defineProperty(_this, \"socketsCache\", new Map());\n    return _this;\n  }\n\n  /**\n   * Add preset to the plugin\n   * @param preset Preset to add\n   */\n  _inherits(ConnectionPlugin, _Scope);\n  return _createClass(ConnectionPlugin, [{\n    key: \"addPreset\",\n    value: function addPreset(preset) {\n      this.presets.push(preset);\n    }\n  }, {\n    key: \"findPreset\",\n    value: function findPreset(data) {\n      var _iterator = _createForOfIteratorHelper(this.presets),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var preset = _step.value;\n          var flow = preset(data);\n          if (flow) return flow;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return null;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (!this.currentFlow) return;\n      var socket = this.currentFlow.getPickedSocket();\n      if (socket) {\n        this.preudoconnection.render(this.areaPlugin, this.areaPlugin.area.pointer, socket);\n      }\n    }\n\n    /**\n     * Drop pseudo-connection if exists\n     * @emits connectiondrop\n     */\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      var flowContext = {\n        editor: this.editor,\n        scope: this,\n        socketsCache: this.socketsCache\n      };\n      if (this.currentFlow) {\n        this.currentFlow.drop(flowContext);\n        this.preudoconnection.unmount(this.areaPlugin);\n        this.currentFlow = null;\n      }\n    }\n\n    // eslint-disable-next-line max-statements\n  }, {\n    key: \"pick\",\n    value: function () {\n      var _pick = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event, type) {\n        var flowContext, pointedElements, pickedSocket;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              flowContext = {\n                editor: this.editor,\n                scope: this,\n                socketsCache: this.socketsCache\n              };\n              pointedElements = elementsFromPoint(event.clientX, event.clientY);\n              pickedSocket = findSocket(this.socketsCache, pointedElements);\n              if (!pickedSocket) {\n                _context.next = 13;\n                break;\n              }\n              event.preventDefault();\n              event.stopPropagation();\n              this.currentFlow = this.currentFlow || this.findPreset(pickedSocket);\n              if (!this.currentFlow) {\n                _context.next = 11;\n                break;\n              }\n              _context.next = 10;\n              return this.currentFlow.pick({\n                socket: pickedSocket,\n                event: type\n              }, flowContext);\n            case 10:\n              this.preudoconnection.mount(this.areaPlugin);\n            case 11:\n              _context.next = 14;\n              break;\n            case 13:\n              if (this.currentFlow) {\n                this.currentFlow.drop(flowContext);\n              }\n            case 14:\n              if (this.currentFlow && !this.currentFlow.getPickedSocket()) {\n                this.preudoconnection.unmount(this.areaPlugin);\n                this.currentFlow = null;\n              }\n              this.update();\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function pick(_x, _x2) {\n        return _pick.apply(this, arguments);\n      }\n      return pick;\n    }()\n  }, {\n    key: \"setParent\",\n    value: function setParent(scope) {\n      var _this2 = this;\n      _superPropGet(ConnectionPlugin, \"setParent\", this, 3)([scope]);\n      this.areaPlugin = this.parentScope(BaseAreaPlugin);\n      this.editor = this.areaPlugin.parentScope(NodeEditor);\n      var pointerdownSocket = function pointerdownSocket(e) {\n        void _this2.pick(e, 'down');\n      };\n      this.addPipe(function (context) {\n        if (!context || _typeof(context) !== 'object' || !('type' in context)) return context;\n        if (context.type === 'pointermove') {\n          _this2.update();\n        } else if (context.type === 'pointerup') {\n          void _this2.pick(context.data.event, 'up');\n        } else if (context.type === 'render') {\n          if (context.data.type === 'socket') {\n            var element = context.data.element;\n            element.addEventListener('pointerdown', pointerdownSocket);\n            _this2.socketsCache.set(element, context.data);\n          }\n        } else if (context.type === 'unmount') {\n          var _element = context.data.element;\n          _element.removeEventListener('pointerdown', pointerdownSocket);\n          _this2.socketsCache[\"delete\"](_element);\n        }\n        return context;\n      });\n    }\n  }]);\n}(Scope);\n\nexport { BidirectFlow, ClassicFlow, ConnectionPlugin, Flow, index as Presets, State, canMakeConnection, createPseudoconnection, getSourceTarget, makeConnection };\n\n"],
  "mappings": "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",
  "names": ["r", "F", "e", "Flow", "State", "t", "_isNativeReflectConstruct", "Picked", "_regeneratorRuntime", "Idle", "BidirectFlow", "PickedExisting", "ClassicFlow", "ConnectionPlugin", "pointerdownSocket"]
}

{
  "version": 3,
  "sources": ["../../../../../node_modules/rete-angular-plugin/fesm2015/rete-angular-plugin.js"],
  "sourcesContent": ["import { __awaiter } from 'tslib';\nimport { getUID, ClassicPreset, Scope } from 'rete';\nimport { getDOMSocketPosition, loopConnectionPath, classicConnectionPath } from 'rete-render-utils';\nimport { Component, ChangeDetectorRef, Input, HostBinding, HostListener, ViewContainerRef, ComponentFactoryResolver, ElementRef, Directive, Pipe, NgModule, EventEmitter, Output } from '@angular/core';\nimport { BaseAreaPlugin } from 'rete-area-plugin';\nimport { CommonModule } from '@angular/common';\nimport { createCustomElement } from '@angular/elements';\n\nclass NodeComponent {\n    constructor(cdr) {\n        this.cdr = cdr;\n        this.seed = 0;\n        this.cdr.detach();\n    }\n    get width() {\n        return this.data.width;\n    }\n    get height() {\n        return this.data.height;\n    }\n    get selected() {\n        return this.data.selected;\n    }\n    ngOnChanges() {\n        this.cdr.detectChanges();\n        requestAnimationFrame(() => this.rendered());\n        this.seed++; // force render sockets\n    }\n    sortByIndex(a, b) {\n        var _a, _b;\n        const ai = ((_a = a.value) === null || _a === void 0 ? void 0 : _a.index) || 0;\n        const bi = ((_b = b.value) === null || _b === void 0 ? void 0 : _b.index) || 0;\n        return ai - bi;\n    }\n}\nNodeComponent.decorators = [\n    { type: Component, args: [{\n                // [component-directive]\n                template: \"<div class=\\\"title\\\" data-testid=\\\"title\\\">{{data.label}}</div>\\n<div class=\\\"output\\\" *ngFor=\\\"let output of data.outputs | keyvalueimpure: sortByIndex\\\" [attr.data-testid]=\\\"'output-'+output.key\\\">\\n    <div class=\\\"output-title\\\" data-testid=\\\"output-title\\\">{{output.value?.label}}</div>\\n    <div\\n        class=\\\"output-socket\\\"\\n        refComponent\\n        [data]=\\\"{type: 'socket', side: 'output', key: output.key, nodeId: data.id, payload: output.value?.socket, seed: seed }\\\"\\n        [emit]=\\\"emit\\\"\\n        data-testid=\\\"output-socket\\\"\\n    ></div>\\n</div>\\n<div\\n    class=\\\"control\\\"\\n    *ngFor=\\\"let control of data.controls | keyvalueimpure: sortByIndex\\\"\\n    refComponent\\n    [data]=\\\"{type: 'control', payload: control.value }\\\"\\n    [emit]=\\\"emit\\\"\\n    [attr.data-testid]=\\\"'control-'+control.key\\\"\\n></div>\\n<div class=\\\"input\\\" *ngFor=\\\"let input of data.inputs | keyvalueimpure: sortByIndex\\\" [attr.data-testid]=\\\"'input-'+input.key\\\">\\n    <div\\n        class=\\\"input-socket\\\"\\n        refComponent\\n        [data]=\\\"{type: 'socket', side: 'input', key: input.key, nodeId: data.id, payload: input.value?.socket, seed: seed }\\\"\\n        [emit]=\\\"emit\\\"\\n        data-testid=\\\"input-socket\\\"\\n    ></div>\\n    <div class=\\\"input-title\\\" data-testid=\\\"input-title\\\" *ngIf=\\\"!input.value?.control || !input.value?.showControl\\\">{{input.value?.label}}</div>\\n    <div\\n        class=\\\"input-control\\\"\\n        [style.display]=\\\"input.value?.control && input.value?.showControl ? '' : 'none'\\\"\\n        refComponent\\n        [data]=\\\"{type: 'control', payload: input.value?.control }\\\"\\n        [emit]=\\\"emit\\\"\\n        data-testid=\\\"input-control\\\"\\n    ></div>\\n</div>\\n\",\n                host: {\n                    'data-testid': 'node'\n                },\n                styles: [\":host{display:block;background:rgba(110,136,255,.8);border:2px solid #4e58bf;border-radius:10px;cursor:pointer;box-sizing:border-box;width:180px;height:auto;padding-bottom:6px;position:relative;-webkit-user-select:none;user-select:none;line-height:initial;font-family:Arial}:host:hover{background:rgba(130,153,255,.8)}:host.selected{background:#ffd92c;border-color:#e3c000}:host .title{color:#fff;font-family:sans-serif;font-size:18px;padding:8px}:host .output{text-align:right}:host .input{text-align:left}:host .input-title,:host .output-title{vertical-align:middle;color:#fff;display:inline-block;font-family:sans-serif;font-size:14px;margin:6px;line-height:24px}:host .input-title[hidden],:host .output-title[hidden]{display:none}:host .output-socket{text-align:right;margin-right:-18px;display:inline-block}:host .input-socket{text-align:left;margin-left:-18px;display:inline-block}:host .input-control{z-index:1;width:calc(100% - 36px);vertical-align:middle;display:inline-block}:host .control{padding:6px 18px}\\n\"]\n            },] }\n];\nNodeComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef }\n];\nNodeComponent.propDecorators = {\n    data: [{ type: Input }],\n    emit: [{ type: Input }],\n    rendered: [{ type: Input }],\n    width: [{ type: HostBinding, args: ['style.width.px',] }],\n    height: [{ type: HostBinding, args: ['style.height.px',] }],\n    selected: [{ type: HostBinding, args: ['class.selected',] }]\n};\n\nclass SocketComponent {\n    constructor(cdr) {\n        this.cdr = cdr;\n        this.cdr.detach();\n    }\n    get title() {\n        return this.data.name;\n    }\n    ngOnChanges() {\n        this.cdr.detectChanges();\n        requestAnimationFrame(() => this.rendered());\n    }\n}\nSocketComponent.decorators = [\n    { type: Component, args: [{\n                template: ``,\n                styles: [\":host{display:inline-block;cursor:pointer;border:1px solid white;border-radius:12px;width:24px;height:24px;margin:6px;vertical-align:middle;background:#96b38a;z-index:2;box-sizing:border-box}:host:hover{border-width:4px}:host.multiple{border-color:#ff0}:host.output{margin-right:-12px}:host.input{margin-left:-12px}\\n\"]\n            },] }\n];\nSocketComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef }\n];\nSocketComponent.propDecorators = {\n    data: [{ type: Input }],\n    rendered: [{ type: Input }],\n    title: [{ type: HostBinding, args: ['title',] }]\n};\n\nclass ControlComponent {\n    constructor(cdr) {\n        this.cdr = cdr;\n        this.cdr.detach();\n    }\n    pointerdown(event) {\n        event.stopPropagation();\n    }\n    ngOnChanges(changes) {\n        const seed = changes['seed'];\n        const data = changes['data'];\n        if ((seed && seed.currentValue !== seed.previousValue)\n            || (data && data.currentValue !== data.previousValue)) {\n            this.cdr.detectChanges();\n        }\n        requestAnimationFrame(() => this.rendered());\n    }\n    onChange(e) {\n        const target = e.target;\n        const value = (this.data.type === 'number'\n            ? +target.value\n            : target.value);\n        this.data.setValue(value);\n        this.cdr.detectChanges();\n    }\n}\nControlComponent.decorators = [\n    { type: Component, args: [{\n                template: \"<input\\n  [value]=\\\"data.value\\\"\\n  [readonly]=\\\"data.readonly\\\"\\n  [type]=\\\"data.type\\\"\\n  (input)=\\\"onChange($event)\\\"\\n/>\\n\",\n                styles: [\"input{width:100%;border-radius:30px;background-color:#fff;padding:2px 6px;border:1px solid #999;font-size:110%;box-sizing:border-box}\\n\"]\n            },] }\n];\nControlComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef }\n];\nControlComponent.propDecorators = {\n    data: [{ type: Input }],\n    rendered: [{ type: Input }],\n    pointerdown: [{ type: HostListener, args: ['pointerdown', ['$event'],] }]\n};\n\nclass ConnectionComponent {\n}\nConnectionComponent.decorators = [\n    { type: Component, args: [{\n                selector: 'connection',\n                template: \"<svg data-testid=\\\"connection\\\">\\n    <path [attr.d]=\\\"path\\\" />\\n</svg>\\n\",\n                styles: [\"svg{overflow:visible!important;position:absolute;pointer-events:none;width:9999px;height:9999px}svg path{fill:none;stroke-width:5px;stroke:#4682b4;pointer-events:auto}\\n\"]\n            },] }\n];\nConnectionComponent.propDecorators = {\n    data: [{ type: Input }],\n    start: [{ type: Input }],\n    end: [{ type: Input }],\n    path: [{ type: Input }]\n};\n\nclass ConnectionWrapperComponent {\n    constructor(cdr, viewContainerRef, componentFactoryResolver) {\n        this.cdr = cdr;\n        this.viewContainerRef = viewContainerRef;\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.startOb = null;\n        this.endOb = null;\n        this.cdr.detach();\n    }\n    get _start() {\n        return 'x' in this.start ? this.start : this.startOb;\n    }\n    get _end() {\n        return 'x' in this.end ? this.end : this.endOb;\n    }\n    ngOnChanges() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.updatePath();\n            requestAnimationFrame(() => this.rendered());\n            this.cdr.detectChanges();\n            this.update();\n        });\n    }\n    updatePath() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._start && this._end) {\n                this._path = yield this.path(this._start, this._end);\n            }\n        });\n    }\n    ngOnInit() {\n        if (typeof this.start === 'function') {\n            this.start((value) => __awaiter(this, void 0, void 0, function* () {\n                this.startOb = value;\n                yield this.updatePath();\n                this.cdr.detectChanges();\n                this.update();\n            }));\n        }\n        if (typeof this.end === 'function') {\n            this.end((value) => __awaiter(this, void 0, void 0, function* () {\n                this.endOb = value;\n                yield this.updatePath();\n                this.cdr.detectChanges();\n                this.update();\n            }));\n        }\n        const componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.connectionComponent);\n        this.viewContainerRef.clear();\n        this.ref = this.viewContainerRef.createComponent(componentFactory);\n        this.update();\n    }\n    update() {\n        this.ref.instance.data = this.data;\n        this.ref.instance.start = this._start;\n        this.ref.instance.end = this._end;\n        this.ref.instance.path = this._path;\n        this.ref.changeDetectorRef.markForCheck();\n    }\n}\nConnectionWrapperComponent.decorators = [\n    { type: Component, args: [{\n                template: ''\n            },] }\n];\nConnectionWrapperComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef },\n    { type: ViewContainerRef },\n    { type: ComponentFactoryResolver }\n];\nConnectionWrapperComponent.propDecorators = {\n    data: [{ type: Input }],\n    start: [{ type: Input }],\n    end: [{ type: Input }],\n    path: [{ type: Input }],\n    rendered: [{ type: Input }],\n    connectionComponent: [{ type: Input }]\n};\n\n/**\n * Classic preset for rendering nodes, connections, controls and sockets.\n */\nfunction setup$3(props) {\n    const positionWatcher = typeof (props === null || props === void 0 ? void 0 : props.socketPositionWatcher) === 'undefined'\n        ? getDOMSocketPosition() // fix Type instantiation is excessively deep and possibly infinite.\n        : props === null || props === void 0 ? void 0 : props.socketPositionWatcher;\n    const { node, connection, socket, control } = (props === null || props === void 0 ? void 0 : props.customize) || {};\n    return {\n        attach(plugin) {\n            positionWatcher.attach(plugin);\n        },\n        update(context) {\n            const data = context.data.payload;\n            if (context.data.type === 'connection') {\n                const { start, end } = context.data;\n                return Object.assign(Object.assign({ data }, (start ? { start } : {})), (end ? { end } : {}));\n            }\n            return { data };\n        },\n        mount(context, plugin) {\n            const parent = plugin.parentScope();\n            const emit = parent.emit.bind(parent);\n            const rendered = () => {\n                emit({ type: 'rendered', data: context.data });\n            };\n            if (context.data.type === 'node') {\n                const component = node ? node(context.data) : NodeComponent;\n                return {\n                    key: `node-${context.data.payload.id}`,\n                    component,\n                    props: {\n                        data: context.data.payload,\n                        emit,\n                        rendered\n                    }\n                };\n            }\n            if (context.data.type === 'connection') {\n                const component = connection ? connection(context.data) : ConnectionComponent;\n                const id = context.data.payload.id;\n                const { sourceOutput, targetInput, source, target } = context.data.payload;\n                const { start, end, payload } = context.data;\n                return {\n                    key: `connection-${id}`,\n                    component: ConnectionWrapperComponent,\n                    props: {\n                        connectionComponent: component,\n                        data: payload,\n                        start: start || ((change) => positionWatcher.listen(source, 'output', sourceOutput, change)),\n                        end: end || ((change) => positionWatcher.listen(target, 'input', targetInput, change)),\n                        path: (start, end) => __awaiter(this, void 0, void 0, function* () {\n                            const response = yield plugin.emit({ type: 'connectionpath', data: { payload, points: [start, end] } });\n                            if (!response)\n                                return '';\n                            const { path, points } = response.data;\n                            const curvature = 0.3;\n                            if (!path && points.length !== 2)\n                                throw new Error('cannot render connection with a custom number of points');\n                            if (!path)\n                                return payload.isLoop\n                                    ? loopConnectionPath(points, curvature, 120)\n                                    : classicConnectionPath(points, curvature);\n                            return path;\n                        }),\n                        rendered\n                    }\n                };\n            }\n            if (context.data.type === 'socket') {\n                const component = socket ? socket(context.data) : SocketComponent;\n                return {\n                    key: `socket-${getUID()}`,\n                    component,\n                    props: {\n                        data: context.data.payload,\n                        rendered\n                    }\n                };\n            }\n            if (context.data.type === 'control') {\n                const component = control\n                    ? control(context.data)\n                    : (context.data.payload instanceof ClassicPreset.InputControl\n                        ? ControlComponent\n                        : null);\n                if (component) {\n                    return {\n                        key: `control-${context.data.payload.id}`,\n                        component,\n                        props: {\n                            data: context.data.payload,\n                            rendered\n                        }\n                    };\n                }\n                return;\n            }\n            return;\n        }\n    };\n}\n\nvar index$4 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    setup: setup$3\n});\n\nfunction debounce(cb) {\n    return {\n        timeout: null,\n        cancel() {\n            if (this.timeout) {\n                window.clearTimeout(this.timeout);\n                this.timeout = null;\n            }\n        },\n        call(delay) {\n            this.timeout = window.setTimeout(() => {\n                cb();\n            }, delay);\n        }\n    };\n}\n\n// [imports]\nclass ContextMenuComponent {\n    constructor(cdr) {\n        this.cdr = cdr;\n        this.filter = '';\n        this.hide = debounce(() => {\n            this.onHide();\n            this.cdr.detectChanges();\n        });\n        this.customAttribute = '';\n        this.cdr.detach();\n    }\n    pointerover() {\n        this.hide.cancel();\n        this.cdr.detectChanges();\n    }\n    pointerleave() {\n        this.hide.call(this.delay);\n        this.cdr.detectChanges();\n    }\n    ngOnChanges() {\n        this.cdr.detectChanges();\n        requestAnimationFrame(() => this.rendered());\n    }\n    setFilter(value) {\n        this.filter = value;\n        this.cdr.detectChanges();\n    }\n    getItems() {\n        const filterRegexp = new RegExp(this.filter, 'i');\n        const filteredList = this.items.filter(item => (item.label.match(filterRegexp)));\n        return filteredList;\n    }\n    ngOnDestroy() {\n        if (this.hide)\n            this.hide.cancel();\n    }\n}\nContextMenuComponent.decorators = [\n    { type: Component, args: [{\n                // [component-directive]\n                template: \"<div class=\\\"block\\\" *ngIf=\\\"searchBar\\\">\\n  <context-menu-search [value]=\\\"filter\\\" (update)=\\\"setFilter($event)\\\"></context-menu-search>\\n</div>\\n\\n<context-menu-item *ngFor=\\\"let item of getItems()\\\" [delay]=\\\"delay\\\" (select)=\\\"item.handler()\\\" [subitems]=\\\"item.subitems\\\"\\n  (hide)=\\\"onHide()\\\">\\n  {{ item.label }}\\n</context-menu-item>\\n\",\n                host: {\n                    'data-testid': 'context-menu'\n                },\n                styles: [\":host{display:block;padding:10px;width:120px;margin-top:-20px;margin-left:-60px}\\n\", \".block{display:block;color:#fff;padding:4px;border-bottom:1px solid rgba(69,103,255,.8);background-color:#6e88ffcc;cursor:pointer;width:100%;position:relative}.block:first-child{border-top-left-radius:5px;border-top-right-radius:5px}.block:last-child{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.block:hover{background-color:#8299ffcc}\\n\"]\n            },] }\n];\nContextMenuComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef }\n];\nContextMenuComponent.propDecorators = {\n    items: [{ type: Input }],\n    delay: [{ type: Input }],\n    searchBar: [{ type: Input }],\n    onHide: [{ type: Input }],\n    rendered: [{ type: Input }],\n    customAttribute: [{ type: HostBinding, args: ['attr.rete-context-menu',] }],\n    pointerover: [{ type: HostListener, args: ['mouseover',] }],\n    pointerleave: [{ type: HostListener, args: ['mouseleave',] }]\n};\n\n/**\n * Preset for rendering context menu.\n */\nfunction setup$2(props) {\n    const delay = typeof (props === null || props === void 0 ? void 0 : props.delay) === 'undefined' ? 1000 : props.delay;\n    return {\n        update(context) {\n            if (context.data.type === 'contextmenu') {\n                return {\n                    items: context.data.items,\n                    delay,\n                    searchBar: context.data.searchBar,\n                    onHide: context.data.onHide\n                };\n            }\n        },\n        mount(context, plugin) {\n            const parent = plugin.parentScope();\n            const emit = parent.emit.bind(parent);\n            const rendered = () => {\n                emit({ type: 'rendered', data: context.data });\n            };\n            if (context.data.type === 'contextmenu') {\n                return {\n                    key: 'context-menu',\n                    component: ContextMenuComponent,\n                    props: {\n                        items: context.data.items,\n                        delay,\n                        searchBar: context.data.searchBar,\n                        onHide: context.data.onHide,\n                        rendered\n                    }\n                };\n            }\n            return null;\n        }\n    };\n}\n\nvar index$3 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    setup: setup$2\n});\n\n// [imports]\nclass MinimapComponent {\n    constructor(el, cdr) {\n        this.el = el;\n        this.cdr = cdr;\n        this.cdr.detach();\n    }\n    get width() {\n        return this.px(this.size * this.ratio);\n    }\n    get height() {\n        return this.px(this.size);\n    }\n    pointerdown(event) {\n        event.stopPropagation();\n        event.preventDefault();\n    }\n    dblclick(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        if (!this.el.nativeElement)\n            return;\n        const box = this.el.nativeElement.getBoundingClientRect();\n        const x = (event.clientX - box.left) / (this.size * this.ratio);\n        const y = (event.clientY - box.top) / (this.size * this.ratio);\n        this.point(x, y);\n    }\n    ngOnChanges() {\n        this.cdr.detectChanges();\n        requestAnimationFrame(() => this.rendered());\n    }\n    px(value) {\n        return `${value}px`;\n    }\n    scale(value) {\n        if (!this.el.nativeElement)\n            return 0;\n        return value * this.el.nativeElement.clientWidth;\n    }\n    identifyMiniNode(_, item) {\n        return [item.top, item.left].join('_');\n    }\n}\nMinimapComponent.decorators = [\n    { type: Component, args: [{\n                // [component-directive]\n                template: \"<minimap-mini-node *ngFor=\\\"let node of nodes; trackBy: identifyMiniNode\\\" [left]=\\\"scale(node.left)\\\"\\n  [top]=\\\"scale(node.top)\\\" [width]=\\\"scale(node.width)\\\" [height]=\\\"scale(node.height)\\\">\\n\\n</minimap-mini-node>\\n<minimap-mini-viewport [left]=\\\"viewport.left\\\" [top]=\\\"viewport.top\\\" [width]=\\\"viewport.width\\\" [height]=\\\"viewport.height\\\"\\n  [containerWidth]=\\\"el.nativeElement?.clientWidth\\\" [translate]=\\\"translate\\\"></minimap-mini-viewport>\\n\",\n                host: {\n                    'data-testid': 'minimap'\n                },\n                styles: [\":host{position:absolute;right:24px;bottom:24px;background:rgba(229,234,239,.65);padding:20px;overflow:hidden;border:1px solid #b1b7ff;border-radius:8px;box-sizing:border-box}\\n\"]\n            },] }\n];\nMinimapComponent.ctorParameters = () => [\n    { type: ElementRef },\n    { type: ChangeDetectorRef }\n];\nMinimapComponent.propDecorators = {\n    rendered: [{ type: Input }],\n    size: [{ type: Input }],\n    ratio: [{ type: Input }],\n    nodes: [{ type: Input }],\n    viewport: [{ type: Input }],\n    translate: [{ type: Input }],\n    point: [{ type: Input }],\n    width: [{ type: HostBinding, args: ['style.width',] }],\n    height: [{ type: HostBinding, args: ['style.height',] }],\n    pointerdown: [{ type: HostListener, args: ['pointerdown', ['$event'],] }],\n    dblclick: [{ type: HostListener, args: ['dblclick', ['$event'],] }]\n};\n\n/**\n * Preset for rendering minimap.\n */\nfunction setup$1(props) {\n    return {\n        update(context) {\n            if (context.data.type === 'minimap') {\n                return {\n                    nodes: context.data.nodes,\n                    size: (props === null || props === void 0 ? void 0 : props.size) || 200,\n                    ratio: context.data.ratio,\n                    viewport: context.data.viewport,\n                    translate: context.data.translate,\n                    point: context.data.point\n                };\n            }\n            return null;\n        },\n        mount(context, plugin) {\n            const parent = plugin.parentScope();\n            const emit = parent.emit.bind(parent);\n            const rendered = () => {\n                emit({ type: 'rendered', data: context.data });\n            };\n            if (context.data.type === 'minimap') {\n                return {\n                    key: 'rete-minimap',\n                    component: MinimapComponent,\n                    props: {\n                        nodes: context.data.nodes,\n                        size: (props === null || props === void 0 ? void 0 : props.size) || 200,\n                        ratio: context.data.ratio,\n                        viewport: context.data.viewport,\n                        translate: context.data.translate,\n                        point: context.data.point,\n                        rendered\n                    }\n                };\n            }\n            return null;\n        }\n    };\n}\n\nvar index$2 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    setup: setup$1\n});\n\n// [imports]\nclass PinsComponent {\n    constructor(cdr) {\n        this.cdr = cdr;\n        this.cdr.detach();\n    }\n    ngOnChanges() {\n        this.cdr.detectChanges();\n        requestAnimationFrame(() => this.rendered());\n    }\n    track(_, item) {\n        return item.id;\n    }\n}\nPinsComponent.decorators = [\n    { type: Component, args: [{\n                // [component-directive]\n                template: \"<reroute-pin *ngFor=\\\"let pin of pins; trackBy: track\\\" [position]=\\\"pin.position\\\" [selected]=\\\"pin.selected\\\"\\n  (menu)=\\\"menu && menu(pin.id)\\\" (translate)=\\\"translate && translate(pin.id, $event.dx, $event.dy)\\\"\\n  (down)=\\\"down && down(pin.id)\\\" [getPointer]=\\\"getPointer\\\"></reroute-pin>\\n\"\n            },] }\n];\nPinsComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef }\n];\nPinsComponent.propDecorators = {\n    rendered: [{ type: Input }],\n    pins: [{ type: Input }],\n    down: [{ type: Input }],\n    translate: [{ type: Input }],\n    menu: [{ type: Input }],\n    getPointer: [{ type: Input }]\n};\n\n/**\n * Preset for rendering pins.\n */\nfunction setup(props) {\n    const getProps = () => ({\n        menu: (props === null || props === void 0 ? void 0 : props.contextMenu) || (() => null),\n        translate: (props === null || props === void 0 ? void 0 : props.translate) || (() => null),\n        down: (props === null || props === void 0 ? void 0 : props.pointerdown) || (() => null)\n    });\n    return {\n        update(context) {\n            if (context.data.type === 'reroute-pins') {\n                return Object.assign(Object.assign({}, getProps()), { pins: context.data.data.pins });\n            }\n            return null;\n        },\n        mount(context, plugin) {\n            const area = plugin.parentScope(BaseAreaPlugin);\n            const rendered = () => {\n                area.emit({ type: 'rendered', data: context.data });\n            };\n            if (context.data.type === 'reroute-pins') {\n                return {\n                    key: 'rete-reroute',\n                    component: PinsComponent,\n                    props: Object.assign(Object.assign({}, getProps()), { pins: context.data.data.pins, rendered, getPointer: () => area.area.pointer })\n                };\n            }\n            return null;\n        }\n    };\n}\n\nvar index$1 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    setup: setup\n});\n\nvar index = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    classic: index$4,\n    contextMenu: index$3,\n    minimap: index$2,\n    reroute: index$1\n});\n\nclass RefDirective {\n    constructor(el) {\n        this.el = el;\n    }\n    ngOnChanges() {\n        this.emit({ type: 'render', data: Object.assign(Object.assign({}, this.data), { element: this.el.nativeElement }) });\n    }\n    ngOnDestroy() {\n        this.emit({ type: 'unmount', data: { element: this.el.nativeElement } });\n    }\n}\nRefDirective.decorators = [\n    { type: Directive, args: [{\n                selector: '[refComponent]'\n            },] }\n];\nRefDirective.ctorParameters = () => [\n    { type: ElementRef }\n];\nRefDirective.propDecorators = {\n    data: [{ type: Input }],\n    emit: [{ type: Input }]\n};\n\nclass ImpureKeyvaluePipe {\n    transform(value, compareFn) {\n        if (!value || typeof value !== 'object') {\n            return [];\n        }\n        const result = Object.entries(value).map(([key, val]) => ({ key, value: val }));\n        if (compareFn) {\n            result.sort(compareFn);\n        }\n        return result;\n    }\n}\nImpureKeyvaluePipe.decorators = [\n    { type: Pipe, args: [{\n                name: 'keyvalueimpure',\n                pure: false\n            },] }\n];\n\nclass ReteModule {\n}\nReteModule.decorators = [\n    { type: NgModule, args: [{\n                declarations: [\n                    RefDirective,\n                    NodeComponent,\n                    ConnectionComponent,\n                    ConnectionWrapperComponent,\n                    SocketComponent,\n                    ControlComponent,\n                    ImpureKeyvaluePipe\n                ],\n                imports: [\n                    CommonModule\n                ],\n                exports: [\n                    RefDirective,\n                    NodeComponent,\n                    ConnectionComponent,\n                    ConnectionWrapperComponent,\n                    SocketComponent,\n                    ControlComponent,\n                    ImpureKeyvaluePipe\n                ],\n                entryComponents: [\n                    NodeComponent,\n                    ConnectionComponent,\n                    ConnectionWrapperComponent,\n                    SocketComponent,\n                    ControlComponent\n                ]\n            },] }\n];\n\nclass ContextMenuSearchComponent {\n    constructor() {\n        this.update = new EventEmitter();\n    }\n}\nContextMenuSearchComponent.decorators = [\n    { type: Component, args: [{\n                selector: 'context-menu-search',\n                template: \"<input class=\\\"search\\\" [value]=\\\"value\\\" (input)=\\\"update.emit($any($event.target)?.value || '')\\\"\\n  data-testid=\\\"context-menu-search-input\\\" />\\n\",\n                styles: [\".search{color:#fff;padding:1px 8px;border:1px solid white;border-radius:10px;font-size:16px;font-family:serif;width:100%;box-sizing:border-box;background:transparent}\\n\"]\n            },] }\n];\nContextMenuSearchComponent.propDecorators = {\n    value: [{ type: Input }],\n    update: [{ type: Output }]\n};\n\n// [imports]\nclass ContextMenuItemComponent {\n    constructor(cdr) {\n        this.cdr = cdr;\n        this.select = new EventEmitter();\n        this.hide = new EventEmitter();\n        this.hideSubitems = debounce(() => {\n            this.visibleSubitems = false;\n            this.cdr.detectChanges();\n        });\n        this.visibleSubitems = false;\n        this.cdr.detach();\n    }\n    get block() { return true; }\n    get hasSubitems() { return this.subitems; }\n    click(event) {\n        event.stopPropagation();\n        this.select.emit();\n        this.hide.emit();\n    }\n    pointerdown(event) {\n        event.stopPropagation();\n    }\n    wheel(event) {\n        event.stopPropagation();\n    }\n    pointerover() {\n        this.hideSubitems.cancel();\n        this.visibleSubitems = true;\n        this.cdr.detectChanges();\n    }\n    pointerleave() {\n        this.hideSubitems.call(this.delay);\n        this.cdr.detectChanges();\n    }\n}\nContextMenuItemComponent.decorators = [\n    { type: Component, args: [{\n                // [component-directive]\n                selector: 'context-menu-item',\n                template: \"<ng-content></ng-content>\\n<div class=\\\"subitems\\\" *ngIf=\\\"subitems && visibleSubitems\\\">\\n  <context-menu-item *ngFor=\\\"let item of subitems\\\" [delay]=\\\"delay\\\" (select)=\\\"item.handler()\\\" (hide)=\\\"hide.emit()\\\">\\n    {{ item.label }}\\n  </context-menu-item>\\n</div>\\n\",\n                host: {\n                    'data-testid': 'context-menu-item'\n                },\n                styles: [\"@charset \\\"UTF-8\\\";:host(.hasSubitems):after{content:\\\"\\\\25ba\\\";position:absolute;opacity:.6;right:5px;top:5px;font-family:initial}.subitems{position:absolute;top:0;left:100%;width:120px}\\n\", \".block{display:block;color:#fff;padding:4px;border-bottom:1px solid rgba(69,103,255,.8);background-color:#6e88ffcc;cursor:pointer;width:100%;position:relative}.block:first-child{border-top-left-radius:5px;border-top-right-radius:5px}.block:last-child{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.block:hover{background-color:#8299ffcc}\\n\"]\n            },] }\n];\nContextMenuItemComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef }\n];\nContextMenuItemComponent.propDecorators = {\n    subitems: [{ type: Input }],\n    delay: [{ type: Input }],\n    select: [{ type: Output }],\n    hide: [{ type: Output }],\n    block: [{ type: HostBinding, args: ['class.block',] }],\n    hasSubitems: [{ type: HostBinding, args: ['class.hasSubitems',] }],\n    click: [{ type: HostListener, args: ['click', ['$event'],] }],\n    pointerdown: [{ type: HostListener, args: ['pointerdown', ['$event'],] }],\n    wheel: [{ type: HostListener, args: ['wheel', ['$event'],] }],\n    pointerover: [{ type: HostListener, args: ['pointerover',] }],\n    pointerleave: [{ type: HostListener, args: ['pointerleave',] }]\n};\n\nclass ReteContextMenuModule {\n}\nReteContextMenuModule.decorators = [\n    { type: NgModule, args: [{\n                declarations: [\n                    ContextMenuComponent,\n                    ContextMenuSearchComponent,\n                    ContextMenuItemComponent\n                ],\n                imports: [\n                    CommonModule\n                ],\n                exports: [\n                    ContextMenuComponent,\n                    ContextMenuSearchComponent,\n                    ContextMenuItemComponent,\n                ],\n                entryComponents: [\n                    ContextMenuComponent\n                ]\n            },] }\n];\n\nfunction useDrag(translate, getPointer) {\n    return {\n        start(e) {\n            let previous = Object.assign({}, getPointer(e));\n            function move(moveEvent) {\n                const current = Object.assign({}, getPointer(moveEvent));\n                const dx = current.x - previous.x;\n                const dy = current.y - previous.y;\n                previous = current;\n                translate(dx, dy);\n            }\n            function up() {\n                window.removeEventListener('pointermove', move);\n                window.removeEventListener('pointerup', up);\n                window.removeEventListener('pointercancel', up);\n            }\n            window.addEventListener('pointermove', move);\n            window.addEventListener('pointerup', up);\n            window.addEventListener('pointercancel', up);\n        }\n    };\n}\n\nclass MiniViewportComponent {\n    constructor() {\n        this.drag = useDrag((dx, dy) => this.onDrag(dx, dy), e => ({ x: e.pageX, y: e.pageY }));\n    }\n    get styleLeft() {\n        return this.px(this.scale(this.left));\n    }\n    get styleTop() {\n        return this.px(this.scale(this.top));\n    }\n    get styleWidth() {\n        return this.px(this.scale(this.width));\n    }\n    get styleHeight() {\n        return this.px(this.scale(this.height));\n    }\n    pointerdown(event) {\n        event.stopPropagation();\n        this.drag.start(event);\n    }\n    px(value) {\n        return `${value}px`;\n    }\n    scale(v) {\n        return v * this.containerWidth;\n    }\n    invert(v) {\n        return v / this.containerWidth;\n    }\n    onDrag(dx, dy) {\n        this.translate(this.invert(-dx), this.invert(-dy));\n    }\n}\nMiniViewportComponent.decorators = [\n    { type: Component, args: [{\n                selector: 'minimap-mini-viewport',\n                template: \"\",\n                host: {\n                    'data-testid': 'minimap-viewport'\n                },\n                styles: [\":host{display:block;position:absolute;background:rgba(255,251,128,.32);border:1px solid #ffe52b}\\n\"]\n            },] }\n];\nMiniViewportComponent.propDecorators = {\n    left: [{ type: Input }],\n    top: [{ type: Input }],\n    width: [{ type: Input }],\n    height: [{ type: Input }],\n    containerWidth: [{ type: Input }],\n    translate: [{ type: Input }],\n    styleLeft: [{ type: HostBinding, args: ['style.left',] }],\n    styleTop: [{ type: HostBinding, args: ['style.top',] }],\n    styleWidth: [{ type: HostBinding, args: ['style.width',] }],\n    styleHeight: [{ type: HostBinding, args: ['style.height',] }],\n    pointerdown: [{ type: HostListener, args: ['pointerdown', ['$event'],] }]\n};\n\nclass MiniNodeComponent {\n    get styleLeft() {\n        return this.px(this.left);\n    }\n    get styleTop() {\n        return this.px(this.top);\n    }\n    get styleWidth() {\n        return this.px(this.width);\n    }\n    get styleHeight() {\n        return this.px(this.height);\n    }\n    px(value) {\n        return `${value}px`;\n    }\n}\nMiniNodeComponent.decorators = [\n    { type: Component, args: [{\n                selector: 'minimap-mini-node',\n                template: \"\",\n                host: {\n                    'data-testid': 'minimap-node'\n                },\n                styles: [\":host{display:block;position:absolute;background:rgba(110,136,255,.8);border:1px solid rgba(192,206,212,.6)}\\n\"]\n            },] }\n];\nMiniNodeComponent.propDecorators = {\n    left: [{ type: Input }],\n    top: [{ type: Input }],\n    width: [{ type: Input }],\n    height: [{ type: Input }],\n    styleLeft: [{ type: HostBinding, args: ['style.left',] }],\n    styleTop: [{ type: HostBinding, args: ['style.top',] }],\n    styleWidth: [{ type: HostBinding, args: ['style.width',] }],\n    styleHeight: [{ type: HostBinding, args: ['style.height',] }]\n};\n\nclass ReteMinimapModule {\n}\nReteMinimapModule.decorators = [\n    { type: NgModule, args: [{\n                declarations: [\n                    MinimapComponent,\n                    MiniViewportComponent,\n                    MiniNodeComponent\n                ],\n                imports: [\n                    CommonModule\n                ],\n                exports: [\n                    MinimapComponent,\n                    MiniViewportComponent,\n                    MiniNodeComponent\n                ],\n                entryComponents: [\n                    MinimapComponent\n                ]\n            },] }\n];\n\nconst pinSize = 20;\nclass PinComponent {\n    constructor(cdr) {\n        this.cdr = cdr;\n        this.menu = new EventEmitter();\n        this.translate = new EventEmitter();\n        this.down = new EventEmitter();\n        this.drag = useDrag((dx, dy) => {\n            this.translate.emit({ dx, dy });\n        }, () => this.getPointer());\n        // this.cdr.detach()\n    }\n    get _selected() {\n        return this.selected;\n    }\n    get top() {\n        return `${this.position.y - pinSize / 2}px`;\n    }\n    get left() {\n        return `${this.position.x - pinSize / 2}px`;\n    }\n    pointerdown(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        this.drag.start(event);\n        this.down.emit();\n    }\n    contextmenu(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        this.menu.emit();\n    }\n    ngOnChanges() {\n        // this.cdr.detectChanges()\n        // requestAnimationFrame(() => this.rendered())\n    }\n}\nPinComponent.decorators = [\n    { type: Component, args: [{\n                selector: 'reroute-pin',\n                template: '',\n                host: {\n                    'data-testid': 'pin'\n                },\n                styles: [\":host{display:block;width:20px;height:20px;box-sizing:border-box;background:steelblue;border:2px solid white;border-radius:20px;position:absolute}:host.selected{background:#ffd92c}\\n\"]\n            },] }\n];\nPinComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef }\n];\nPinComponent.propDecorators = {\n    position: [{ type: Input }],\n    selected: [{ type: Input }],\n    getPointer: [{ type: Input }],\n    menu: [{ type: Output }],\n    translate: [{ type: Output }],\n    down: [{ type: Output }],\n    _selected: [{ type: HostBinding, args: ['class.selected',] }],\n    top: [{ type: HostBinding, args: ['style.top',] }],\n    left: [{ type: HostBinding, args: ['style.left',] }],\n    pointerdown: [{ type: HostListener, args: ['pointerdown', ['$event'],] }],\n    contextmenu: [{ type: HostListener, args: ['contextmenu', ['$event'],] }]\n};\n\nclass ReteRerouteModule {\n}\nReteRerouteModule.decorators = [\n    { type: NgModule, args: [{\n                declarations: [\n                    PinsComponent,\n                    PinComponent,\n                ],\n                imports: [\n                    CommonModule\n                ],\n                exports: [\n                    PinsComponent,\n                    PinComponent,\n                ],\n                entryComponents: [\n                    PinsComponent\n                ]\n            },] }\n];\n\nfunction reflect(obj) {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n    return new Proxy(obj, {\n        get(target, prop) {\n            return target[prop];\n        },\n        set(target, prop, value) {\n            target[prop] = value;\n            return true;\n        },\n        has: (target, prop) => prop in target,\n        deleteProperty: (target, prop) => delete target[prop],\n        ownKeys: target => Reflect.ownKeys(target)\n    });\n}\n\nfunction getRenderer() {\n    const elements = new WeakMap();\n    return {\n        get(element) {\n            return elements.get(element);\n        },\n        mount(element, key, component, injector, props) {\n            // LIMITATION: If an element is remounted with the same identifier, the component cannot be replaced\n            let CustomElement = customElements.get(key);\n            if (!CustomElement) {\n                CustomElement = createCustomElement(component, { injector });\n                customElements.define(key, CustomElement);\n            }\n            const ngElement = new CustomElement(injector);\n            Object.keys(props).forEach(key => {\n                ngElement[key] = props[key];\n            });\n            element.appendChild(ngElement);\n            elements.set(element, { key, ngElement });\n        },\n        update({ ngElement }, props) {\n            Object.keys(props).forEach(key => {\n                ngElement.ngElementStrategy.setInputValue(key, reflect(props[key]));\n            });\n        },\n        unmount(element) {\n            const existing = elements.get(element);\n            if (existing) {\n                existing.ngElement.remove();\n                elements.delete(element);\n            }\n        }\n    };\n}\n/**\n * Angular plugin. Renders nodes, connections and other elements using React.\n * @priority 9\n * @emits connectionpath\n * @listens render\n * @listens unmount\n */\nclass AngularPlugin extends Scope {\n    /**\n     * @constructor\n     * @param params Plugin properties\n     * @param params.injector Angular's Injector instance\n     */\n    constructor(params) {\n        super('angular-render');\n        this.params = params;\n        this.presets = [];\n        this.owners = new WeakMap();\n        this.renderer = getRenderer();\n        this.addPipe(context => {\n            if (!context || typeof context !== 'object' || !('type' in context))\n                return context;\n            if (context.type === 'unmount') {\n                this.unmount(context.data.element);\n            }\n            else if (context.type === 'render') {\n                if ('filled' in context.data && context.data.filled) {\n                    return context;\n                }\n                if (this.mount(context.data.element, context)) {\n                    return Object.assign(Object.assign({}, context), { data: Object.assign(Object.assign({}, context.data), { filled: true }) });\n                }\n            }\n            return context;\n        });\n    }\n    setParent(scope) {\n        super.setParent(scope);\n        this.presets.forEach(preset => {\n            if (preset.attach)\n                preset.attach(this);\n        });\n    }\n    unmount(element) {\n        this.owners.delete(element);\n        this.renderer.unmount(element);\n    }\n    mount(element, context) {\n        const existing = this.renderer.get(element);\n        if (existing) {\n            this.presets.forEach(preset => {\n                if (this.owners.get(element) !== preset)\n                    return;\n                const result = preset.update(context, this);\n                if (result) {\n                    this.renderer.update(existing, result);\n                }\n            });\n            return true;\n        }\n        for (const preset of this.presets) {\n            const result = preset.mount(context, this);\n            if (!result)\n                continue;\n            const { key, component, props } = result;\n            this.renderer.mount(element, key, component, this.params.injector, props);\n            this.owners.set(element, preset);\n            return true;\n        }\n        return;\n    }\n    /**\n     * Adds a preset to the plugin.\n     * @param preset Preset that can render nodes, connections and other elements.\n     */\n    addPreset(preset) {\n        const local = preset;\n        if (local.attach)\n            local.attach(this);\n        this.presets.push(local);\n    }\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AngularPlugin, ConnectionComponent, ConnectionWrapperComponent, ContextMenuComponent, ContextMenuItemComponent, ContextMenuSearchComponent, ControlComponent, ImpureKeyvaluePipe, MiniNodeComponent, MiniViewportComponent, MinimapComponent, NodeComponent, PinComponent, PinsComponent, index as Presets, RefDirective, ReteContextMenuModule, ReteMinimapModule, ReteModule, ReteRerouteModule, SocketComponent, NodeComponent as ɵa, ConnectionComponent as ɵb, ConnectionWrapperComponent as ɵc, SocketComponent as ɵd, ControlComponent as ɵe, ImpureKeyvaluePipe as ɵf, ContextMenuComponent as ɵg, ContextMenuSearchComponent as ɵh, ContextMenuItemComponent as ɵi, MinimapComponent as ɵj, MiniViewportComponent as ɵk, MiniNodeComponent as ɵl, PinsComponent as ɵm, PinComponent as ɵn };\n\n"],
  "mappings": "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",
  "names": ["start", "end", "key"]
}
